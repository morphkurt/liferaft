(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"003c":function(e,t,n){},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0b25":function(e,t,n){var r=n("a691"),i=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"0d3b":function(e,t,n){var r=n("d039"),i=n("b622"),a=n("c430"),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),h=[].push,p=Math.min,g=4294967295,m=!d((function(){return!RegExp(g,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var s,u,c,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,d+"g");while(s=f.call(m,r)){if(u=m.lastIndex,u>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&h.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===r.length?!c&&m.test("")||l.push(""):l.push(r.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var f=a(e),d=String(this),h=s(f,RegExp),v=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),y=new h(m?f:"^(?:"+f.source+")",b),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===d.length)return null===l(y,d)?[d]:[];var S=0,T=0,E=[];while(T<d.length){y.lastIndex=m?T:0;var x,k=l(y,m?d:d.slice(T));if(null===k||(x=p(c(y.lastIndex+(m?0:T)),d.length))===S)T=u(d,T,v);else{if(E.push(d.slice(S,T)),E.length===w)return E;for(var A=1;A<=k.length-1;A++)if(E.push(k[A]),E.length===w)return E;T=S=x}}return E.push(d.slice(S)),E}]}),!m)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,a=n("a640"),o=n("ae40"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"143c":function(e,t,n){var r=n("74e8");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"145e":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4"),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),u=i(e,s),c=i(t,s),l=arguments.length>2?arguments[2]:void 0,f=o((void 0===l?s:i(l,s))-c,s-u),d=1;c<u&&u<c+f&&(d=-1,c+=f-1,u+=f-1);while(f-- >0)c in n?n[u]=n[c]:delete n[u],u+=d,c+=d;return n}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(l){c.forEach=a}}},"170b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("23cb"),o=n("4840"),s=r.aTypedArray,u=r.exportTypedArrayMethod;u("subarray",(function(e,t){var n=s(this),r=n.length,u=a(e,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-u))}))},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=n("ae40"),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"182d":function(e,t,n){var r=n("f8cd");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},"1b05":function(e,t,n){"use strict";var r=n("e04d"),i=n.n(r);i.a},"219c":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(i(this),e)}))},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").right,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(l||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2954:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4840"),a=n("d039"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice,l=a((function(){new Int8Array(1).slice()}));u("slice",(function(e,t){var n=c.call(o(this),e,t),r=i(this,this.constructor),a=0,u=n.length,l=new(s(r))(u);while(u>a)l[a]=n[a++];return l}),l)},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,i=n("23e7"),a=n("83ab"),o=n("0d3b"),s=n("da84"),u=n("37e8"),c=n("6eeb"),l=n("19aa"),f=n("5135"),d=n("60da"),h=n("4df4"),p=n("6547").codeAt,g=n("5fb2"),m=n("d44e"),v=n("9861"),b=n("69f3"),y=s.URL,w=v.URLSearchParams,S=v.getState,T=b.set,E=b.getterFor("URL"),x=Math.floor,k=Math.pow,A="Invalid authority",I="Invalid scheme",M="Invalid host",C="Invalid port",P=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,D=/\d/,N=/^(0x|0X)/,O=/^[0-7]+$/,L=/^\d+$/,j=/^[\dA-Fa-f]+$/,_=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,U=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,K=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(n=H(t.slice(1,-1)),!n)return M;e.host=n}else if(Q(e)){if(t=g(t),_.test(t))return M;if(n=V(t),null===n)return M;e.host=n}else{if(U.test(t))return M;for(n="",r=h(t),i=0;i<r.length;i++)n+=Y(r[i],q);e.host=n}},V=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=N.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?L:8==a?O:j).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=k(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*k(256,3-r);return s},H=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c++,l=c}while(d()){if(8==c)return;if(":"!=d()){t=n=0;while(n<4&&j.test(d()))t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;r=0;while(d()){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!D.test(d()))return;while(D.test(d())){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[c]=256*u[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!=c&&o>0)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s}else if(8!=c)return;return u},G=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},W=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=G(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},J=d({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),z=d({},J,{"#":1,"?":1,"{":1,"}":1}),X=d({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return f($,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},ce={},le={},fe={},de={},he={},pe={},ge={},me={},ve={},be={},ye={},we={},Se={},Te={},Ee={},xe={},ke={},Ae={},Ie=function(e,t,n,i){var a,o,s,u,c=n||oe,l=0,d="",p=!1,g=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(B,"")),t=t.replace(K,""),a=h(t);while(l<=a.length){switch(o=a[l],c){case oe:if(!o||!P.test(o)){if(n)return I;c=ue;continue}d+=o.toLowerCase(),c=se;break;case se:if(o&&(R.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return I;d="",c=ue,l=0;continue}if(n&&(Q(e)!=f($,d)||"file"==d&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(Q(e)&&$[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=ye:Q(e)&&i&&i.scheme==e.scheme?c=ce:Q(e)?c=he:"/"==a[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=xe)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return I;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ae;break}c="file"==i.scheme?ye:fe;continue;case ce:if("/"!=o||"/"!=a[l+1]){c=fe;continue}c=pe,l++;break;case le:if("/"==o){c=ge;break}c=Ee;continue;case fe:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Q(e))c=de;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Ee;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Ae}break;case de:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Ee;continue}c=ge}else c=pe;break;case he:if(c=pe,"/"!=o||"/"!=d.charAt(l+1))continue;l++;break;case pe:if("/"!=o&&"\\"!=o){c=ge;continue}break;case ge:if("@"==o){p&&(d="%40"+d),p=!0,s=h(d);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var y=Y(b,X);m?e.password+=y:e.username+=y}else m=!0}d=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(p&&""==d)return A;l-=h(d).length+1,d="",c=me}else d+=o;break;case me:case ve:if(n&&"file"==e.scheme){c=Se;continue}if(":"!=o||g){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==d)return M;if(n&&""==d&&(Z(e)||null!==e.port))return;if(u=F(e,d),u)return u;if(d="",c=Te,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return M;if(u=F(e,d),u)return u;if(d="",c=be,n==ve)return}break;case be:if(!D.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=d){var w=parseInt(d,10);if(w>65535)return C;e.port=Q(e)&&w===$[e.scheme]?null:w,d=""}if(n)return;c=Te;continue}return C}d+=o;break;case ye:if(e.scheme="file","/"==o||"\\"==o)c=we;else{if(!i||"file"!=i.scheme){c=Ee;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",c=ke;else{if("#"!=o){ne(a.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),c=Ee;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Ae}}break;case we:if("/"==o||"\\"==o){c=Se;break}i&&"file"==i.scheme&&!ne(a.slice(l).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Ee;continue;case Se:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(d))c=Ee;else if(""==d){if(e.host="",n)return;c=Te}else{if(u=F(e,d),u)return u;if("localhost"==e.host&&(e.host=""),n)return;d="",c=Te}continue}d+=o;break;case Te:if(Q(e)){if(c=Ee,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(c=Ee,"/"!=o))continue}else e.fragment="",c=Ae;else e.query="",c=ke;break;case Ee:if(o==r||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(ae(d)?(re(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):ie(d)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=ke):"#"==o&&(e.fragment="",c=Ae)}else d+=Y(o,z);break;case xe:"?"==o?(e.query="",c=ke):"#"==o?(e.fragment="",c=Ae):o!=r&&(e.path[0]+=Y(o,q));break;case ke:n||"#"!=o?o!=r&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":Y(o,q)):(e.fragment="",c=Ae);break;case Ae:o!=r&&(e.fragment+=Y(o,J));break}l++}},Me=function(e){var t,n,r=l(this,Me,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=T(r,{type:"URL"});if(void 0!==i)if(i instanceof Me)t=E(i);else if(n=Ie(t={},String(i)),n)throw TypeError(n);if(n=Ie(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new w,c=S(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(r.href=Pe.call(r),r.origin=Re.call(r),r.protocol=De.call(r),r.username=Ne.call(r),r.password=Oe.call(r),r.host=Le.call(r),r.hostname=je.call(r),r.port=_e.call(r),r.pathname=Ue.call(r),r.search=Be.call(r),r.searchParams=Ke.call(r),r.hash=Fe.call(r))},Ce=Me.prototype,Pe=function(){var e=E(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",Z(e)&&(c+=n+(r?":"+r:"")+"@"),c+=W(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Re=function(){var e=E(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Q(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},De=function(){return E(this).scheme+":"},Ne=function(){return E(this).username},Oe=function(){return E(this).password},Le=function(){var e=E(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},je=function(){var e=E(this).host;return null===e?"":W(e)},_e=function(){var e=E(this).port;return null===e?"":String(e)},Ue=function(){var e=E(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=E(this).query;return e?"?"+e:""},Ke=function(){return E(this).searchParams},Fe=function(){var e=E(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ce,{href:Ve(Pe,(function(e){var t=E(this),n=String(e),r=Ie(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Re),protocol:Ve(De,(function(e){var t=E(this);Ie(t,String(e)+":",oe)})),username:Ve(Ne,(function(e){var t=E(this),n=h(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Y(n[r],X)}})),password:Ve(Oe,(function(e){var t=E(this),n=h(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Y(n[r],X)}})),host:Ve(Le,(function(e){var t=E(this);t.cannotBeABaseURL||Ie(t,String(e),me)})),hostname:Ve(je,(function(e){var t=E(this);t.cannotBeABaseURL||Ie(t,String(e),ve)})),port:Ve(_e,(function(e){var t=E(this);ee(t)||(e=String(e),""==e?t.port=null:Ie(t,e,be))})),pathname:Ve(Ue,(function(e){var t=E(this);t.cannotBeABaseURL||(t.path=[],Ie(t,e+"",Te))})),search:Ve(Be,(function(e){var t=E(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ie(t,e,ke)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(Ke),hash:Ve(Fe,(function(e){var t=E(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ie(t,e,Ae)):t.fragment=null}))}),c(Ce,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),c(Ce,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),y){var He=y.createObjectURL,Ge=y.revokeObjectURL;He&&c(Me,"createObjectURL",(function(e){return He.apply(y,arguments)})),Ge&&c(Me,"revokeObjectURL",(function(e){return Ge.apply(y,arguments)}))}m(Me,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Me})},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,f=Math.min,d=u("startsWith"),h=!c&&!d&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!d},{startsWith:function(e){var t=String(s(this));o(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},3280:function(e,t,n){"use strict";var r=n("ebb5"),i=n("e58c"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},3314:function(e,t,n){},"3a7b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").findIndex,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("182d"),o=n("7b0b"),s=n("d039"),u=r.aTypedArray,c=r.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));c("set",(function(e){u(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(e),s=i(r.length),c=0;if(s+t>n)throw RangeError("Wrong length");while(c<s)this[t+c]=r[c++]}),l)},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),a=n("7dd0"),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f2b":function(e,t,n){(function(r){var i;n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a623"),n("cb29"),n("4de4"),n("7db0"),n("c740"),n("5db7"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("a434"),n("73d9"),n("c19f"),n("b0c0"),n("4ec9"),n("a9e3"),n("9129"),n("b680"),n("dca8"),n("e439"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("5377"),n("25f0"),n("6062"),n("8a79"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("84c3"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s={};(function(e){var t,n,i,u,c,l,f,d,h,p,g,m,v,b,y,w,S,T,E,x,k,A,I,M,C,P,R,D,N,O,L,j,_,U,B,K,F,V,H,G,W,q,J,z,X,Y,$,Q,Z,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ge,me,ve,be,ye,we,Se,Te,Ee,xe,ke,Ae,Ie,Me,Ce,Pe,Re,De,Ne,Oe,Le,je,_e,Ue,Be,Ke,Fe,Ve,He,Ge,We,qe,Je,ze,Xe,Ye,$e,Qe,Ze,et,tt,nt,rt,it,at,ot,st,ut,ct,lt,ft,dt,ht,pt,gt,mt,vt,bt,yt,wt,St,Tt,Et,xt,kt,At,It,Mt,Ct,Pt,Rt,Dt,Nt,Ot,Lt,jt,_t,Ut,Bt,Kt,Ft,Vt,Ht,Gt,Wt,qt,Jt,zt,Xt,Yt,$t,Qt,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,fn,dn,hn,pn,gn,mn,vn,bn,yn,wn,Sn,Tn,En,xn,kn,An,In,Mn,Cn,Pn,Rn,Dn,Nn,On,Ln,jn,_n,Un,Bn,Kn,Fn,Vn,Hn,Gn,Wn,qn,Jn,zn,Xn,Yn,$n,Qn,Zn,er,tr,nr,rr,ir,ar,or,sr,ur,cr,lr,fr,dr,hr,pr,gr,mr,vr,br,yr,wr,Sr,Tr,Er,xr,kr,Ar,Ir,Mr,Cr,Pr,Rr,Dr,Nr,Or,Lr,jr,_r,Ur,Br,Kr,Fr,Vr,Hr,Gr,Wr,qr,Jr,zr,Xr,Yr,$r,Qr,Zr,ei,ti,ni,ri,ii,ai,oi,si,ui,ci,li,fi,di,hi,pi,gi,mi,vi,bi,yi,wi,Si,Ti,Ei,xi,ki,Ai,Ii,Mi,Ci,Pi,Ri,Di,Ni,Oi,Li,ji,_i,Ui,Bi,Ki,Fi,Vi,Hi,Gi;if(t=" The setting will be ignored.",s.ba=" is unsupported on this platform.",n=" to a log level. Falling back to default!",s.da="'6.1.1'",i=".clpp-subtitle-container",s.fa="AdaptationSet",s.ha="Autoplay is not allowed due to browser policy.",u="Can not set volume to ",s.ja="Cannot retrieve buffer information due to platform limitations",s.ka="CastlabsPlayer",c="Content-Length",l="Content-Type",f="DRMtoday",d="DRMtodayOnboard",h="Destroying player",s.ra="Disable track type ",p="HW_SECURE_CRYPTO",g="HW_SECURE_DECODE",m="Ignoring duplicate init data.",v="Illegal constructor.",b="Invalid track type: ",s.xa="Loading player with configuration",s.ya="MaxHeight",s.Aa="MaxWidth",s.Ba="MediaKeySession.load not yet supported",s.Ca="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform",y="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!",w="No event provided!",S="No track data attached to the event, unable to add track!",s.Ga="NotSupportedError",s.Ha="Player sources",s.Ia="Player state change: ",s.Ka="QualityLevel",s.Ma="Releasing player with source",s.Na="Representation",T="SW_SECURE_CRYPTO",E="SW_SECURE_DECODE",s.Qa="Session type ",x="Signature Verification failed",s.Sa="SmoothStreamingMedia",k="The index is not in the allowed range.",A="Unable to translate ",s.Ya="Unregistering listeners",s.Za="Unsupported keySystem",s.$a="Updating manifest...",I="Using VTTCue polyfill from 3 argument TextTrackCue.",M="VTT parser encountered an invalid VTT setting: ",s.cb="ad-break-started",s.db="ad-break-stopped",s.eb="ad-buffering",s.gb="ad-clicked",s.hb="ad-completed",s.ib="ad-first-quartile",s.kb="ad-impression",s.lb="ad-loaded",s.mb="ad-midpoint",s.nb="ad-paused",s.ob="ad-progress",s.pb="ad-resumed",s.qb="ad-skipped",s.sb="ad-started",s.tb="ad-stopped",s.ub="ad-third-quartile",C="addtrack",s.xb="ads-timeline-changed",s.yb="airplay-casting-ended",s.zb="airplay-casting-started",s.Ab="airplay-status-changed",s.Bb="application",s.Cb="application/cea-608",P="application/dash+xml",s.Fb="application/ttml+xml",s.Gb="application/vnd.apple.mpegurl",R="application/vnd.ms-sstr+xml",D="application/x-mpegurl",N="application/x-subrip",O="application/x-www-form-urlencoded",s.Lb="audio",s.Mb="audio/mp4",s.Ob="audiobufferchanged",s.Qb="autoplaynotallowed",s.Rb="bitratechanged",s.Sb="boolean",s.Tb="bufferingended",s.Ub="bufferingstarted",L="canplay",j="canplaythrough",s.Xb="castingstarted",s.Yb="caststatuschanged",s.Zb="cenc",s.$b="center",_="change",s.bc="clpp.cast.CastSender",s.cc="clpp.component.persistent",U="clpp.native.Player",B="clpp.utils.Platform",K="clpp_html5_cast",s.gc="codecs",F="com.apple.fps",V="com.chromecast.playready",s.jc="com.microsoft.playready",s.kc="com.widevine.alpha",H="crossorigin",G="cuechange",s.nc="disabled",s.oc="div",s.pc="drmexpirationupdate",W="drmrenewalstarted",s.rc="drmsessionpersisted",s.sc="drmsessionupdate",q="dt-custom-data",J="durationchange",s.vc="encrypted",s.wc="end",s.xc="ended",s.yc="error",s.zc="frameRate",z="fullscreenElement",s.Bc="function",s.Cc="height",s.Dc="hidden",X="http://www.w3.org/ns/ttml#parameter",Y="http://www.w3.org/ns/ttml#styling",s.Gc="internal-error",s.Hc="keystatuseschange",s.Ic="license-renewal",s.Jc="license-request",$="line-left",Q="line-right",Z="lineThrough",s.Nc="loadeddata",s.Oc="loadedmetadata",ee="loadstart",s.Qc="mdat",s.Rc="message",te="metadata",s.Tc="mimeType",s.Uc="mp4",s.Vc="mpd-type-changed",s.Wc="native",s.Xc="number",s.Yc="object",s.Zc="onContentLoaded",s.$c="optional",s.ad="org.w3.clearkey",s.bd="output-not-allowed",ne="overline",s.dd="parsererror",s.ed="pause",s.fd="persistent-license",re="picture-in-picture",s.hd="play",s.id="playing",s.jd="playlist-item-changed",s.kd="playlist-modified",s.ld="progress",s.md="ratechange",ie="released",s.od="releasing",ae="removetrack",s.qd="required",s.rd="resize",oe="rgba(0, 0, 0, 0)",s.td="seeked",s.ud="seeking",s.xd="showing",s.yd="single-native",se="stalled",s.Ad="start",s.Bd="statechanged",s.Cd="status-pending",s.Dd="string",ue="style",s.Fd="subtitle",s.Gd="subtitles",s.Hd="temporary",s.k="text",s.Id="text/vtt",s.Jd="text/xml",ce="textDecoration",s.Ld="timeupdate",s.Md="und",le="underline",fe="unknown",s.Pd="usable",s.Qd="user-seeked",s.Rd="user-seeking",s.Sd="value",s.Td="vertical-lr",s.Ud="vertical-rl",s.Vd="video",s.Wd="video/mp2t",s.Xd="video/mp4",s.Yd="videobufferchanged",s.Zd="videotrackchanged",s.$d="vimond-response",s.ae="waiting",s.be="waitingforkey",de="webkitkeyadded",he="webkitkeyerror",pe="webkitkeymessage",ge="webkitneedkey",s.ge="webm",s.he="width",me="x-dt-auth-token",ve="x-dt-csl-tracking-token",be="x-dt-follow-up-token",ye="xml:id",we=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},s.u=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:we(e)}},s.ne=function(e){if(!(e instanceof Array)){e=s.u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e},s.w=function(e,t){if(e.prototype=Fi(t.prototype),e.prototype.constructor=e,s.pe)(0,s.pe)(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n]},Se=function(){Se=function(){},Gi.Symbol||(Gi.Symbol=zi)},Te=function(e,t){this.a=e,Hi(this,"description",{configurable:!0,writable:!0,value:t})},Ee=function(){Se();var e=Gi.Symbol.iterator;e||(e=Gi.Symbol.iterator=Gi.Symbol("Symbol.iterator")),a(Array.prototype[e])!=s.Bc&&Hi(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return xe(we(this))}}),Ee=function(){}},xe=function(e){return Ee(),e={next:e},e[Gi.Symbol.iterator]=function(){return this},e},ke=function(){this.i=!1,this.f=null,this.b=void 0,this.a=1,this.g=this.h=0,this.l=this.c=null},Ae=function(e){if(e.i)throw new TypeError("Generator is already running");e.i=!0},Ie=function(e,t){e.c={Ze:t,nf:!0},e.a=e.h||e.g},s.x=function(e,t,n){return e.a=n,{value:t}},s.y=function(e){e.a=0},s.Ae=function(e,t,n){e.h=t,void 0!=n&&(e.g=n)},s.Be=function(e,t){e.a=t,e.h=0},s.Ce=function(e){e.h=0;var t=e.c.Ze;return e.c=null,t},s.De=function(e){this.a=new ke,this.b=e},Me=function(e,t){Ae(e.a);var n=e.a.f;return n?Ce(e,"return"in n?n["return"]:function(e){return{value:e,done:!0}},t,e.a["return"]):(e.a["return"](t),Pe(e))},Ce=function(e,t,n,r){try{var i=t.call(e.a.f,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.i=!1,i;var a=i.value}catch(o){return e.a.f=null,Ie(e.a,o),Pe(e)}return e.a.f=null,r.call(e.a,a),Pe(e)},Pe=function(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.i=!1,{value:t.value,done:!1}}catch(n){e.a.b=void 0,Ie(e.a,n)}if(e.a.i=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.nf)throw t.Ze;return{value:t["return"],done:!0}}return{value:void 0,done:!0}},s.He=function(e){this.next=function(t){return Ae(e.a),e.a.f?t=Ce(e,e.a.f.next,t,e.a.j):(e.a.j(t),t=Pe(e)),t},this["throw"]=function(t){return Ae(e.a),e.a.f?t=Ce(e,e.a.f["throw"],t,e.a.j):(Ie(e.a,t),t=Pe(e)),t},this["return"]=function(t){return Me(e,t)},Ee(),this[Symbol.iterator]=function(){return this}},Re=function(e,t){if(t){for(var n=Gi,r=e.split("."),i=0;i<r.length-1;i++){var a=r[i];a in n||(n[a]={}),n=n[a]}r=r[r.length-1],i=n[r],a=t(i),a!=i&&null!=a&&Hi(n,r,{configurable:!0,writable:!0,value:a})}},De=function(e){function t(t){return e.next(t)}function n(t){return e["throw"](t)}return new Promise((function(r,i){function a(e){e.done?r(e.value):Promise.resolve(e.value).then(t,n).then(a,i)}a(e.next())}))},s.A=function(e){return De(new s.He(new s.De(e)))},s.B=function(e,t){var n,r=e.split("."),i=Xi;r[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t},s.Le=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Ne=function(e){e=s.C.lb(e.getConfiguration().textstyle||{}),this.m=a(e.backgroundColor)===s.Dd?e.backgroundColor:"rgba(0, 0, 0, 0.75)",this.G=a(e.windowColor)===s.Dd?e.windowColor:"transparent",this.s=a(e.fontColor)===s.Dd?e.fontColor:"rgba(255, 255, 255, 1)",this.v=a(e.fontFamily)===s.Dd?e.fontFamily:"sans",this.w=a(e.fontSize)===s.Dd?e.fontSize:"1em",this.i=a(e.edgeColor)===s.Dd?e.edgeColor:"rgba(0, 0, 0, 1)",this.f=ka,a(e.edgeType)===s.Dd&&(this.f=e.edgeType)},Oe=function(e){var t="none",n=e.i;switch(e.f){case Aa:t="-2px -2px 0 "+n+", -1px -1px 0 "+n;break;case Ia:t="2px 2px 0 "+n+", 1px 1px 0 "+n;break;case Ca:t="-1px 0 "+n+", 0 1px "+n+", 1px 0 "+n+", 0 -1px "+n;break;case Ma:t="2px 2px 3px "+n+", 2px 2px 4px "+n+", 2px 2px 5px "+n}return t},Le=function(e){return e&&0<=Qi[e]?Qi[e]:$i},je=function(e){if(!e)return s.G("clpp.log",A+e+n),-1;var t=Yi[e.toUpperCase()];return void 0===t?(s.G("clpp.log",A+e+n),-1):t},s.H=function(e){(this.a=e)&&void 0===Qi[e]&&(Qi[e]=-1)},s.$e=function(e){ea.info.apply(ea,arguments)},s.I=function(e){ea.debug.apply(ea,arguments)},s.G=function(e){ea.warn.apply(ea,arguments)},s.af=function(e){ea.error.apply(ea,arguments)},s.cf=function(e){var t=void 0===t?1/0:t;return s.bf(e,t,Uint8Array)},s.bf=function(e,t,n){var r=n.BYTES_PER_ELEMENT||1,i=e instanceof ArrayBuffer?e:e.buffer,a=(e.byteOffset||0)+e.byteLength;return e=Math.max(0,Math.min((e.byteOffset||0)+0*r,a)),t=Math.min(e+Math.max(t*r,0),a),e/=r,new n(i,e,t/r-e)},_e=function(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t},s.ef=function(e){if(!e)return"";e=s.cf(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(_e(e));try{return decodeURIComponent(e)}catch(t){throw Error("Error while decoding string!")}},Ue=function(e,t,n){if(!e)return"";if(!n&&0!==e.byteLength%2)throw ta.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");if(n=s.cf(e),(t&&255===n[0]&&254===n[1]||254===n[0]&&255===n[1])&&(e=n.subarray(2)),e instanceof ArrayBuffer)var r=e;else n=new Uint8Array(e.byteLength),n.set(s.cf(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return _e(n)},s.hf=function(e,t){if(s.C.$(e))return e;var n="",r=!!t,i=s.cf(e);239==i[0]&&187==i[1]&&191==i[2]?n=s.ef(i):254==i[0]&&255==i[1]?n=Ue(i.subarray(2),!1):255==i[0]&&254==i[1]&&(n=Ue(i.subarray(2),!0));var a=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,i);if(ta.debug("Unable to find byte-order-mark, making an educated guess."),0==i[0]&&0==i[2]?n=Ue(e,!1):0==i[1]&&0==i[3]?n=Ue(e,!0):a(0)&&a(1)&&a(2)&&a(3)&&(n=s.ef(e)),n)return r&&(n=escape(n)),n;throw Error("Unable to detect text encoding")},Be=function(e){var t=0,n=[];switch(e=e.replace(/-/g,"+").replace(/_/g,"/"),e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("Illegal base64url string")}for(var r=0|e.length/4;0<r--;){var i=(ra[e.charCodeAt(t)]<<18)+(ra[e.charCodeAt(t+1)]<<12)+(ra[e.charCodeAt(t+2)]<<6)+ra[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="===e.charAt(t-2)?(n.pop(),n.pop()):"="===e.charAt(t-1)&&n.pop()),new Uint8Array(n)},s.mf=function(e){e instanceof ArrayBuffer&&(e=s.cf(e));for(var t,n=0,r=[],i=0|e.length/3;0<i--;)t=(e[n]<<16)+(e[n+1]<<8)+e[n+2],n+=3,r.push(na.charAt(63&t>>18)),r.push(na.charAt(63&t>>12)),r.push(na.charAt(63&t>>6)),r.push(na.charAt(63&t));return 2===e.length-n?(t=(e[n]<<16)+(e[n+1]<<8),r.push(na.charAt(63&t>>18)),r.push(na.charAt(63&t>>12)),r.push(na.charAt(63&t>>6)),r.push("=")):1===e.length-n&&(t=e[n]<<16,r.push(na.charAt(63&t>>18)),r.push(na.charAt(63&t>>12)),r.push("==")),r.join("")},s.nf=function(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t},s.of=function(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer},s.pf=function(e,t){var n=t||1,r=e.length,i=new ArrayBuffer(r*n);if(4===n){var a=void 0===a?1/0:a;n=s.bf(i,a,Uint32Array)}else if(2===n){var o=void 0===o?1/0:o;n=s.bf(i,o,Uint16Array)}else n=s.cf(i);for(a=0;a<r;a++)n[a]=e.charCodeAt(a);return i},s.qf=function(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)},s.rf=function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length-t.length,r=e.lastIndexOf(t,n);return-1!==r&&r===n},s.sf=function(e){return!!(e&&0<e.length)},s.tf=function(e,t){var n,r=document.createElement(e);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];null===i||void 0===i?r.setAttribute(n,""):r.setAttribute(n,i)}return r},s.vf=function(e,t){if(e.classList)e.classList.add(t);else{var n=Ke(e);0>n.indexOf(t)&&(n.push(t),e.setAttribute("class",n.join(" ")))}},s.wf=function(e,t){a(t)===s.Dd&&(t=[t]),t.forEach((function(t){if(e.classList)e.classList.remove(t);else{var n=Ke(e);t=n.indexOf(t),0<=t&&(n.splice(t,1),e.setAttribute("class",n.join(" ")))}}))},Ke=function(e){return e=e.getAttribute("class"),e?(e=e.trim(),0===e.length?[]:(e=e.replace(/,/g," "),e=e.replace(/ {2,}/g," "),e.split(" "))):[]},s.xf=function(e,t){var n;if(e&&a(t)===s.Yc)for(n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Fe=function(e,t){var n;t=void 0===t?{}:t;var r=document.querySelector("#clpp-styles");if(!r){r=document.createElement(ue),r.id="clpp-styles";var i=document.querySelector("head");i||(i=document.createElement("head"),document.body.appendChild(i)),i.appendChild(r)}i=document.styleSheets;for(var o,u=0;u<i.length;u++)if(i[u].ownerNode===r){o=i.item(u);break}if(r=o||null,o=r.cssRules.length,i="",r){for(var c in t)t.hasOwnProperty(c)&&(u=t[c],c=c.replace(/([A-Z])/g,"-$1").toLowerCase(),i+=c+": "+u+"; ");a(n)===s.Xc&&n>=o&&(n=o-1),r.hasOwnProperty("addRule")||a(r.addRule)===s.Bc?r.addRule(e,i,n):(r.hasOwnProperty("insertRule")||a(r.insertRule)===s.Bc)&&r.insertRule(e+" {"+i+"}",n)}},Ve=function(e){function t(t,n){if(document.all)var r=parseFloat(e.currentStyle[t]);else t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r=parseFloat(document.defaultView.getComputedStyle(e,"").getPropertyValue(t));return r&&!isNaN(r)||(r=n),r}return{height:t(s.Cc,e.offsetHeight),width:t(s.he,e.offsetWidth),marginTop:t("marginTop",0),marginBottom:t("marginBottom",0),marginLeft:t("marginLeft",0),marginRight:t("marginRight",0)}},He=function(){var e=document.createElement("a");return e.style.display="flex",e="flex"===e.style.display,e?"flex":"block"},Ge=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},We=function(e){return"middle"===e?s.$b:"left"===e||e===$?s.Ad:"right"===e||e===Q?s.wc:e},s.Df=function(e){this.b=e,this.a=null},s.Ef=function(e){this.b=e,this.a=null},qe=function(e){if(Ne.call(this,e),this.J=e,e=e.getSurface(),!e.i||!document.querySelector(i)){var t=document.createElement(s.oc),n=document.createElement(s.oc),r=document.createElement(s.oc);Fe(i,{backgroundColor:oe,bottom:0,flexDirection:"column",justifyContent:"flex-end",left:0,marginBottom:"30px",maxHeight:"100%",maxWidth:"100%",pointerEvents:"none",position:"absolute",right:0,top:0,overflow:s.Dc}),Fe(".clpp-show-flex",{display:"block"}),Fe(".clpp-hidden",{display:"none"}),Fe(".clpp-subtitle-window",{backgroundColor:oe,flexDirection:"row",justifyContent:s.$b,position:"relative",width:"100%",boxSizing:"border-box"}),Fe(".clpp-subtitle-cues",{color:"#fff",backgroundColor:oe}),s.vf(t,"clpp-subtitle-container"),s.vf(n,"clpp-subtitle-window"),s.vf(r,"clpp-subtitle-cues"),n.appendChild(r),t.appendChild(n),e.tc(t),e.i=t,e.l=n,e.j=r}this.B=e.i,this.C=e.l,this.l=e.j,this.o=new s.H("clpp.text.HtmlTextDisplayer"),this.b=[],this.g=this.a=null,this.h=this.c=this.j=!1,this.Oa()},Je=function(e){e.c||(e.a=new s.Ef((function(){return ze(e)})),e.a.Ea(.1))},ze=function(e){if(!e.j&&e.h){var t=e.J.getPosition(),n=e.g;n&&(n.endTime<t||n.startTime>t)&&Xe(e),n=null;for(var r=0;r<e.b.length;r++){var i=e.b[r];if(i.startTime<=t&&t<=i.endTime){n=i;break}}if(n&&n!==e.g){e.g=n,t=n.textAlign;var o=n.payload||"";n=e.B,r=e.C,e=e.l,i={bottom:"",display:He(),justifyContent:"",opacity:"0",top:""};var u={display:He(),justifyContent:"",left:"",marginLeft:"",paddingLeft:"",paddingRight:"",textAlign:""},c={display:"",left:"",marginLeft:"",marginRight:"",maxWidth:"",maxHeight:"",position:"",wordWrap:"",right:"",textAlign:"",transform:"",transformOrigin:"",writingMode:"",whiteSpace:""};e.innerHTML=o.replace(/\n/g,"<br/>");var l=Ve(e);Ge(n,i),Ge(r,u),Ge(e,c),l=l.height;var f=We(t),d="auto";a(d)!==s.Xc?(f||(f=s.$b),f===s.$b?d=50:f===s.Ad?d=0:f===s.wc&&(d=100)):f||(f=s.Ad),f===s.$b?50>d?u.paddingRight=100-2*d+"%":50<d&&(u.paddingLeft=2*d-100+"%"):f===s.Ad?(u.paddingLeft=d+"%",u.justifyContent="flex-start",c.wordWrap="break-word"):f===s.wc&&(u.paddingRight=100-d+"%",u.justifyContent="flex-end",c.wordWrap="break-word"),f="auto",a(f)!==s.Xc&&(f=100),Ge(n,i),Ge(r,u),Ge(e,c),d=Ve(n.parentElement);var h=Ve(n),p=Ve(e).height;i.display=He(),i.justifyContent="flex-start",p=100*(d.height-h.marginBottom-p)/d.height,o=parseInt((d.height-h.marginBottom)/(l/((o.split("<br>")||[]).length||1)),10)||16,0>f?(f=Math.abs(f)-1,f=o-f+1):1>f&&(f=1),0<f&&--f,f=Math.max(0,Math.min(100*f/o,100)),i.top=f/100*p-5+"%",t=We(t),t===s.$b?c.textAlign=s.$b:t===s.wc&&(c.textAlign="right"),Ge(n,i),Ge(r,u),Ge(e,c),Ge(n,{opacity:""})}}},Xe=function(e){e.l.innerHTML="",s.wf(e.B,"clpp-show-flex")},s.Kf=function(e){Ne.call(this,e),this.j=e.getSurface().F(),this.c="clpp-video-"+oa++,this.b=document.createElement(ue),this.g=this.h=!1,s.vf(this.j,this.c),document.head.appendChild(this.b),this.Oa()},Ye=function(){},s.Of=function(e,t){e&&t&&(sa.set(e,t),ua.info("Registered TextDisplayerFactory: '"+e+"'"))},s.Pf=function(e,t){var n=t.find((function(t){return!!(t=sa.get(t))&&t.N(e)}));return ua.info("Chosen the text displayer: "+n),n?sa.get(n):null},$e=function(){},s.J=function(e,t,n,r,i){var a=Error.call(this,Qe(e,t,n,r));this.message=a.message,"stack"in a&&(this.stack=a.stack),this.a=e,this.c=t,this.code=n,this.data=!r||s.C.$(r)?{}:r,this.b=void 0===i?null:i,Error.captureStackTrace&&Error.captureStackTrace(this,s.J)},Qe=function(e,t,n,r){if(e=(e===s.K?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+t+" - Code "+n+"]",s.C.$(r))e+=": "+r;else if(null!=r&&void 0!=r)if(null!=r.message&&void 0!=r.message)e+=": "+r.message,delete r.message;else try{e+=": "+JSON.stringify(r)}catch(i){}return e},s.bg=function(e,t,n){this.startTime=e,this.direction=pa,this.endTime=t,this.payload=n,this.region=new Ze,this.position=null,this.positionAlign=ca,this.size=100,this.textAlign=la,this.writingMode=ga,this.lineInterpretation=ma,this.line=null,this.lineHeight="",this.lineAlign=va,this.displayAlign=da,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=ya,this.fontStyle=wa,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""},Ze=function(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Ta,this.scroll=Ea},s.eg=function(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n},s.fg=function(e){e=e.split(".");var t=e[0];return e.pop(),[t,e.join(".")]},s.gg=function(e){this.i=null,this.c=e,this.f=this.l=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map},s.ig=function(t){return!!(s.hg[t]||e.muxjs&&t==s.Cb)},s.jg=function(e){this.b=e,this.a=0},et=function(e){s.kg(e,/[ \t]+/gm)},s.kg=function(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)},tt=function(e){return e.a==e.b.length?null:(e=s.kg(e,/[^ \t\n]*/gm))?e[0]:null},nt=function(){},rt=function(e,t,n){var r;if(r=/^align:(start|middle|center|end|left|right)$/.exec(t))t=r[1],e.textAlign="middle"==t?la:fa[t.toUpperCase()];else if(r=/^vertical:(lr|rl)$/.exec(t))e.writingMode="lr"==r[1]?s.Td:s.Ud;else if(r=/^size:([\d.]+)%$/.exec(t))e.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t==$||t==s.Ad?$:t==Q||t==s.wc?Q:s.$b);else{if(!(r=/^region:(.*)$/.exec(t))){e:{if(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=ba[n[2].toUpperCase()]);else{if(!(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))){e=!1;break e}e.lineInterpretation=ma,e.line=Number(n[1]),n[2]&&(e.lineAlign=ba[n[2].toUpperCase()])}e=!0}return e}(t=it(n,r[1]))&&(e.region=t)}return!0},it=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:(s.G("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},at=function(e){if(e=s.kg(e,/(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})\.(\d{3})/g),null==e)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)},s.ug=function(e,t){for(var n=s.u(xa),r=n.next();!r.done;r=n.next())if(r=r.value,r.probe(e,t))return r.create();return null},s.vg=function(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)},ot=function(){},st=function(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=st(n[r]),t=t.concat(i))}return t.length||t.push(e),t},ut=function(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if("br"==n[r].nodeName&&0<r)n[r-1].textContent+="\n";else if(0<n[r].childNodes.length)ut(n[r],t);else if(t){var i=n[r].textContent.trim();i=i.replace(/\s+/g," "),n[r].textContent=i}},ct=function(e,t,n,r,i,a,o,u){if(!e.hasAttribute("begin")&&!e.hasAttribute(s.wc)&&/^\s*$/.test(e.textContent))return null;ut(e,u),u=mt(e.getAttribute("begin"),n);var c=mt(e.getAttribute(s.wc),n);n=mt(e.getAttribute("dur"),n);var l=e.textContent;if(null==c&&null!=n&&(c=u+n),null==u||null==c)return s.G("TtmlTextParser: ignoring cue without start and end time."),null;if(t=new s.bg(u+t,c+t,l),(a=gt(e,"region",a,""))&&a.getAttribute(ye)){var f=a.getAttribute(ye);o=o.filter((function(e){return e.id==f})),t.region=o[0]}return r=gt(e,"smpte:backgroundImage",r,"#"),lt(t,e,a,r,i),t},lt=function(e,t,n,r,i){"rtl"==dt(t,n,i,"direction")&&(e.direction="rtl");var a=dt(t,n,i,"writingMode");if("tb"==a||"tblr"==a?e.writingMode=s.Td:"tbrl"==a?e.writingMode=s.Ud:"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=pa),(a=dt(t,n,i,"textAlign"))&&(e.positionAlign=Ka[a],e.lineAlign=Ba[a],e.textAlign=fa[a.toUpperCase()]),(a=dt(t,n,i,"displayAlign"))&&(e.displayAlign=ha[a.toUpperCase()]),(a=dt(t,n,i,"color"))&&(e.color=a),(a=dt(t,n,i,"backgroundColor"))&&(e.backgroundColor=a),(a=dt(t,n,i,"fontFamily"))&&(e.fontFamily=a),(a=dt(t,n,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=dt(t,n,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=dt(t,n,i,"lineHeight"))&&a.match(Ra)&&(e.lineHeight=a),(a=dt(t,n,i,"fontSize"))&&a.match(Ra)&&(e.fontSize=a),(a=dt(t,n,i,"fontStyle"))&&(e.fontStyle=Sa[a.toUpperCase()]),r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent,"PNG"==a&&"Base64"==o&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(n=ht(n,i,ce))&&ft(e,n),(t=pt(t,i,ce))&&ft(e,t)},ft=function(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case le:e.textDecoration.includes(le)||e.textDecoration.push(le);break;case"noUnderline":e.textDecoration.includes(le)&&s.vg(e.textDecoration,le);break;case Z:e.textDecoration.includes(Z)||e.textDecoration.push(Z);break;case"noLineThrough":e.textDecoration.includes(Z)&&s.vg(e.textDecoration,Z);break;case ne:e.textDecoration.includes(ne)||e.textDecoration.push(ne);break;case"noOverline":e.textDecoration.includes(ne)&&s.vg(e.textDecoration,ne)}},dt=function(e,t,n,r){return(e=pt(e,n,r))?e:ht(t,n,r)},ht=function(e,t,n){for(var r=st(e),i=0;i<r.length;i++){var a=s.M.getAttributeNS(r[i],Y,n);if(a)return a}return(e=gt(e,ue,t,""))?s.M.getAttributeNS(e,Y,n):null},pt=function(e,t,n){return(e=gt(e,ue,t,""))?s.M.getAttributeNS(e,Y,n):null},gt=function(e,t,n,r){if(!e||1>n.length)return null;var i=null,a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode,a instanceof Element););if(t=e)for(e=0;e<n.length;e++)if(r+n[e].getAttribute(ye)==t){i=n[e];break}return i},mt=function(e,t){var n=null;if(Na.test(e)){n=Na.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*i+3600*r}else Oa.test(e)?n=vt(Oa,e):La.test(e)?n=vt(La,e):ja.test(e)?(n=ja.exec(e),n=Number(n[1])/t.frameRate):_a.test(e)?(n=_a.exec(e),n=Number(n[1])/t.a):Ua.test(e)&&(n=vt(Ua,e));return n},vt=function(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)},bt=function(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))},s.Ug=function(e,t){this.b=s.C.sb(e)?new DataView(new ArrayBuffer(e),0,e):e,this.a=0,this.c=!!t,this.buffer=this.b.buffer},s.Wg=function(e,t,n){t=new DataView(t.buffer);try{n=n||0;for(var r=t.byteLength-n,i=0;i<r;i++)e.b.setUint8(e.a,t.getUint8(n+i)),e.a+=1}catch(a){s.Vg()}},s.N=function(e,t){try{e.b.setUint32(e.a,t,e.c),e.a+=4}catch(n){s.Vg()}},s.Vg=function(){throw new s.J(s.K,3,3e3)},s.Xg=function(e,t){this.b=e,this.c=void 0===t||t,this.a=0},s.Yg=function(e){return e.a<e.b.byteLength},s.$g=function(e){try{var t=e.b.getUint8(e.a);return e.a+=1,t}catch(n){yt()}},s.ah=function(e){try{var t=e.b.getUint16(e.a,e.c);return e.a+=2,t}catch(n){yt()}},s.bh=function(e){try{var t=e.b.getUint32(e.a,e.c);return e.a+=4,t}catch(n){yt()}},s.ch=function(e){try{var t=e.b.getInt32(e.a,e.c);return e.a+=4,t}catch(n){yt()}},s.dh=function(e){var t=0;try{if(e.c){var n=e.b.getUint32(e.a,!0);t=e.b.getUint32(e.a+4,!0)}else t=e.b.getUint32(e.a,!1),n=e.b.getUint32(e.a+4,!1)}catch(r){yt()}if(2097151<t)throw new s.J(s.K,3,3001);return e.a+=8,t*Math.pow(2,32)+n},s.eh=function(e,t){e.a+t>e.b.byteLength&&yt();var n=e.b.buffer.slice(e.a,e.a+t);return e.a+=t,s.cf(n)},s.fh=function(e){if(1>e.a)throw yt();--e.a},yt=function(){throw new s.J(s.K,3,3e3)},s.gh=function(){this.c=[],this.b=[],this.a=!1,this.f=new s.H("clpp.mp4")},s.hh=function(e){for(;s.Yg(e.u)&&!e.gb.a;)e.gb.kd(e.start+e.Td,e.u,e.Mf)},s.ih=function(e){for(var t=s.bh(e.u);0<t&&!e.gb.a;--t)e.gb.kd(e.start+e.Td,e.u,e.Mf)},wt=function(e){return function(t){var n=t.u.ha()-t.u.getPosition();e(s.eh(t.u,n))}},St=function(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t},Tt=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},Et=function(){this.a=new ot},xt=function(){},s.ph=function(e){e=s.ef(e),e=e.replace(/\r+/g,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/<[a-zA-Z\/][^>]*>/g,"");var t=e.split("\n\n");if(e="",0<t.length){e+="WEBVTT\n\n",t=s.u(t);for(var n=t.next();!n.done;n=t.next())e+=kt(n.value)}return s.nf(e)},kt=function(e){var t="";for(e=e.split(/\n/);3<e.length;){for(var n=3;n<e.length;++n)e[2]+="\n"+e[n];e.splice(3,e.length-3)}if(3!==e.length)return"";if(n=0,!e[0].match(/\d+:\d+:\d+/)&&e[1].match(/\d+:\d+:\d+/)&&(t+=e[0].match(/\w+/)+"\n",++n),!e[n].match(/\d+:\d+:\d+/))return"";var r=e[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);return r?(t+=r[1]+":"+r[2]+":"+r[3]+"."+r[4]+" --\x3e ",t+=r[5]+":"+r[6]+":"+r[7]+"."+r[8]+"\n",++n,e[n]&&(t+=e[n]+"\n\n"),t):""},At=function(){},It=function(){},Mt=function(){},s.th=function(){return!(!e.MediaSource||!MediaSource.isTypeSupported)},Ct=function(e){return""!==Rt().canPlayType(e)},s.xh=function(e){return s.wh("Tizen"+(e?" "+String(e):""))},s.yh=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!s.xh()},s.zh=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)},Pt=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)},s.wh=function(e){return(navigator.userAgent||"").includes(e)},Rt=function(){return Ha||(Va||(Va=new s.Ef((function(){Ha=null}))),(Ha=document.querySelector(s.Vd)||document.querySelector(s.Lb))||(Ha=document.createElement(s.Vd)),Va.P(1),Ha)},Dt=function(e,t){try{return parseInt(t,10)}catch(n){Ga.warn("Unable to parse version number for '"+t+"' from '"+e+"'")}return-1},Nt=function(e){var t={major:-1,name:fe};if(!e)return t;var n=e.replace(/_/g,".");return t.name=n,n=n.split("."),1<=n.length&&(t.major=Dt(e,n[0])),2<=n.length&&(t.minor=Dt(e,n[1])),3<=n.length&&(t.patch=Dt(e,n[2])),4<=n.length&&(t.build=Dt(e,n[3])),t},Ot=function(e,t){if(!e||!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1},Lt=function(){var e=jt();if(!e)return $a;var t=e.match(/^.+?(?=\))/);return t?(t=t[0],Ot(t,["iphone","ipad"])?qa:Ot(t,["android"])?Wa:Ot(t,["macintosh"])?za:Ot(t,["windows nt"])?Xa:Ot(t,["tizen"])?Ya:Ot(t,["linux"])?Ja:(Ga.warn("Unable to identify OS from user agent: "+e),$a)):$a},jt=function(){var t=e.navigator.userAgent;return t.toLowerCase()},s.Sh=function(){var e=Lt(),t=Lt(),n=Za[t];n?(n=jt().match(n.os_version)[1],n=Nt(n),t===Xa&&("5.1"===n.name?n.name="xp":"6.1"===n.name?n.name="7":"6.2"!==n.name&&"6.3"!==n.name||(n.name="8")),t=n):t=Nt("");e:{n=jt();var r="ie edge opera firefox safari chrome".split(" "),i=Lt();i=Za[i];for(var a=0,o=r.length;a<o;a++)if(i[r[a]]&&n.match(i[r[a]])){n=r[a];break e}n=Qa}e:{r=jt(),i="ie edge opera firefox safari chrome".split(" "),a=Lt(),o=Za[a];for(var s=0,u=i.length;s<u;s++)if(a=o[i[s]]&&r.match(o[i[s]])){r=Nt(a[1]);break e}r=Nt("")}return{os:e,osVersion:t,browser:n,browserVersion:r}},_t=function(){},Ut=function(){this.a=null,this.b=new s.H("clpp.vtt.mp4")},Bt=function(e,t,n){var r,i,a;return(new s.gh).I("payl",wt((function(e){r=s.ef(e)}))).I("iden",wt((function(e){i=s.ef(e)}))).I("sttg",wt((function(e){a=s.ef(e)}))).parse(e),r?Kt(r,i,a,t,n):null},Kt=function(e,n,r,i,a){if(e=new s.bg(i,a,e),n&&(e.id=n),r)for(n=new s.jg(r),r=tt(n);r;)rt(e,r,[])||s.G(M,r,t),et(n),r=tt(n);return e},Ft=function(e,t){this.b=e,this.a=t},Vt=function(e,t){this.a=e,this.b=t},s.ai=function(e){e&&(s.Zh.hasOwnProperty(e.name)?s.$h.warn("Player-Factory '"+e.name+"' already registered"):(s.Zh[e.name]=e,s.$h.info("Registered Player-Factory: '"+e.name+"'")))},s.bi=function(){this.a={}},Ht=function(e,t,n,r){this.eventName=e,this.bc=t,this.a=n,this.qj=!!r},s.O=function(t,n){if(n)for(var r in n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=this.b=!1},Gt=function(e){this.a=new s.bi,this.b=e},s.ei=function(){this.a=new s.bi},Wt=function(e,t,n){function r(a){i.forEach((function(n){e.off(t,n,r)})),n(a)}var i=[s.vc,"msneedkey",ge,"needkey"];i.forEach((function(n){e.on(t,n,r)}))},s.hi=function(e){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)Jt(r[n]);e.a.clear()},qt=function(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=r,this.target.addEventListener(t,n,r)},Jt=function(e){e.target.removeEventListener(e.type,e.listener,e.a),e.target=null,e.listener=null},zt=function(e){this.b=e,this.g=null,this.c=new s.ei,this.a=this.h=null,this.f=[],this.i=new s.H("clpp.native.Metadata")},Xt=function(e,t){e.g=t,e.h=e.g.textTracks,e.c.on(e.h,C,(function(t){t=t.track,t.kind===te&&Yt(e,t)}))},Yt=function(e,t){function n(e){for(var t=s.u(r),n=t.next();!n.done;n=t.next())if(n=n.value,e.startTime===n.startTime&&e.endTime===n.endTime)return n;return r.push({schemeIdUri:"",value:"",startTime:e.startTime,endTime:e.endTime,id:"",type:ho,eventElement:null}),r[r.length-1]}e.i.debug("onMetadata_()"),t.mode=s.Dc;var r=[];if(t.cues){for(var i=s.u(t.cues),a=i.next();!a.done;a=i.next())if(a=a.value,!$t(e,a)){var o=n(a);switch(a.value.key){case"SCTE35-IN":case"SCTE35-OUT":o.schemeIdUri="urn:scte:scte35:2014",o.type=fo;break;case"X-CUSTOM-ID":o.id=a.value.data}}for(i=s.u(r),a=i.next();!a.done;a=i.next())e.b.trigger(new s.O(s.pi,{detail:a.value}));Array.prototype.push.apply(e.f,r),e.c.off(t,G),e.c.on(t,G,(function(t){var n;t=t.target.activeCues,t=t.length?$t(e,t[0]):e.a,(n=t)&&(n=e.b.getPosition(),n=t.startTime<=n&&n<t.endTime),n?(e.a=t,e.b.trigger(new s.O(s.qi,{detail:t}))):((t=e.a)&&(t=e.a,n=e.b.getPosition(),t=t.endTime<=n),t&&(t=e.a,e.a=null,e.b.trigger(new s.O(s.ri,{detail:t}))))}))}},$t=function(e,t){for(var n=s.u(e.f),r=n.next();!r.done;r=n.next())if(r=r.value,t.startTime===r.startTime&&t.endTime===r.endTime)return r;return null},s.si=function(e,t){this.id=e,this.type=t,this.roles=[],this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null,this.renditions=[]},s.ti=function(e,t){this.track=t,this.id=e,this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null},s.ui=function(e){return void 0!==e&&null!==e&&""!==e?e:null},Qt=function(e){if(!e)throw new s.J(s.K,3,3101,b+e);if(!s.C.$(e))throw new s.J(s.K,3,3101,b+e+". Track type must be a string!");switch(e.toLowerCase()){case s.P:return s.P;case s.Q:return s.Q;case s.vi:return s.vi;case Fa:return Fa}throw new s.J(s.K,3,3101,"Unknown track type: "+e+".")},Zt=function(e,t){e=Qt(e);var n=s.ui(t.kind),r=t.id;return r||(r=String(s.yi++)),r=new s.si(r,n===te?Fa:e),r.kind=n,r.label=s.ui(t.label),r.language=s.ui(t.language),r},s.S=function(){},en=function(){this.a=new s.H("clpp.native.TrackManager"),this.b=null,this.f=new s.ei,this.g=[],this.l=0,this.i={},this.m=[],this.c=new Map,this.h=new Map,this.j=!0,this.w=this.he.bind(this,s.P),this.C=this.ke.bind(this,s.P),this.B=this.je.bind(this,s.P),this.G=this.he.bind(this,s.vi),this.K=this.ke.bind(this,s.vi),this.J=this.je.bind(this,s.vi),this.o=this.he.bind(this,s.Q),this.v=this.ke.bind(this,s.Q),this.s=this.je.bind(this,s.Q)},tn=function(e,t,n){return e.type===n&&(void 0!==t.id&&null!==t.id&&""!==t.id?e.id===t.id:s.C.xa(e,t,["kind","language","label"]))},nn=function(e,t){var n,r,i,a,o,u,c;return s.A((function(l){if(1==l.a)return n=s.ug(t.mimeType,s.Id),n?(r=s.Ci(t.url),s.x(l,e.b.getNetworkEngine().fetch(r).promise,2)):(e.a.warn("Track mimetype is not supported",t),l["return"]());(i=l.b)&&i.data&&(a="External_"+e.l++,e.i[a]=t,o=s.ph(s.cf(i.data)),u=URL.createObjectURL(new Blob([o])),c={url:u,kind:t.kind,language:t.language,label:t.label,mimeType:s.Id},rn(e,c,a)),s.y(l)}))},rn=function(e,t,n){if(e.b){var r=e.b.getSurface().F();if(r){var i=document.createElement("track");i.id=n,i.src=t.url,i.kind=t.kind,i.srclang=t.language,t.label&&(i.label=t.label),r.appendChild(i),e.m.push(i)}}},an=function(e,t){if(!e.b)return null;var n=e.b.getSurface();if(!n)return null;if(n=n.F(),!n)return null;switch(t){case s.Q:return n.audioTracks;case s.vi:return n.videoTracks;case s.P:return n.textTracks;default:return null}},on=function(e,t){var n=an(e,t);return n&&(n=Array.from(n),t===s.P&&(n=n.filter((function(e){return e.kind!==te})))),n},sn=function(e,t){return e.g.filter((function(e){return e.type===t}))},un=function(e,t){var n=e.c.get(t)||null;return n&&n.renditions[0]},cn=function(e,t){var n=e.h.get(t);return n&&n.renditions[0]},ln=function(e,t,n){var r=on(e,t);if(n){if(void 0===e.g.find((function(e){return e.id===n.id})))throw Error("Unknown track with ID "+n.id+" and type "+t);if(n.type!==t)throw Error("Types mismatch for track "+n.type+" and arg "+t);if(e.a.debug("Activate track type "+t+" with ID: "+n.id),r){e.h.set(t,n);var i=!0,a=!1;switch(t){case s.P:var o="mode";i=s.xd,a=s.nc;break;case s.Q:o="enabled";break;case s.vi:o="selected"}if(o){r=s.u(r);for(var u=r.next();!u.done;u=r.next())u=u.value,u[o]=tn(n,u,n.type)?i:a}}}else if(e.a.debug(s.ra+t),e.c.get(t)&&r&&t===s.P){for(o=s.u(r),u=o.next();!u.done;u=o.next())u.value.mode=s.nc;e.c.set(t,null)}t===s.Q?e.b.trigger(new s.O(s.Ki)):t===s.P&&e.b.trigger(new s.O(s.Li))},fn=function(e){return e.enabled||e.selected||e.mode===s.xd||e.mode===s.Dc},dn=function(e,t,n){e.a.info("Find preferred tracks for",t,n);var r=sn(e,t);s.sf(n)&&(r=r.find((function(e){return e.language===n})))&&(e.a.info("Will select track with id",r.id),ln(e,t,r))},hn=function(e){this.h=e.getTextDisplayer(),this.b=this.f=null,this.a=new s.ei,this.c=!1,this.g=new s.H("clpp.native.CueHandler")},pn=function(e,t){var n=t.track;n.mode===s.xd&&(n.mode=s.Dc),e.a.on(n,G,(function(t){if(t=t.target||t.srcElement,t.mode=s.Dc,t=t.activeCues,0!==t.length){var n,r=t.length,i="";for(n=0;n<r;n++)i+=t[n].text+(n<r-1?"<br>":"");i=i.replace(/\n/g,"<br>"),e.h.append([new s.bg(t[0].startTime,t[0].endTime,i)])}}))},s.Ri=function(e,t){this.length=(this.b=e)?e.length:0,this.a=[],this.type=void 0===t?"total":t},s.Si=function(){this.xc=new Gt(this),this.dc=[]},s.Ti=function(e){try{var t=e.uris[e.uriIndex],n=s.Ti.parse(t);return{promise:Promise.resolve({uri:t,data:n.data,request:e,headers:{"content-type":n.contentType}}),request:e,abort:function(){return Promise.resolve()}}}catch(r){return{promise:Promise.reject(r),request:e,abort:function(){return Promise.resolve()}}}},gn=function(e){this.a=new Uint8Array(e||65536),this.b=0,this.c=Date.now()},mn=function(e,t,n){return t.read().then((function(r){var i=r.done;if(r=r.value,null!=r){var a=Date.now();vn(e,r),Bn(n,r.byteLength,a-e.c),e.c=a}return i?(i=e.a.buffer,e.a.byteLength!==e.b&&(i=i.slice(0,e.b)),Promise.resolve(i)):Promise.resolve().then((function(){return mn(e,t,n)}))}))},vn=function(e,t){for(;e.a.byteLength<e.b+t.byteLength;){var n=new Uint8Array(2*e.a.byteLength);n.set(e.a),e.a=n}e.a.set(t,e.b),e.b+=t.byteLength},bn=function(e){var t=void 0===t?2:t;this.a=new Uint8Array(e),this.c=t,this.b=0},yn=function(e,t){var n=e.b+t.byteLength;if(n>e.a.byteLength){var r=e.a;e.a=new Uint8Array(Math.max(Math.ceil(e.a.buffer.byteLength*e.c),n)),e.a.set(r)}e.a.set(t,e.b),e.b+=t.byteLength},wn=function(e){e=void 0===e?1e6:e,this.f=new bn(e),this.length=e,this.b=this.a=this.c=0,this.g=null,this.h=-1,this.i=Date.now()},Sn=function(e,t,n,r){return t.read().then((function(i){var a=i.done;i=i.value;var o=Date.now();if(r&&i){var s=o-e.i;100<s&&(r(i.byteLength,s),e.i=o)}if(a)return a=kn(e),(a=n(!0,a))?a.then((function(){return e.f.a.buffer})):Promise.resolve(e.f.a.buffer);if(a=Promise.resolve(),null!=i){for(yn(e.f,i),e.a=e.c,e.b=e.f.b,e.g=new DataView(e.f.a.buffer,0,e.f.b),o=Tn(e),i=[];o;)i.push(o),o=Tn(e);if(0<i.length){if(o=i[0],1<i.length){o=i[0],s=i[i.length-1];var u=s.end-o.start;o={start:o.start,end:s.end,length:u,data:new DataView(e.f.a.buffer,o.start,u),count:i.length}}(i=n(!1,o))&&(a=i)}}return a.then((function(){return Sn(e,t,n,r)}))}))},Tn=function(e){if(0<=e.h&&e.b<e.h)return null;for(var t=En(e);null!==t;){if(t.name===s.Qc){var n={start:e.c,end:t.end,length:t.end-e.c,data:new DataView(e.f.a.buffer,e.c,t.end-e.c),count:1};return e.c=t.end,n}t=En(e)}return null},En=function(e){var t=e.a;if(e.a+4>=e.b)return e.a=e.b,null;var n=xn(e);if(e.a+4>=e.b)return e.a=e.b,null;var r=xn(e);switch(r=String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,255&r),n){case 0:n=e.b-t;break;case 1:if(e.a+8>=e.b)return e.a=e.b,null;try{var i=e.g.getUint32(e.a,!1),a=e.g.getUint32(e.a+4,!1)}catch(o){throw new s.J(s.K,3,3e3)}if(2097151<i)throw new s.J(s.K,3,3e3);e.a+=8,n=i*Math.pow(2,32)+a}return n=t+n,e.h=n,e.b>=n?(e.a=n,{name:r,start:t,end:n}):null},xn=function(e){var t=e.g.getUint32(e.a,!1);return e.a+=4,t},kn=function(e){var t=null;return e.c!==e.b&&(t={start:e.c,end:e.b,length:e.b-e.c,data:new DataView(e.f.a.buffer,e.c,e.b-e.c),count:-1}),t},An=function(t){var n,r=new An.b;for(n in t.headers)r.append(n.toLowerCase(),t.headers[n]);var i=new An.a,a={uc:!1,Sf:!1};if(r={promise:An.g(t.uris[t.uriIndex],t,{body:t.body||void 0,headers:r,method:t.method,signal:i.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a),request:t,abort:function(){return a.uc||(a.uc=!0,i.abort()),Promise.resolve()}},t=t.timeout){var o=e.setTimeout((function(){a.Sf=!0,i.abort()}),t);r.promise=r.promise["finally"]((function(){e.clearTimeout(o)}))}return r},s.gj=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},In=function(e){var t=e.uris[e.uriIndex],n=new In.c,r=Date.now(),i=r,a=0,o=new s.gj;n.open(e.method,t,!0),n.responseType="arraybuffer",n.timeout=e.timeout,n.withCredentials=e.allowCrossSiteCredentials;var u=!1;for(var l in n.onreadystatechange=function(){if(n.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!u){var t=n.getResponseHeader(c);Un(e,t),u=!0}},n.onload=function(n){n=n.target;var r=(n.getAllResponseHeaders()||"").trim().split("\r\n"),a={};r=s.u(r);for(var u=r.next();!u.done;u=r.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ");try{var c=s.jj(a,n.response,n.status,t,n.responseURL,e,Date.now()-i);o.resolve(c)}catch(l){o.reject(l)}},n.onerror=function(n){if(n=n.target,0>=n.status)o.reject(new s.J(1,1,1002,{url:t,request:e,status:n.status}));else{var r=n.getAllResponseHeaders(),a={};if(r){r=s.u(r.trim().split("\r\n"));for(var u=r.next();!u.done;u=r.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ")}n=s.jj(a,n.response,n.status,t,n.responseURL,e,Date.now()-i),o.resolve(n)}},n.ontimeout=function(){o.reject(new s.J(1,1,1003,{url:t,request:e}))},n.onprogress=function(t){var n=Date.now(),i=n-r;(100<i||t.lengthComputable&&t.loaded===t.total)&&(Bn(e,t.loaded-a,i),a=t.loaded,r=n)},e.headers)n.setRequestHeader(l.toLowerCase(),e.headers[l]);return n.send(e.body),{promise:o,request:e,abort:function(){return n.abort(),o.reject(new s.J(1,1,7001,{url:t,request:e})),Promise.resolve()}}},s.kj=function(e){var t;e instanceof s.kj?(Mn(this,e.Ba),this.Wb=e.Wb,this.wa=e.wa,Cn(this,e.lc),this.fa=e.fa,Pn(this,Ln(e.a)),this.Eb=e.Eb):e&&(t=String(e).match(eo))?(Mn(this,t[1]||"",!0),this.Wb=Rn(t[2]||""),this.wa=Rn(t[3]||"",!0),Cn(this,t[4]),this.fa=Rn(t[5]||"",!0),Pn(this,t[6]||"",!0),this.Eb=Rn(t[7]||"")):this.a=new On(null)},Mn=function(e,t,n){e.Ba=n?Rn(t,!0):t,e.Ba&&(e.Ba=e.Ba.replace(/:$/,""))},Cn=function(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.lc=t}else e.lc=null},Pn=function(e,t,n){t instanceof On?e.a=t:(n||(t=Dn(t,io)),e.a=new On(t))},Rn=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},Dn=function(e,t,n){return a(e)===s.Dd?(e=encodeURI(e).replace(t,Nn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},Nn=function(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)},On=function(e){this.b=e||null},Ln=function(e){var t=new On;if(t.b=e.b,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.c=e.c}return t},jn=function(){return{maxAttempts:1,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},_n=function(e,t){e.timeout=t.timeout,e.baseDelay=t.baseDelay,e.backoffFactor=t.backoffFactor,e.fuzzFactor=t.fuzzFactor,e.maxAttempts=t.maxAttempts},s.yj=function(){this.b=[],this.c=[],this.g=!1,this.f=new s.xj,this.a={},this.a.data=s.Ti,An.N()?(this.a.http=An,this.a.https=An):(this.a.http=In,this.a.https=In)},s.Ci=function(e,t){s.C.$(e)&&(e={uris:[e]}),Array.isArray(e)&&(e={uris:e});var n={uris:e.uris||[],type:e.type||s.zj,uriIndex:0,method:e.method||"GET",body:e.body||null,headers:Object.assign({},e.headers),allowCrossSiteCredentials:e.allowCrossSiteCredentials||!1,onProgress:e.onProgress||null,onFragment:e.onFragment||null,maxAttempts:e.maxAttempts||1,currentAttempt:0,baseDelay:e.baseDelay||1e3,backoffFactor:e.backoffFactor||2,fuzzFactor:e.fuzzFactor||.5,timeout:e.timeout||0,requestModifiers:e.requestModifiers||[],responseModifiers:e.responseModifiers||[],startTime:e.startTime||null,endTime:e.endTime||null,contentType:e.contentType||null,licenseRequestType:e.licenseRequestType||null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:e.timescale||null};return e.keyInfo&&(n.keyInfo=e.keyInfo),t&&_n(n,t),n},s.jj=function(e,t,n,r,i,a,o){if(200<=n&&299>=n&&202!==n)return i&&(r=i),{uri:r,data:t||new ArrayBuffer(0),headers:e,status:n,fromCache:!!e["x-shaka-from-cache"],timeMs:o,request:a};i=null;try{i=s.hf(t,!0)}catch(u){}throw s.I("HTTP error text:",i),new s.J(401===n||403===n?s.K:1,1,1001,{url:r,status:n,response:i,headers:e,request:a})},Un=function(e,t){var n=parseInt(t,10);Number.isNaN(n)&&(n=-1),e.bytesTotal=n,e.bytesLoaded=0,e.bytesRemaining=n},Bn=function(e,t,n){0<e.bytesRemaining&&(e.bytesRemaining-=t),e.bytesLoaded+=t,e.onProgress&&e.onProgress(t,n)},Kn=function(){},s.Bj=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&s.zh()&&(e=360);var t=jn();return t.maxAttempts=3,{source:"",license:"",viewerId:void 0,autoplay:void 0,manifest:{attemptParameters:jn(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1e3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},drm:null,enableEnhancedSubtitleManager:!1,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:!1,streaming:{attemptParameters:t,failureCallback:void 0,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,safeSeekOffset:5,stallEnabled:!s.wh("Web0S"),stallThreshold:1,stallSkip:.1,bufferLimitUpdateInterval:.5,overridePasp:!1},restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}},s.Ej=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(!t)return s.Bj();var r=[s.Bj()],i=!1;if(t.forEach((function(e){null!==e&&void 0!==e&&(s.C.$(e)&&(e={source:e}),e.lowLatencyMode&&!i&&(r.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{Uj:{clockSyncUri:"//time.akamai.com"}}}),i=!0),r.push(e))})),t=s.C.cb.apply(null,r),s.C.$(t.volume)&&(""===""+t.volume?t.volume=null:t.volume=Number(t.volume)),!s.C.H(t.volume)&&(!s.C.sb(t.volume)||s.C.isNaN(t.volume)))throw new s.J(s.K,7,7100,"config.volume is not a number");if(!s.C.H(t.preferredTextLanguage)&&!s.C.$(t.preferredTextLanguage))throw new s.J(s.K,7,7100,"config.preferredTextLanguage is not a string");if(!s.C.H(t.preferredAudioLanguage)&&!s.C.$(t.preferredAudioLanguage))throw new s.J(s.K,7,7100,"config.preferredAudioLanguage is not a string");if(!s.C.H(t.drm)){if(t.drm.env&&!s.C.$(t.drm.env))throw new s.J(s.K,7,7100,"config.drm.env is not a string");if(t.drm.offlineId&&!s.C.$(t.drm.offlineId))throw new s.J(s.K,7,7100,"config.drm.offlineId is not a string")}if(n=t.streaming){if(n.bufferingGoal=Number(n.bufferingGoal),n.rebufferingGoal=Number(n.rebufferingGoal),n.bufferBehind=Number(n.bufferBehind),n.smallGapLimit=Number(n.smallGapLimit),n.durationBackoff=Number(n.durationBackoff),!s.C.sb(n.bufferingGoal)||s.C.isNaN(n.bufferingGoal))throw new s.J(s.K,7,7100,"config.streaming.bufferingGoal is not a number");if(!s.C.sb(n.rebufferingGoal)||s.C.isNaN(n.rebufferingGoal))throw new s.J(s.K,7,7100,"config.streaming.rebufferingGoal is not a number");if(n.rebufferingGoal>n.bufferingGoal)throw new s.J(s.K,7,7100,"config.streaming.rebufferingGoal must be >= bufferingGoal");if(!s.C.sb(n.bufferBehind)||s.C.isNaN(n.bufferBehind))throw new s.J(s.K,7,7100,"config.streaming.bufferBehind is not a number");if(!s.C.sb(n.smallGapLimit)||s.C.isNaN(n.smallGapLimit))throw new s.J(s.K,7,7100,"config.streaming.smallGapLimit is not a number");if(!s.C.sb(n.durationBackoff)||s.C.isNaN(n.durationBackoff))throw new s.J(s.K,7,7100,"config.streaming.durationBackoff is not a number");Vn(t.manifest),Fn(t.restrictions),Fn(t.abr.restrictions)}return t},Fn=function(e){if(s.C.H(e.maxPixels)&&(e.maxPixels=1/0),s.C.H(e.maxBandwidth)&&(e.maxBandwidth=1/0),s.C.H(e.maxHeight)&&(e.maxHeight=1/0),s.C.H(e.maxWidth)&&(e.maxWidth=1/0),s.C.H(e.minPixels)&&(e.minPixels=0),s.C.H(e.minBandwidth)&&(e.minBandwidth=0),s.C.H(e.minHeight)&&(e.minHeight=0),s.C.H(e.minWidth)&&(e.minWidth=0),e.minWidth=Number(e.minWidth),e.maxWidth=Number(e.maxWidth),e.minHeight=Number(e.minHeight),e.maxHeight=Number(e.maxHeight),e.minBandwidth=Number(e.minBandwidth),e.maxBandwidth=Number(e.maxBandwidth),e.minPixels=Number(e.minPixels),e.maxPixels=Number(e.maxPixels),Number.isNaN(e.minWidth)||Number.isNaN(e.maxWidth)||Number.isNaN(e.minHeight)||Number.isNaN(e.maxHeight)||Number.isNaN(e.minBandwidth)||Number.isNaN(e.maxBandwidth)||Number.isNaN(e.minPixels)||Number.isNaN(e.maxPixels))throw new s.J(s.K,7,7100,"Restrictions contain NaN")},Vn=function(e){if(s.C.H(e.availabilityWindowOverride))e.availabilityWindowOverride=NaN;else if(a(e.availabilityWindowOverride)!==s.Xc)throw new s.J(s.K,7,7100,"Invalid value for |manifest.availabilityWindowOverride|")},s.Fj=function(e){return a(e)===s.Yc&&!Array.isArray(e)&&e.hasOwnProperty("source")},s.Gj=function(e){s.Si.call(this),this.log=new s.H(e),this.configuration=this.Oc=s.Bj(),this.j=this.l=null,this.Kc=this.xd=!1,this.sf=new s.H("clpp.video.events"),this.Pc=null,this.af=0,this.mi=this.pj.bind(this),this.Ye=new s.yj,this.w=new s.ei,this.J=null},Hn=function(){this.a=this.b=null,this.c=new s.H("clpp.drm.csl")},Gn=function(e,t){3===t.type&&(e.b&&(e.c.debug("Attaching tracking token"),t.headers[ve]=e.b),e.a&&(e.c.debug("Attaching followup token"),t.headers[be]=e.a))},Wn=function(e,t){3===t.request.type&&(e.b=t.headers[ve],e.a=t.headers[be],e.b&&e.c.debug("Loaded tracking token "+e.b),e.a&&e.c.debug("Loaded followup token "+e.a))},s.Kj=function(t){this.scheme=null;var n=document.createElement("a"),r=t.match(/^(.*:)(\/\/(.*))$/),i=!1;r?(this.scheme=r[1],n.href=r[2],(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+r[3],i=!0)):(n.href=t,(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+t.match(/\/?\/?(.*)/)[1],i=!0),this.scheme=n.protocol),""===this.scheme&&(this.scheme=e.location.protocol),this.b=i?"":n.hostname,this.port=n.port,this.path=n.pathname,s.qf(this.path,"/")||(this.path="/"+this.path),this.a=n.search,this.c=n.hash},qn=function(e,t,n){return e?(n||Object.keys(e).sort()).reduce((function(n,r){if(!e.hasOwnProperty(r))return n;var i=e[r],a="&";return""===n&&(a=t?"":"?"),n=n+a+encodeURIComponent(r),n+"="+encodeURIComponent(void 0===i?"":i)}),""):""},Jn=function(e){var t={};return e=e||"",e=e.substring(e.indexOf("?")+1),e.split("&").forEach((function(e){var n=e.split("=");e=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]||""),e&&(t[e]=n)})),t},s.Nj=function(t,n){var r=void 0==n||n,i=e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_");return r?i:i.replace(/=*$/,"")},s.Oj=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},s.Pj=function(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n},s.Qj=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t},s.Rj=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},s.Sj=function(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(+t);for(var r=n=0;r<arguments.length;++r)t.set(arguments[r],n),n+=arguments[r].length;return t},zn=function(e,t,n){so.debug("Creating FPS payload");var r=t;return s.C.$(t)&&(r=s.cf(s.pf(t,2))),t=e.byteLength+4,t+=r.byteLength+4,t+=n.byteLength,t=new s.Ug(t,!0),s.Wg(t,e),s.N(t,r.byteLength),s.Wg(t,r),s.N(t,n.byteLength),s.Wg(t,n),s.cf(t.buffer)},Xn=function(e,t){var n=Ue(t,!0);return so.debug("Default Extract content ID. The hostname of the content ID URL will be used!"),new s.Kj(n).b},s.Wj=function(e,t){for(var n=s.u(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0},s.Xj=function(e){this.b=[],this.c=[],this.a=[],8<=e.byteLength&&(new s.gh).W("pssh",this.f.bind(this)).parse(e.buffer),0==this.a.length&&s.G("No pssh box found!")},s.bk=function(e){var t=this;this.j=e,this.C=new Set,this.i=this.o=null,this.S=!1,this.a=null,this.J=lo,this.l=new s.ei,this.G=new Hn,this.c=new Map,this.B=[],this.s=new s.gj,this.f=null,this.h=function(n){t.v=!0,t.m=!1,t.s.reject(n),e.onError(n)},this.Qa=new Map,this.Y=new Map,this.U=new s.Ef((function(){return ar(t)})),this.g=!1,this.ua=new s.gj,this.w=!1,this.K=[],this.Pa=!1,this.R=0,this.b=new s.H("clpp.drm.DrmEngine"),this.pa=new s.Ef((function(){or(t)})).Ea(1),this.s["catch"]((function(){})),this.v=this.m=!1},Yn=function(e){var t;return s.A((function(n){switch(n.a){case 1:return e.l.release(),e.l=null,e.G.release(),e.G=null,e.v=!1,e.m=!1,e.s.reject(),e.pa.stop(),e.pa=null,e.U.stop(),e.U=null,t=Array.from(e.c.keys()),e.c.clear(),s.x(n,Promise.all(t.map((function(t){return Promise.resolve().then((function(){return s.A((function(n){return 1==n.a?(e.b.debug("Closing session",t.sessionId),s.Ae(n,2),s.x(n,fr(t),4)):2!=n.a?s.Be(n,0):(s.Ce(n),void s.y(n))}))}))}))),2);case 2:if(!e.i){n.A(3);break}return s.Ae(n,4),s.x(n,e.i.setMediaKeys(null),6);case 6:s.Be(n,5);break;case 4:s.Ce(n);case 5:e.i=null;case 3:e.a=null,e.C.clear(),e.o=null,e.B=[],e.f=null,e.h=null,e.j=null,e.R=0,s.y(n)}}))},s.gk=function(e,t,n){return e.J=co,e.B=n,e.w=0<n.length,e.b.debug("Using Persisted Licenses: "+e.w),s.fk(e,t)},s.fk=function(e,t){var n=t.some((function(e){return 0<e.drmInfos.length}));if(!n){var r=s.C.we(e.f.Ma);ur(t,r)}var i=er(e);if(i){var a=s.u(t);for(r=a.next();!r.done;r=a.next())r.value.drmInfos=[i]}for(i=s.u(t),r=i.next();!r.done;r=i.next())for(r=s.u(r.value.drmInfos),a=r.next();!a.done;a=r.next())lr(a.value,e.f.Ma);return r=Zn(e,t),r.size?(r=s.lk(e,r),n?r:r["catch"]((function(){}))):(e.S=!0,Promise.resolve())},s.rk=function(e,t){if(!e.o)return Wt(e.l,t,(function(){e.h(new s.J(s.K,6,6010))})),Promise.resolve();e.i=t,e.l.one(e.i,s.hd,(function(){for(var t=0;t<e.K.length;t++)nr(e,e.K[t]);e.Pa=!0,e.K=[]})),e.l.on(e.i,s.be,(function(t){var n=e.m;e.m=!e.v,!n&&e.m&&(e.b.info("Waiting for DRM license key delivery"),e.j.onEvent(t))}));var n=e.i.setMediaKeys(e.o);n=n["catch"]((function(e){return Promise.reject(new s.J(s.K,6,6003,{browserError:e.message}))}));var r=Promise.resolve();return e.a&&e.a.keySystem!==s.ad&&!e.a.serverCertificate&&(r=$n(e)),r=r.then((function(){return s.ok(e)})),Promise.all([n,r]).then((function(){e.g||(s.pk(e),e.a.initData.length||e.B.length)||e.l.on(e.i,s.vc,(function(t){s.qk(e,t.initDataType,s.cf(t.initData))}))}))["catch"]((function(n){if(!e.g){if(6004===n.code&&e.a&&e.a.keySystem===s.kc&&1>e.R&&e.a.serverCertificate&&e.a.serverCertificate.length)return e.b.warn("Detected invalid widevine server certificate!. Retrying"),e.h(new s.J(1,6,6004)),e.a.serverCertificate=null,e.R++,s.rk(e,t);throw 1<=e.R&&e.b.info("Could not get valid widevine server certificate. Giving up"),n}}))},s.ok=function(e){var t;return s.A((function(n){if(1==n.a)return e.o&&e.a&&e.a.serverCertificate&&e.a.serverCertificate.length?(s.Ae(n,3),s.x(n,e.o.setServerCertificate(e.a.serverCertificate),5)):n.A(0);if(3!=n.a)return n.b||e.b.warn("Server certificates are not supported by the key system.  The server certificate has been ignored."),s.Be(n,0);throw t=s.Ce(n),new s.J(s.K,6,6004,{browserError:t.message})}))},$n=function(e){var t=e.f.Ma[e.a.keySystem],n=t.certificateUrl||"";if(""===n)return Promise.resolve();var r=(t=t.modifiers)&&t.certificateRequest,i=t&&t.certificateResponse,a=e.j.getConfiguration();return n=s.Ci([n],e.f.attemptParameters),n.type=3,r&&n.requestModifiers.push((function(e){return r(a,e)})),i&&n.responseModifiers.push((function(e){return i(a,e)})),e.b.debug("Fetching certificate"),e.j.Pb.fetch(n).promise.then((function(t){e.a.serverCertificate=s.cf(t.data)}))["catch"]((function(e){throw new s.J(s.K,6,6100,{message:"Error while fetching certificate!",url:e.data.url,status:e.data.status,response:e.data.response,headers:e.data.headers},e)}))},Qn=function(e,t){for(var n=0;n<t.$c.length;n++)if(s.Rj(e,t.$c[n]))return!0;return!1},s.pk=function(e){var t=e.a?e.a.initData:[];return t.forEach((function(t){var n=!0;if(e.f.enforceSingleSession&&!e.keySystem().startsWith(F)){var r=e.c.values();r=s.u(r);for(var i=r.next();!i.done;i=r.next())i=i.value,s.Rj(t.initData,i.initData)?(e.b.debug(m),n=!1):i.periodId===t.periodId&&(e.b.debug("Ignore duplicated init data with same period id"),Qn(t.initData,i)||i.$c.push(t.initData),n=!1)}n&&tr(e,t.keyId,t.periodId,t.initDataType,t.initData)})),e.B.forEach((function(t){return s.uk(e,t)})),t.length||e.B.length||(e.v=!0,e.m=!1,e.s.resolve()),e.s},s.qk=function(e,t,n){if(!e.keySystem().startsWith(F)){var r=new s.Xj(n);if(1<r.a.length){var i={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e.keySystem()];if(i)for(var a=0;a<r.b.length;a++)if(i===r.b[a]){n=n.subarray(r.a[a].start,r.a[a].end+1);break}}}if(r=e.c.values(),!e.i.webkitCurrentPlaybackTargetIsWireless)for(r=s.u(r),i=r.next();!i.done;i=r.next()){if(i=i.value,s.Rj(n,i.initData))return void e.b.debug(m);if(Qn(n,i))return void e.b.debug("Ignoring duplicate init data (extra).")}"skd"!==t&&tr(e,"",null,t,n)},s.vk=function(e){var t=1/0;e=e.c.keys(),e=s.u(e);for(var n=e.next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},Zn=function(e,t){for(var n=new Set,r=s.u(t),i=r.next();!i.done;i=r.next()){var a=s.u(i.value.drmInfos);for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=s.u(n),i=r.next();!i.done;i=r.next())lr(i.value,e.f.Ma);a=e.w?s.qd:s.$c;var o=e.w?[s.fd]:[s.Hd];for(r=new Map,n=s.u(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:s.$c,persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=s.u(t),i=n.next();!i.done;i=n.next()){i=i.value,a=i.audio,o=i.video;var u=a?s.eg(a.mimeType,a.codecs):"",c=o?s.eg(o.mimeType,o.codecs):"",l=s.u(i.drmInfos);for(i=l.next();!i.done;i=l.next()){i=i.value;var f=r.get(i.keySystem);f.drmInfos.push(i),i.distinctiveIdentifierRequired&&(f.distinctiveIdentifier=s.qd),i.persistentStateRequired&&(f.persistentState=s.qd),a&&f.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:u}),o&&f.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:c})}}return r},s.lk=function(e,t){function n(t,n,r){n.drmInfos.some((function(e){return!!e.licenseServerUri}))==t&&(a=a["catch"]((function(){return e.g?null:navigator.requestMediaKeySystemAccess(r,[n])})))}if(1==t.size&&t.has(""))return Promise.reject(new s.J(s.K,6,6e3));for(var r=s.u(t.values()),i=r.next();!i.done;i=r.next())i=i.value,0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;var a=r=new s.gj,o=e.f.preferredDrmSystem;return o||(i=s.Sh(),i.os===Xa&&10<=i.osVersion.major&&"edge"===i.browser&&(o=s.wk)),o&&(i=t.get(o))&&(n(!0,i,o),n(!1,i,o)),[!0,!1].forEach((function(e){t.forEach((function(t,r){r!==o&&n(e,t,r)}))})),a=a["catch"]((function(){throw new s.J(s.K,6,6001)})),a=a.then((function(n){if(e.g)return null;e.C.clear();var r=n.getConfiguration(),i=r.videoCapabilities||[],a=s.u(r.audioCapabilities||[]);for(r=a.next();!r.done;r=a.next())e.C.add(r.value.contentType);for(i=s.u(i),r=i.next();!r.done;r=i.next())e.C.add(r.value.contentType);i=n.keySystem,r=t.get(n.keySystem),a=[];var o=[],u=[],c=[];if(cr(r.drmInfos,a,o,u,c),1<o.length&&s.G("Multiple unique server certificates found! Only the first will be used."),1<a.length&&s.G("Multiple unique license server URIs found! Only the first will be used."),e.a={keySystem:i,licenseServerUri:a[0],distinctiveIdentifierRequired:r.distinctiveIdentifier==s.qd,persistentStateRequired:r.persistentState==s.qd,audioRobustness:r.audioCapabilities?r.audioCapabilities[0].robustness:"",videoRobustness:r.videoCapabilities?r.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:u,keyIds:c,periodId:null},!e.a.licenseServerUri)throw new s.J(s.K,6,6012,e.a.keySystem);return n.createMediaKeys()})).then((function(t){e.g||(e.b.info("Created MediaKeys object for key system",e.a.keySystem),e.o=t,e.S=!0)}))["catch"]((function(t){if(!e.g){if(e.a=null,e.C.clear(),t instanceof s.J)throw t;throw new s.J(s.K,6,6002,{browserError:t.message})}})),r.reject(),a},er=function(t){if(t=s.C.we(t.f.Ma.Sj||{}),0==t.size)return null;var n=[],r=[];t.forEach((function(e,t){var i=s.Pj(t),a=s.Pj(e);i={kty:"oct",kid:s.Nj(i,!1),k:s.Nj(a,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:s.nf(i),initDataType:"keyids"}],{keySystem:s.ad,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[],periodId:null}},s.uk=function(e,t){try{e.b.debug("Attempting to load an offline session",t);var n=e.o.createSession(s.fd)}catch(a){var r=new s.J(s.K,6,6005,{browserError:a.message});return e.h(r),Promise.reject(r)}e.l.on(n,s.Rc,e.Gf.bind(e)),e.l.on(n,s.Hc,e.Af.bind(e));var i={initData:null,loaded:!1,ce:1/0,Na:null,periodId:null,$c:[],keyId:null};return e.c.set(n,i),n.load(t).then((function(r){return e.g?null:(e.b.debug("Loaded offline session",t,r),r?(i.loaded=!0,sr(e)&&(e.v=!0,e.m=!1,e.s.resolve()),n):(e.c["delete"](n),e.h(new s.J(s.K,6,6013)),null))}),(function(t){e.g||(e.c["delete"](n),e.h(new s.J(s.K,6,6005,{browserError:t.message})))}))},tr=function(e,t,n,r,i){try{if(e.w){e.b.debug("Creating new persistent session");var o=e.o.createSession(s.fd)}else e.b.debug("Creating new temporary session"),o=e.o.createSession()}catch(f){return void e.h(new s.J(s.K,6,6005,{browserError:f.message}))}if(e.l.on(o,s.Rc,e.Gf.bind(e)),e.l.on(o,s.Hc,e.Af.bind(e)),e.c.set(o,{initData:i,loaded:!1,ce:1/0,Na:null,periodId:n,keyId:t,$c:[]}),e.a.keySystem.startsWith(F)){t=(t=e.f.Ma[e.a.keySystem].modifiers)&&t.extractContentId||Xn,n=e.j.getConfiguration();var u="",c="No content ID returned from |extractContentId| modifier",l=void 0;if(a(t)===s.Bc){try{u=t(n,i)||""}catch(f){l=f,c="An error occured while extracting the content ID"}u||e.h(new s.J(s.K,6,6101,c,l))}i=zn(i,u,e.a.serverCertificate)}o.generateRequest(r,i.buffer)["catch"]((function(t){if(!e.g){e.c["delete"](o);var n=null;t.errorCode&&t.errorCode.systemCode&&(n=t.errorCode.systemCode,0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)),e.h(new s.J(s.K,6,6006,{browserError:t.message,error:t,extended:n},t))}}))},nr=function(e,t){var n=t.target;e.b.debug("Sending license request for session",n.sessionId);var r=e.c.get(n);t.messageType===s.Ic&&e.j.onEvent(new s.O(W));var i=e.a.licenseServerUri,a=e.f.Ma[e.a.keySystem];"individualization-request"===t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),a=s.Ci([i],e.f.attemptParameters),a.type=3,a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,e.a.keySystem!=s.jc&&e.a.keySystem!=V||rr(e,a),Gn(e.G,a),ir(e,a),e.b.debug("Sending DRM license request to",i);var o=Date.now();e.j.Pb.fetch(a).promise.then((function(t){return e.g?Promise.reject():(e.b.info("Received license response in "+(Date.now()-o)+"ms"),Wn(e.G,t),n.update(t.data).then((function(){var t=new s.O(s.sc,{keySystem:e.keySystem(),Lh:s.vk(e)});e.j.onEvent(t),r&&(r.Na&&r.Na.resolve(),new s.Ef((function(){r.loaded=!0,sr(e)&&(e.v=!0,e.m=!1,e.s.resolve())})).P(5))})))}),(function(t){e.g||(t=new s.J(s.K,6,6007,{message:"Error while fetching license!",url:t.data.url,status:t.data.status,response:t.data.response,headers:t.data.headers},t),e.h(t),r&&r.Na&&r.Na.reject(t))}))["catch"]((function(t){e.g||(t=new s.J(s.K,6,6008,{browserError:t.message}),e.h(t),r&&r.Na&&r.Na.reject(t))}))},rr=function(e,t){var n=Ue(t.body,!0,!0);if(n.includes("PlayReadyKeyMessage")){e.b.debug("Unwrapping PlayReady request."),n=(new DOMParser).parseFromString(n,"application/xml");for(var r=n.getElementsByTagName("HttpHeader"),i=0;i<r.length;++i)t.headers[r[i].querySelector("name").textContent]=r[i].querySelector(s.Sd).textContent;t.body=s.Oj(n.querySelector("Challenge").textContent).buffer}else e.b.debug("PlayReady request is already unwrapped."),t.headers[l]="text/xml; charset=utf-8"},ir=function(e,t){var n=e.f.Ma[e.a.keySystem],r=(n=n&&n.modifiers)&&n.licenseRequest,i=n&&n.licenseResponse,a=e.j.getConfiguration();r?t.requestModifiers.push((function(e){return r(a,e)})):e.a.keySystem.startsWith(F)&&t.requestModifiers.push((function(e){var t=s.cf(e.body);e.body=s.nf(encodeURIComponent("spc="+btoa(_e(t)))).buffer,e.headers[l]=O})),i?t.responseModifiers.push((function(e){return i(a,e)})):e.a.keySystem.startsWith(F)&&t.responseModifiers.push((function(e){e:{try{var t=s.ef(e.data)}catch(n){e=void 0;break e}t=t.trim(),"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(n){}e.data=s.Oj(t).buffer,e=void 0}return e}))},ar=function(e){var t=e.Qa,n=e.Y;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.h(new s.J(s.K,6,6014)),e.j.fe(s.C.xe(n)),e.v=!0,e.m=!1},s.Ck=function(e,t){return!e.length||!t.length||0<s.Bk(e,t).length},s.Bk=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem===t[i].keySystem&&e[r].periodId===t[i].periodId){var a=e[r];i=t[i];var o=[];o=o.concat(a.initData||[]),o=o.concat(i.initData||[]);var s=[];s=s.concat(a.keyIds),s=s.concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s,periodId:a.periodId});break}return n},or=function(e){e.c.forEach((function(t,n){var r=t.ce,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.j.onExpirationUpdated(n.sessionId,i),t.ce=i)}))},sr=function(e){return e=e.c.values(),s.Wj(e,(function(e){return e.loaded}))},ur=function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=s.u(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n},cr=function(e,t,n,r,i){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return s.Rj(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&(e.initData.forEach((function(t){t.periodId=e.periodId})),e.initData.forEach((function(e){r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId||t.periodId!==e.periodId)||t.initDataType==e.initDataType&&s.Rj(t.initData,e.initData)&&t.periodId===e.periodId}))||r.push(e)}))),e.keyIds)for(var a=0;a<e.keyIds.length;++a)i.includes(e.keyIds[a])||i.push(e.keyIds[a])}))},lr=function(t,n){if(t.keySystem){var r=n[t.keySystem];t.keySystem===s.ad&&t.licenseServerUri||(r&&(t.licenseServerUri=r.licenseUrl||""),t.keyIds||(t.keyIds=[]),r&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness||""),t.audioRobustness||(t.audioRobustness=r.audioRobustness||""),t.serverCertificate||(t.serverCertificate=r.serverCertificate||null)),e.cast&&e.cast.__platform__&&t.keySystem===s.jc&&(t.keySystem=V))}},fr=function(e){var t;return s.A((function(n){if(1==n.a)return t=new Promise((function(e){new s.Ef(e).P(1)})),s.x(n,Promise.race([e.close().then((function(){return!0})),t.then((function(){return!1}))]),2);n.b||s.G("Timeout waiting for session close"),s.y(n)}))},s.Ek=function(e,t){if(0==t.length)return e;var n=t.map((function(e){return new s.kj(e)}));return e.map((function(e){return new s.kj(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(s.Dk.Jd,[]).map((function(e){return e.toString()}))},s.Fk=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[],periodId:null}},dr=function(){this.a=null,this.b=[]},s.Hk=function(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}},hr=function(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=s.u(e.b),i=r.next();!i.done;i=r.next())i=i.value,n+=i.state==t?i.duration:0;return n},pr=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=s.u(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n},gr=function(){this.c=this.b=this.f=null,this.a=[]},mr=function(e){return e.a.map((function(e){return s.C.lb(e)}))},s.Mk=function(){this.h=this.l=this.i=this.m=this.f=this.g=this.b=this.c=NaN,this.a=new dr,this.j=new gr},s.Nk=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}},vr=function(){s.Gj.call(this,U),this.m=this.o=!1,this.g=this.i=this.h=this.a=this.f=null,this.b=new s.ei,this.c=this.s=null},br=function(e,t){return e.m?Er():new Promise((function(n){e.a||(e.b.on(t,s.yc,(function(){var t=Tr(e);t&&e.onError(t)})),e.b.on(t,s.rd,(function(){e.trigger(new s.O(s.Rb,{detail:{width:t.videoWidth,height:t.videoHeight}}))})),e.a=t),n()}))},yr=function(e){return e.m?Er():new Promise((function(t){if(e.a){var n=e.a;e.b.off(n,s.yc),e.b.off(n,s.rd),e.a=null}t()}))},wr=function(e){var t,n,r,i;return s.A((function(a){return 1==a.a?e.m?a["return"](Er()):e.configuration.drm?(t=s.Tk,n=s.Uk(e.configuration.drm),e.log.debug("Drm configuration: ",n),r=e.getNetworkEngine(),e.h=new s.bk({Pb:r,onError:function(t){return e.onError(t)},fe:function(){},onExpirationUpdated:function(t,n){e.trigger(new s.O(s.pc,{expirationTime:n}))},onEvent:function(t){return e.trigger(t)},getConfiguration:function(){return e.getConfiguration()}}),e.h.f=n,i={id:0,language:s.Md,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:e.getDuration.bind(e),initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Xd,codecs:"",encrypted:!0,keyId:null,language:s.Md,label:null,type:t.VIDEO,primary:!1,frameRate:void 0,bk:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Pj:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},s.x(a,s.gk(e.h,[i],[]),2)):(e.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),a["return"](Promise.resolve())):3!=a.a?s.x(a,s.rk(e.h,e.a),3):a["return"](Promise.resolve())}))},Sr=function(e,t){function n(){e.getState()!==s.Wk&&e.seek(t)["catch"]((function(t){e.log.warn("Error while seeking to start position.",t)}))}e.a.readyState>HTMLMediaElement.HAVE_NOTHING?n():e.b.one(e.a,s.Oc,n)},Tr=function(e){if(null===e.j||!e.a.error)return null;var t=e.a.error.code;if(1===t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new s.J(s.K,3,3016,{code:t,Wj:n,message:e.a.error.message})},Er=function(){return Promise.reject(new s.J(s.K,7,7e3))},xr=function(e){function t(){u.reject(Tr(e))}function n(){c||u.reject(new s.J(s.K,3,3100,{message:"Unable to load media source successfully from "+r.url,uri:r.url},a.error))}if(e.m)return Er();var r=e.j[e.getSourceIndex()],i=e.configuration.startTime||null,a=e.a,o=e.s;i&&Sr(e,i),e.b.one(a,s.Nc,(function(){var t=Date.now()/1e3-o;e.c.i=t,e.log.debug("Time to load: ",t)})),a.src=r.url,a.load();var u=new s.gj,c=!1;return a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?u.resolve():a.error?u.reject(Tr(e)):(e.b.one(a,s.Nc,(function(){c=!0,e.b.off(a,se,n),e.b.off(a,s.yc,t),u.resolve()})),e.b.one(a,s.yc,t),e.b.one(a,se,(function(){new s.Ef((function(){return n()})).P(5)}))),new s.Yk(u,(function(){var e=new s.J(s.K,7,7001);return u.reject(e),Promise.resolve()}))},kr=function(){this.name=U},s.bl=function(e){return s.al.get(e)||null},s.dl=function(e){s.al.get(e.id())?uo.warn("Component already in use."):s.al.set(e.id(),e)},Ar=function(e){s.al.forEach((function(t){t&&e(t)}))},s.fl=function(){},Ir=function(e,t){this.g=new s.H("clpp.PlayerSurface"),this.a=s.C.cb({},po,t),this.a.containerEl=t?t.containerEl:null,this.f=a(e)===s.Dd?document.getElementById(e):e,this.j=this.l=this.i=this.c=this.h=this.b=null;var n=this.a.css;this.g.debug("Initializing Player Surface on ",this.f);var r=this.f.tagName.toLocaleLowerCase();r===s.Vd||r===s.Lb?this.b=this.f:"cast-media-player"===r&&(this.h=this.f),this.a.containerEl?(this.c=this.a.containerEl,s.vf(this.c,n.container)):this.a.disableContainer||!this.b?this.c=this.b||this.f:(r=document.createElement(this.a.containerTag),s.vf(r,this.a.css.container),this.c=r,this.b&&this.f.parentNode?this.f.parentNode.replaceChild(this.c,this.f):this.f.parentNode||this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.c.appendChild(this.b)),this.b&&(this.b.hasAttribute(H)||(r=this.a.crossorigin,this.g.info("Setting media elements crossorigin to "+r),this.b.setAttribute(H,r)),this.c&&(this.a.moveCssToContainer&&Mr(this),s.vf(this.b,n.fill)))},s.jl=function(e){var t=e.F(),n=e.a.css;t?s.vf(t,n.hidden):e.g.debug("No media element available that could be hidden")},s.kl=function(e){var t=e.F(),n=e.a.css;t?s.wf(t,n.hidden):e.g.debug("No media element available that could be shown")},Mr=function(e){e.b&&e.c&&(Ke(e.b).forEach((function(t){s.wf(e.b,t),s.vf(e.c,t)})),e.c.style.cssText=e.b.style.cssText,e.b.removeAttribute(ue),[s.he,s.Cc].forEach((function(t){var n=e.b.getAttribute(t);n=parseInt(n,10),isNaN(n)||(e.c.style[t]=n+"px"),s.xh()||e.b.removeAttribute(t)})))},Cr=function(e){return e=new s.kj(e).fa,e?(e=e.toUpperCase(),s.rf(e,".MPD")?s.ll:s.rf(e,".M3U8")?s.ml:s.rf(e,".MP4")?s.Xd:s.rf(e,"MANIFEST")||s.rf(e,".ISM")?s.nl:null):null},s.ql=function(e){var t;t=s.Fj(e)?e.source:e,Array.isArray(t)||(t=[t]),t=t.filter((function(e){return a(e)===s.Dd||e.hasOwnProperty("url")})),e=[];for(var n=0;n<t.length;n++){var r=Pr(t[n]);Pr&&e.push(r)}return e},Pr=function(e){var t=null;return s.C.$(e)&&(e={url:e}),a(e)===s.Yc&&!Array.isArray(e)&&e.hasOwnProperty("url")&&(t={url:e.url,type:e.type?e.type:null},s.C.H(e.fc)||a(e.fc)!==s.Sb||(t.fc=e.fc),s.C.H(e.isLive)||a(e.isLive)!==s.Sb||(t.isLive=e.isLive),s.C.H(e.name)||a(e.name)!==s.Dd||(t.name=e.name)),t&&!t.type&&(t.type=Cr(e.url),t.type?go.debug("Detect media type "+t.type+" for "+e.url):go.warn("Unable to detect media type for "+e.url)),t},Rr=function(){for(var e=0;e<wo.length;++e)wo[e].bc()},s.ul=function(e,t){t=t||0;for(var n={priority:t,bc:e},r=0;r<wo.length;r++)if(wo[r].priority<t)return void wo.splice(r,0,n);wo.push(n)},Dr=function(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(("undefined"===typeof Event?"undefined":a(Event))===s.Bc)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)},Nr=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},Or=function(){return s.I("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))},Lr=function(e){return s.I("PatchedMediaKeysNop.setMediaKeys"),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},jr=function(){throw new TypeError(v)},_r=function(){throw new TypeError(v)},Ur=function(t,n,r){return new e.TextTrackCue(t,n,r)},Br=function(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)},Kr=function(e){if(e=e.target,e.webkitPresentationMode===re){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement===e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},Fr=function(){return this.webkitSupportsPresentationMode(re)?(this.webkitSetPresentationMode(re),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},Vr=function(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},Hr=function(e,t){s.I("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var n=new Gr(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},Gr=function(e,t){if(s.I("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith(F))for(var n=s.u(t),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.persistentState==s.qd)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:i.initDataTypes,sessionTypes:[s.Hd],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var u=s.u(i.audioCapabilities),c=u.next();!c.done;c=u.next())c=c.value,c.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(r.audioCapabilities.push(c),o=!0));if(i.videoCapabilities)for(i=s.u(i.videoCapabilities),c=i.next();!c.done;c=i.next())u=c.value,u.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(r.videoCapabilities.push(u),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,s.Xd)),r=o?r:null}if(r)return void(this.a=r)}throw n=Error(s.Za),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},Wr=function(e){s.I("PatchedMediaKeysApple.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&Jr(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Jr(e,this):Promise.resolve()},qr=function(e){s.I("PatchedMediaKeysApple.MediaKeys"),this.b=new WebKitMediaKeys(e),this.a=new s.ei},Jr=function(e,t){if(s.hi(e.a),!t)return Promise.resolve();e.a.on(t,ge,Xr);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):e.a.one(t,s.Oc,(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(n){return Promise.reject(n)}},zr=function(e){s.I("PatchedMediaKeysApple.MediaKeySession"),s.Si.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.ei,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new $r},Xr=function(e){s.I("PatchedMediaKeysApple.onWebkitNeedKey_",e);var t=new Event(s.vc);t.initDataType=s.Zb,t.initData=e.initData,this.dispatchEvent(t)},Yr=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new s.O(s.Hc))},$r=function(){this.size=0,this.a=void 0},Qr=function(e,t,n){if("input"===e)switch(this.type){case"range":e=_}vo.call(this,e,t,n)},s.Yk=function(e,t){this.promise=e,this.j=t,this.a=!1},Zr=function(e,t){return e.promise.then((function(){return t(!0)}),(function(){return t(!1)})),e},ei=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}))["catch"]((function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}},ti=function(e){s.Yk.call(this,new s.gj,(function(){return Promise.resolve()})),this.l=e,this.c=null,this.i=this.promise,this.b=-1,this.f=this.g=this.h=null,ri(this)},ni=function(e,t,n){e.h=setTimeout(t,n)},ri=function(e){e.c=e.l.then((function(t){if(e.f=t.request,t.request.uriIndex=t.request.currentAttempt%t.request.uris.length,0<t.request.currentAttempt){-1===e.b&&(e.b=ii(t.request.baseDelay,1e3));var n=e.b*(1+(2*Math.random()-1)*ii(t.request.fuzzFactor,.5));if(e.b*=ii(t.request.backoffFactor,2),0<n)return new Promise((function(r,i){e.g=i,ni(e,(function(){r(t.plugin(t.request))}),n)}))["catch"]((function(t){if(!e.a)throw t}))}if(e.a)throw new s.J(1,1,7001,{url:t.request.uris[t.request.uriIndex],request:t.request});return t.plugin(t.request)}));var t=0,n=0;return e.c.then((function(e){var r=e.request;return r.currentAttempt+=1,t=r.currentAttempt,n=r.maxAttempts,e.promise})).then((function(t){e.i.resolve(t)}))["catch"]((function(r){if(r instanceof s.J){if(1===r.a&&7001!==r.code&&t<n)return ri(e);7001!==r.code&&r.ib(s.K),e.i.reject(r)}else e.i.reject(r)}))},ii=function(e,t){return null===e||void 0===e?t:e},s.Xl=function(e){this.b=e,this.a={}},s.$l=function(e){var t={},n=e.a[s.Yl];return n&&(t[s.Yl]={licenseUrl:n.licenseUrl,videoRobustness:n.videoRobustness,audioRobustness:n.audioRobustness,modifiers:n.modifiers,distinctiveIdentifierRequired:n.distinctiveIdentifierRequired,persistentStateRequired:n.persistentStateRequired,serverCertificate:n.serverCertificate}),(n=e.a[s.Zl])&&(t[s.Zl]={licenseUrl:n.licenseUrl,certificateUrl:n.certificateUrl,modifiers:n.modifiers}),(n=e.a[s.wk])&&(t[s.wk]={licenseUrl:n.licenseUrl,modifiers:n.modifiers}),t},s.bm=function(e){s.am[e.b]=e},s.Uk=function(e){var t={attemptParameters:jn(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Ma:{}};return e&&(t.enforceSingleSession=!!e.enforceSingleSession,t.delayLicenseRequestUntilPlayed=!!e.delayLicenseRequestUntilPlayed,t.preferredDrmSystem=e.preferredDrmSystem,e.env&&(t.Ma=s.$l(s.am[e.env]||null)||{},s.qf(e.env.toLowerCase(),"drmtoday")&&(t.enforceSingleSession=!0))),t},ai=function(e,t,n){this.c=new Uint8Array(e),this.a=t,this.b=n},s.em=function(e){var t=new Uint8Array(yo),n=4+t.byteLength+e.c.byteLength+4+e.b.byteLength,r=new s.Ug(n,!1);return s.N(r,n),s.Wg(r,t),s.Wg(r,e.c),s.N(r,e.b.byteLength),s.Wg(r,e.b),s.cf(r.buffer)},oi=function(){ai.apply(this,arguments)},s.hm=function(e){var t=s.Pj(e);return t=parseInt(t.byteLength,10).toString(16),t=s.Pj("12"+t+e),new oi(bo,e,t)},s.im=function(e,t,n,r){ai.call(this,e,t,r),this.f=n},s.lm=function(e){e:{for(e=new s.Xg(new DataView(e.buffer),!0),s.bh(e),s.ah(e);s.Yg(e);)if(1===s.ah(e)){var t=s.ah(e);e=s.eh(e,t);break e}e=null}t=Ue(e,!0),t=s.M.Lf(t,"WRMHEADER");var n=s.M.L(t,"DATA")[0];return t=s.M.L(n,"LA_URL")[0],t=s.M.Fb(t),n=s.M.L(n,"KID")[0],n=s.M.Fb(n)||"",n=s.Oj(n),n=s.jm(n),n=s.Qj(n),new s.im(s.km,n,t,e)},s.jm=function(e){var t=[];return t.push(e[3]),t.push(e[2]),t.push(e[1]),t.push(e[0]),t.push(e[5]),t.push(e[4]),t.push(e[7]),t.push(e[6]),e=s.cf(e),e.set(t,0),e},si=function(e){if(e===Eo)return"https://lic.drmtoday.com";if(e===xo)return"https://lic.staging.drmtoday.com";if(e===ko)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+e+"'. Can not infer DRMtoday base URL!")},ui=function(e,t){var n=si(t);if(e==s.Yl)return n+Io;if(e==s.wk)return n+Mo;if(e==s.Zl)return n+Co;throw Error("Unknown DRM Key-System '"+e+"'. Can not infer license URL!")},ci=function(e){if(e=So[e],!e)return null;var t=s.Sh();return t.os===Wa&&4===t.osVersion.major&&4===t.osVersion.minor?null:new Uint8Array(e)},s.wm=function(){var e=s.Sh();return e.os===Wa&&"chrome"===e.browser?{video:void 0,audio:void 0}:{video:E,audio:T}},s.ym=function(e,t){var n=Ue(t,!0);n=n.replace(/assetid/gi,"assetId"),n=n.replace(/variantid/gi,"variantId"),n=n.replace(/keyid/gi,"keyId"),n=new s.Kj(n);var r=Jn(n.a);if(e&&e.drm&&e.drm.customData){var i=e.drm.customData,a=i.assetId,o=i.variantId;a&&s.sf(""+a)&&(r.assetId=a,To.info("Using assetId from the configuration instead of the value from the HLS manifest.")),o&&s.sf(""+o)&&(r.variantId=o,To.info("Using variantId from the configuration instead of the value from the HLS manifest.")),e.drm.env.startsWith(d)&&(a=r.keyId,(o=r.assetId)&&!i.assetId&&(To.info("Applying assetId from HLS manifest."),i.assetId=o),a&&!i.keyId&&(To.info("Applying keyId from HLS manifest."),i.keyId=a))}return n.a=qn(r,!1,["assetId","variantId","keyId"]),n.scheme+"//"+n.b+(n.port?":"+n.port:"")+n.path+n.c+n.a},s.zm=function(e,t,n){if(n=void 0===n||n,e=e.drm,e&&e.env.startsWith(f)){if(e.customData){var r=btoa(JSON.stringify({userId:e.customData.userId,sessionId:e.customData.sessionId,merchant:e.customData.merchant}));t.headers[q]=r,e.customData.authToken&&(t.headers[me]=""+e.customData.authToken),r=t.uris[0],n&&e.customData.assetId&&(r+="?assetId="+encodeURI(""+e.customData.assetId),e.customData.variantId&&(r+="&variantId="+encodeURI(""+e.customData.variantId)),t.uris[0]=r)}}else To.warn(y)},s.Am=function(e,t){s.zm(e,t,!1),t.headers[l]=O;var n={spc:s.mf(t.body)},r=e.drm;r&&r.env.startsWith(d)&&r.customData&&(r.customData.keyId&&(To.info("Adding keyID to FPS payload:",r.customData.keyId),n.keyId=r.customData.keyId),r.customData.assetId&&(To.info("Adding assetID to FPS payload:",r.customData.assetId),n.assetId=r.customData.assetId)),t.body=s.pf(qn(n,!0))},s.Bm=function(e,t){To.debug("Clearing response data");var n=s.ef(t.data).trim();"<ckc>"===n.substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),t.data=Be(n).buffer},s.Cm=function(e,t){var n=e.drm;if(n&&n.env.startsWith(f)){if(n.customData){var r=btoa(JSON.stringify({userId:n.customData.userId,sessionId:n.customData.sessionId,merchant:n.customData.merchant}));t.headers[q]=r,n.customData.authToken&&(t.headers[me]=""+n.customData.authToken)}}else To.warn(y)},s.Dm=function(e,t){try{var n=s.cf(t.data),r=JSON.parse(String.fromCharCode.apply(null,n));To.debug("Widevine License response",r);var i=atob(r.license),a=new Uint8Array(i.length);for(n=0;n<i.length;++n)a[n]=i.charCodeAt(n);t.data=a.buffer}catch(o){To.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}},s.Em=function(e){var t=[];e=s.u(e);for(var n=e.next();!n.done;n=e.next()){n=s.u(n.value.variants);for(var r=n.next();!r.done;r=n.next())t.push(r.value)}return t},li=function(e,t){e.onError(t),e.release().then((function(){return e.destroy()}))},fi=function(e,t,n){this.c=e,this.b=t,JSON.parse(s.ef(Be(e))),this.a=JSON.parse(s.ef(Be(t))),this.f=n},di=function(e){this.license=e,this.a=null,this.b=new s.H("clpp.utils.LicenseKey")},hi=function(e){if(!e.a){var t=e.license.split(".");if(3!=t.length)throw Error("Expected to find 3 data sections in JWT raw data");t=new fi(t[0],t[1],t[2]),e.a=t}return e.a},pi=function(e){switch((e.dd()[0]||{src:"",type:""}).type){case s.ll:e="dash";break;case s.nl:e="ss";break;case s.ml:e="hls";break;case s.Xd:e=s.Uc;break;default:e=""}return e},gi=function(e){return e.viewerId?e.viewerId:(e=e.drm||null)&&e.customData&&e.customData.userId?""+e.customData.userId:""},mi=function(e){return(e=e.drm||null)&&e.customData&&e.customData.assetId?""+e.customData.assetId:""},vi=function(e){return(e=e.drm||null)&&e.customData&&e.customData.sessionId?""+e.customData.sessionId:""},bi=function(e){e=e.getConfiguration();var t="no";return e.drm&&(t="custom",e.drm&&e.drm.env&&e.drm.env.startsWith(f)&&(t="drmtoday")),t},yi=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.keySystem){case s.Yl:t="wv";break;case s.wk:t="pr";break;case s.Zl:t="fps"}return t},wi=function(e){e=e.getDrmInfo();var t=!1;return e&&(t=e.persistentStateRequired),t.toString()},Si=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.videoRobustness){case g:case"HW_SECURE_ALL":t="L1";break;case p:t="L2";break;case E:case T:t="L3"}return t},Ti=function(t,n){if(!e.location.protocol.startsWith("http"))return t.b.debug("Registration protocol check",e.location.protocol,e.location.protocol.startsWith("http")),Promise.resolve();var r="ie"===s.Sh().browser,i=n.getConfiguration();if(i={"CL-KEY":t.license,"CL-LOCATION":e.location.href,"CL-SDK-VERSION":s.da,"CL-USER-ID":gi(i),"CL-ASSET-ID":mi(i),"CL-SESSION-ID":vi(i),"CL-PLAYBACK-TYPE":n.isLive()?Do:Ro,"CL-CONTENT-TYPE":pi(n),"CL-PLUGINS":n.bi().join(" "),"CL-DRM":bi(n),"CL-DRM-CDM":yi(n),"CL-DRM-SEC-LEVEL":Si(n),"CL-DRM-OFFLINE":wi(n)},r){var a=e.localStorage.getItem("cl_et");a&&(i["CL-ETAG"]=a)}return a=s.Ci(["https://downloads.castlabs.com/r/register/"]),a.method="GET",a.headers=i,(new s.yj).fetch(a).promise.then((function(t){return 200===t.status&&r&&e.localStorage.setItem("cl_et",t.headers.etag),Promise.resolve()}))["catch"]((function(e){e:{var n=hi(t);e=e.data;var r=e.status;if(n.a&&n.a.ilv)e=Promise.resolve();else{switch(r){case 403:case 404:n=7101;var i="castLabs Player license is invalid";i=403===r?i+": "+e.response:i+"!";break;case 412:n=7103,i="userID is required for playback!";break;default:e=Promise.resolve();break e}e=Promise.reject(new s.J(s.K,7,n,i))}}return e}))},s.Um=function(e,t,n){this.g=e,this.h=t,this.f=n||this.g.F(),this.a=this.b=this.c=null},s.xj=function(){this.a=[]},s.Vm=function(e,t){e.a.push(Zr(t,(function(){s.vg(e.a,t)})))},s.Xm=function(e){var t=(e||"").split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=No.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e},s.Ym=function(e,t,n,r,i,a,o,u){return e=s.Ci(e),e.timeout=r.timeout,e.maxAttempts=r.maxAttempts,e.baseDelay=r.baseDelay,e.fuzzFactor=r.fuzzFactor,e.backoffFactor=r.backoffFactor,0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),i&&(e.startTime=i),a&&(e.endTime=a),o&&(e.contentType=o),u&&(e.timescale=u),e},s.$m=function(){this.a=new Blob([Oo],{type:s.Xd})},s.an=function(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0},s.bn=function(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)},s.cn=function(e){return e.a/(1-Math.pow(e.c,e.b))},Ei=function(e,t,n){s.Si.call(this);var r=this;if(Rr(),this.c=new s.H("clpp.Player"),!e)throw new s.J(s.K,7,7102);if(null===t)throw new s.J(s.K,7,7100,"Null configuration provided! Unable to initialize the player!");if(this.b=this.B=t||s.Bj(),void 0===this.b.license&&(this.b.license="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",this.c.warn("You are using the embedded demo license!")),!this.b.license)throw new s.J(s.K,7,7101,"No license provided in configuration!");this.f=new Ir(e,n),this.a=this.i=null,this.l=new s.yj,this.g=null,this.s=[],this.v={},this.h=null,this.m=!0,this.o=this.j=!1,this.w=function(e){(e=e.detail)&&e.currentState===s.dn&&(ki(r),r.off(s.Bd,r.w))},this.on(s.Bd,(function(){r.getState()===s.Wk&&r.unload()})),xi(this,this.b.license),this.f.F()&&(e=this.f.F(),e.hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),this.c.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),void 0===this.b.autoplay&&(this.b.autoplay=!0,this.c.debug("Setting autoplay in configuration since it was specified in the video element"))));var i=[];Lo.forEach((function(e){try{var t=e.create(r.b);t&&i.push(t)}catch(n){r.c.error("Error while creating player plugin",n)}})),Ai(this,i),s.al.clear()},s.jn=function(e,t){t!==e.a&&(e.a&&(e.a.removeDelegate(e),e.a.destroy()),e.a=t,e.a&&(e.a.init(e.f,e.b),e.a.setNetworkEngine(e.getNetworkEngine()),e.a.addDelegate(e)))},xi=function(e,t){e.i=new di(t),e.i.verify()["catch"]((function(t){setTimeout((function(){e.c.error("License verification failed: "+t),e.trigger(new s.O(s.yc,{detail:new s.J(s.K,7,7101)})),e.destroy()}),1e3)}))},ki=function(e){e.f.F(),e.i||(e.i=new di(e.b.license));var t=Object.keys(e.v);Ti(e.i,{getConfiguration:e.getConfiguration.bind(e),dd:e.dd.bind(e),getDrmInfo:e.getDrmInfo.bind(e),bi:function(){return t},isLive:e.isLive.bind(e)}).then((function(){e.c.debug("License verified remotely")}))["catch"]((function(t){setTimeout(li,1e3,{release:e.release.bind(e),destroy:e.destroy.bind(e),onError:e.onError.bind(e)},t)}))},Ai=function(e,t){e.s=t,e.Fc("onPlayerCreated").then((function(){e.s.forEach((function(t){var n=t.id();n&&(e.v[n]=t)}))}))},Ii=function(e,t){return new Promise((function(n,r){var i;e:{if(t){for(i=0;i<t.length;i++);i=Object.values(s.Zh);for(var a=0;a<i.length;a++)for(var o=0;o<t.length;o++)if(i[a].canPlay(t[o])){s.$h.debug("Player Factory '"+i[a].name+"' can play",t[o]),i=new Ft(i[a],o);break e}s.$h.error("No compatible Player Factory found for sources:",t)}i=null}i?(a=i.b.create(),n(new Vt(a,i.a))):(i=new s.O(s.yc,{detail:new s.J(s.K,7,7003)}),e.trigger(i),r(i))}))},s.mn=function(e,t){var n,r,i,a;return s.A((function(o){switch(o.a){case 1:if(e.j)throw Error("Player is already destroyed.");if(!e.f)throw Error("No surface associated with this player!");return s.x(o,e.release(),2);case 2:if(e.h=s.ql(t),n=s.Fj(t),e.b=s.Ej(e.B,n?t:{},{source:e.h}),0===e.h.length)throw Error("Invalid request to load: could not find source to load");if(e.m=!1,r=e.h.findIndex((function(t){return e.canPlay(t)})),-1!==r&&!e.o){o.A(3);break}return s.x(o,Ii(e,e.h),4);case 4:a=o.b,i=a.a,r=a.b,e.o=!1;case 3:return i?s.jn(e,i):e.a.addDelegate(e),e.g=_i(e,e.b).create(e),e.setSourceIndex(r),Ar((function(e){e.vc()})),s.x(o,e.Fc("onContentWillLoad",e.b.source[r]),0)}}))},s.nn=function(e){return s.A((function(t){return e.f.F(),e.on(s.Bd,e.w),e.trigger(new s.O(ee)),s.x(t,Promise.all([e.a.load(e.b),e.g.load()]),0)}))},s.on=function(e){var t,n,r;return s.A((function(i){if(1==i.a){if(e.b.remoteTextTracks)for(t=s.u(e.b.remoteTextTracks),n=t.next();!n.done;n=t.next())r=n.value,e.getTrackManager().addTextTrack(r);return Ar((function(){})),s.x(i,e.Fc(s.Zc,e.getThumbnailStreams()),2)}return e.b.autoplay?s.x(i,e.play(),0):i.A(0)}))},s.pn=function(e){e&&(0<=Lo.indexOf(e)||Lo.push(e))},Mi=function(e){this.c=new s.H("clpp.StateManager"),this.a=e,this.b=s.qn,this.j=s.rn,this.w=0,this.i=-1,this.J=this.g=this.C=this.m=0,this.h=this.l=this.B=this.s=!1,this.v=0,this.f=null,this.G=0,this.K=s.yh(),this.o=!1,this.C=(new Date).getTime(),this.c.debug("Start watching for video events for "+this.a.namespace()),this.a.on(s.xc,this.zf,this),this.a.on(L,this.Ee,this),this.a.on(s.id,this.He,this),this.a.on(s.ed,this.Ge,this),this.a.on(s.ld,this.Ie,this),this.a.on(s.md,this.Je,this),this.a.on(s.td,this.Vc,this),this.a.on(s.ud,this.Wc,this),this.a.on(se,this.Ke,this),this.a.on(s.ae,this.If,this),this.a.on(s.yc,this.Fe,this),this.a.on(s.Oc,this.Bf,this),this.a.on(j,this.wf,this),this.a.on(s.Rd,this.Wc,this),this.a.on(s.Qd,this.Vc,this)},Ci=function(e,t){return Object.keys(t)[e]},Pi=function(e,t){var n={type:s.Bd};return t===s.Ub||t===s.Tb?(n.reason=e.i,t===s.Ub?n.timeSinceLastStateChangeMS=e.w:n.bufferedTimeMS=e.m):(e.b===s.un&&(n.reason=e.i),e.j===s.un&&(n.reason=e.i,n.bufferedTimeMS=e.m),n.currentState=e.b,n.previousState=e.j,n.timeSinceLastStateChangeMS=e.w),n},Ri=function(e,t){if(e.b===t)return!1;var n=(new Date).getTime(),r=e.b===s.un;return e.j=e.b,e.b=t,e.j===s.wn&&(e.C=n,e.g=0),e.g||(e.g=e.C||n),e.w=n-e.g,e.g=n,t===s.un?(e.J=e.g,e.i=e.l?1:2,e.c.info("Buffering started. Reason: "+Ci(e.i-1,s.xn)),n=Pi(e,s.Ub),e.Jc(s.Ub,n)):r&&(e.m=e.g-e.J,e.c.info("Buffering finished. Reason: "+Ci(e.i-1,s.xn)+". Buffering time: "+e.m+" ms"),n=Pi(e,s.Tb),e.Jc(s.Tb,n)),n=Ci(e.j,s.yn),r=Ci(e.b,s.yn),e.c.info(s.Ia+n+" -> "+r),e.Jc(s.Bd,Pi(e,"")),!0},Di=function(e){return e.a.namespace()!==K},Ni=function(e,t){if(e.b===s.Wk)e.c.warn("Player is in error state, aborting any further state checks");else{var n=!!e.a&&e.a.isEnded();if(n)Ri(e,s.wn)&&e.c.debug("Player claims to be in ended state, not checking more");else{var r=e.a.getPosition();r=null!==r&&void 0!==r&&0<=r?e.a.getBufferInfo().qa(r,!0):-1,e.v=r;var i=e.a.getSurface().F();e.f=i?i.readyState:null,e.G=e.a.getPlaybackRate()||1,e.B=e.a.isPaused(),r=e.l,i=Di(e)&&a(e.f)===s.Xc&&2>e.f&&2===i.networkState;var o=Di(e)&&a(e.f)===s.Xc&&0>=e.v&&e.b===s.qn,u=Di(e)&&a(e.f)===s.Xc&&2>=e.f&&e.h,c=e.a.namespace()===K&&!0;r=r||o||i||u||c,!e.K||e.a.isLive()||e.b!==s.un||r||(i=t===s.td&&4===e.f,(o=e.j===s.Bn)&&!e.o?r=!0:o||e.o||i||(r=!0)),i=!1,r?i=Ri(e,s.un):e.B?i=Ri(e,s.Cn):e.s&&(i=Ri(e,s.dn)),i&&(e.o=!1),e.c.debug("Video state check for event "+t+":: seeking: "+e.l+", waiting: "+e.h+", playing: "+e.s+", paused: "+e.B+", readyState: "+e.f+", rate: "+e.G+", buffer: "+e.v+", ended: "+n+". Changed state: "+i+", Current state: "+Ci(e.b,s.yn))}}},s.En=function(e,t,n,r,i){this.za=e,this.ta=t,this.ga=n,this.keyInfo=r||null,this.ec=!!i},s.Fn=function(e,t,n,r,i,a,o,s,u){this.position=e,this.startTime=t,this.endTime=n,this.za=r,this.ta=i,this.ga=a,this.keyInfo=o||null,this.ec=!!s,this.timescale=void 0===u?null:u},s.Gn=function(e,t,n){var r=void 0!==r&&r;this.h=e,this.s=t,this.Sb=this.f=1/0,this.a=1,this.i=0,this.c=this.g=null,this.j=0,this.b=!0,this.m=!1,this.v=void 0===n||n,this.l=new s.H("clpp.media.PresentationTimeline"),this.o=r},s.In=function(e,t,n){if(0!=t.length){var r=t[t.length-1].endTime+n;s.Hn(e,t[0].startTime+n),e.a=t.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),e.a),e.c=Math.max(e.c,r),null!=e.h&&e.v&&(e.h=(Date.now()+e.j)/1e3-e.c-e.a),e.l.debug("notifySegments: maxSegmentDuration="+e.a)}},s.Hn=function(e,t){e.g=null==e.g?t:Math.min(e.g,t)},s.Jn=function(e,t){e.a=Math.max(e.a,t),e.l.debug("notifyNewSegmentDuration: maxSegmentDuration="+e.a)},s.Ln=function(e){return 1/0==e.Sb?0:(e=s.Kn(e)-e.Sb,Math.max(0,e))},s.Kn=function(e){if(e.Nb())e=e.c;else if(e.isLive()||1/0!=e.f&&!e.b){var t=(Date.now()+e.j)/1e3;e=Math.min(e.o?Math.max(0,t-(e.a-e.i)-e.h):Math.max(0,t-e.a-e.h),e.f)}else e=e.f;return e},s.Mn=function(e){this.a=e},s.Nn=function(e,t){for(var n=0;n<e.a.length;++n)if(e.a[n].endTime>t)return void e.a.splice(0,n);e.a=[]},s.On=function(e,t){for(;e.a.length;){if(!(0>=e.a[0].endTime))break;e.a.shift()}if(0!=e.a.length){var n=e.a[e.a.length-1];n.startTime>=t||(e.a[e.a.length-1]=new s.Fn(n.position,n.startTime,t,n.za,n.ta,n.ga,n.keyInfo,n.ec,n.timescale))}},Oi=function(){},Li=function(){},ji=function(){},s.Un=function(e){e&&(0<=_o.indexOf(e)?jo.warn("Factory '"+e.name()+"' is already registered"):(_o.push(e),jo.info("Factory "+e.name()+"' has been registered.")))},_i=function(e,t){var n=_o.find((function(n){return n.N(e,t)}));return n||(n=new Li),jo.info("Chosen ads: "+n.name()),n},Ui=function(){},Bi=function(){},Ki=function(){},s.Xn=function(){},Fi=a(Object.create)==s.Bc?Object.create:function(e){function t(){}return t.prototype=e,new t},a(Object.setPrototypeOf)==s.Bc)Vi=Object.setPrototypeOf;else{var Wi;e:{var qi={Vf:!0},Ji={};try{Ji.__proto__=qi,Wi=Ji.Vf;break e}catch(Uo){}Wi=!1}Vi=Wi?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}s.pe=Vi,Hi=a(Object.defineProperties)==s.Bc?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Gi="undefined"!=typeof e&&e===this?this:"undefined"!=typeof r&&null!=r?r:this,Te.prototype.toString=function(){return this.a};var zi=function(){function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new Te("jscomp_symbol_"+(n||"")+"_"+t++,n)}var t=0;return e}();ke.prototype.j=function(e){this.b=e},ke.prototype["return"]=function(e){this.c={return:e},this.a=this.g},ke.prototype.A=function(e){this.a=e},Re("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=Gi.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(a(e)){case s.Yc:var n=null!=e;break e;case s.Bc:n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(n){return void this.f(n)}a(t)==s.Bc?this.s(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.o=function(e){var t=this.c();e.Sc(t.resolve,t.reject)},t.prototype.s=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return a(e)==s.Bc?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,u=new t((function(e,t){i=e,o=t}));return this.Sc(r(e,i),r(n,o)),u},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype.Sc=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s.u(e),a=i.next();!a.done;a=i.next())r(a.value).Sc(t,n)}))},t.all=function(e){var n=s.u(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,s--,0==s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Sc(a(o.length-1),t),i=n.next()}while(!i.done)}))},t}));var Xi=this||self;Xi.a=!0,clpp={},s.r=Ne.prototype,s.r.getBackgroundColor=function(){return this.m},s.r.setBackgroundColor=function(e){this.m=e,this.Oa()},s.r.getWindowColor=function(){return this.G},s.r.setWindowColor=function(e){this.G=e,this.Oa()},s.r.getFontFamily=function(){return this.v},s.r.setFontFamily=function(e){this.v=e,this.Oa()},s.r.getFontColor=function(){return this.s},s.r.setFontColor=function(e){this.s=e,this.Oa()},s.r.getFontSize=function(){return this.w},s.r.setFontSize=function(e){this.w=e,this.Oa()},s.r.getEdgeColor=function(){return this.i},s.r.setEdgeColor=function(e){this.i=e,this.Oa()},s.r.getEdgeType=function(){return this.f},s.r.setEdgeType=function(e){this.f=e,this.Oa()},Ne.prototype.setEdgeType=Ne.prototype.setEdgeType,Ne.prototype.getEdgeType=Ne.prototype.getEdgeType,Ne.prototype.setEdgeColor=Ne.prototype.setEdgeColor,Ne.prototype.getEdgeColor=Ne.prototype.getEdgeColor,Ne.prototype.setFontSize=Ne.prototype.setFontSize,Ne.prototype.getFontSize=Ne.prototype.getFontSize,Ne.prototype.setFontColor=Ne.prototype.setFontColor,Ne.prototype.getFontColor=Ne.prototype.getFontColor,Ne.prototype.setFontFamily=Ne.prototype.setFontFamily,Ne.prototype.getFontFamily=Ne.prototype.getFontFamily,Ne.prototype.setWindowColor=Ne.prototype.setWindowColor,Ne.prototype.getWindowColor=Ne.prototype.getWindowColor,Ne.prototype.setBackgroundColor=Ne.prototype.setBackgroundColor,Ne.prototype.getBackgroundColor=Ne.prototype.getBackgroundColor,s.C={Tf:20,lb:function(e){var t=s.C.H,n=s.C.pf,r=s.C.cb;return t(e)||n(e)?e:r(e)}},s.B("clpp.utils.obj.cloneItem",s.C.lb),s.C.cb=function(e){var t,n={},r=0;for(t=arguments.length;r<t;r++)null!==arguments[r]&&void 0!==arguments[r]&&(n=s.C.tf(n,{merging:arguments[r]}));return n.merging},s.B("clpp.utils.obj.merge",s.C.cb),s.C.tf=function(e,t,n){var r=s.C.H,i=s.C.pf,a=s.C.tf,o=s.C.Mb,u=s.C.ki,c=s.C.hi,l=s.C.Bc;for(var f in n=n+1||1,!r(e)&&l(e)||(e={}),t)t.hasOwnProperty(f)&&(l=t[f],i(l)||r(l)||o(l)?e[f]=l:u(l)?e[f]=l.subarray(0):l instanceof Array?e[f]=a([],l):!r(l)&&c(l)&&n<s.C.Tf&&(e[f]=a(e[f],l,n)));return e},s.C.pf=function(e){return e=a(e),e===s.Dd||e===s.Xc||e===s.Sb},s.C.H=function(e){return null===e||void 0===e},s.C.Bc=function(e){return a(e)===s.Yc},s.C.Mb=function(e){return a(e)===s.Bc},s.C.$=function(e){return a(e)===s.Dd},s.C.sb=function(e){return a(e)===s.Xc},s.C.ki=function(e){var t=s.C.Bc,n=s.C.Mb;return!!(t(e)&&e.buffer&&e.buffer instanceof ArrayBuffer&&n(e.subarray))},s.C.hi=function(e){var t=s.C.Bc,n=s.C.H;return!n(e)&&t(e)&&e.constructor===Object},s.C.xa=function(e,t,n,r){if(e===t||null===e&&null===t||void 0===e&&void 0===t)return!0;if(null===e&&null!==t||null!==e&&null===t||void 0!==e&&void 0===t||void 0===e&&void 0!==t||!s.C.Bc(e)||!s.C.Bc(t))return!1;for(var i=n||Object.keys(e),a={},o=0;o<i.length;o++){var u=i[o];if((s.C.H(r)||0>r.indexOf(u))&&(a[u]=!0,e[u]!==t[u]))return!1}if(s.C.H(n))for(e=Object.keys(t),t=0;t<e.length;t++)if(n=e[t],(s.C.H(r)||0>r.indexOf(n))&&!a[n])return!1;return!0},s.C.isNaN=function(e){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(e){return e!==e})(e)},s.C.we=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},s.C.xe=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};var Yi={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};s.B("clpp.log.Level",Yi);var $i=3,Qi={},Zi=[];s.B("clpp.log.getLoggers",(function(){return s.C.lb(Qi)})),s.B("clpp.log.addInterceptor",(function(e){e&&Zi.push(e)})),s.B("clpp.log.removeInterceptor",(function(e){e&&(e=Zi.indexOf(e),0<=e&&Zi.splice(e,1))})),s.B("clpp.log.getTagLevel",Le),s.B("clpp.log.hasTagLevel",(function(e){return void 0!==e&&0<=Qi[e]})),s.B("clpp.log.setTagLevel",(function(e,t){e&&(s.C.$(t)&&(t=je(t)),Qi[e]=t)})),s.B("clpp.log.setLogLevel",(function(e){-1===e&&(e=3),s.C.$(e)&&(e=je(e)),$i=e})),s.B("clpp.log.getLogLevel",(function(){return $i})),s.B("clpp.log.Logger",s.H),s.H.prototype.log=function(t,n){var r=arguments;if(e.console){var i=t;1<arguments.length?(i=arguments[0],Array.prototype.shift.call(arguments)):i=3;var a=Le(this.a);if(0<=a){if(a<i)return}else if($i<i)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]"),a=new Date,a.toISOString&&(a=a.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,a)),4===i?console.log.apply(console,arguments):3===i?console.info.apply(console,arguments):2===i?console.warn.apply(console,arguments):1===i?console.error.apply(console,arguments):console.log.apply(console,arguments),0<Zi.length&&Zi.forEach((function(e){e.call(e,i,r)}))}},s.H.prototype.log=s.H.prototype.log,s.H.prototype.info=function(e){Array.prototype.unshift.call(arguments,3),this.log.apply(this,arguments)},s.H.prototype.info=s.H.prototype.info,s.H.prototype.debug=function(e){Array.prototype.unshift.call(arguments,4),this.log.apply(this,arguments)},s.H.prototype.debug=s.H.prototype.debug,s.H.prototype.warn=function(e){Array.prototype.unshift.call(arguments,2),this.log.apply(this,arguments)},s.H.prototype.warn=s.H.prototype.warn,s.H.prototype.error=function(e){Array.prototype.unshift.call(arguments,1),this.log.apply(this,arguments)},s.H.prototype.error=s.H.prototype.error,s.H.prototype.Fh=function(e){return e?this.a?new s.H(this.a+"."+e):new s.H(e):this},s.H.prototype.createChild=s.H.prototype.Fh;var ea=new s.H("clpp");s.B("clpp.log.info",s.$e),s.B("clpp.log.debug",s.I),s.B("clpp.log.warn",s.G),s.B("clpp.log.error",s.af);for(var ta=new s.H("clpp.utils.strings"),na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ra=[],ia=0,aa=na.length;ia<aa;++ia)ra[na.charCodeAt(ia)]=ia;ra[61]=0,s.B("clpp.utils.strings.fromUtf8",s.ef),s.B("clpp.utils.strings.fromBytesAutoDetect",s.hf),s.B("clpp.utils.strings.fromBase64",Be),s.B("clpp.utils.strings.toBase64",s.mf),s.B("clpp.utils.strings.toUtf8",s.nf),s.B("clpp.utils.strings.toUtf16",s.of),s.B("clpp.utils.strings.toByteArray",s.pf),s.B("clpp.utils.strings.startsWith",s.qf),s.B("clpp.utils.strings.endsWith",s.rf),s.B("clpp.utils.strings.bitrateToString",(function(e){if(void 0===e||null===e||""===e)return"";try{var t=Number(e);return s.C.isNaN(t)?"":(e="bps",1e3<=Math.abs(t)&&(e="Kbps",t/=1e3),1e3<=Math.abs(t)&&(e="Mbps",t/=1e3),t.toFixed(2).replace(/[.,]00$/,"")+e)}catch(n){return""}})),s.B("clpp.utils.strings.durationToStirng",(function(e,t){function n(e){return function(t,n){return r(e,n.length-1)}}function r(e,t){return e.length<t?r("0"+e,t):e}t=void 0===t?"%h:%mm:%ss":t,null!==e&&void 0!==e||(e=0),null!==t&&void 0!==t||(t="%h:%mm:%ss");var i=Math.floor(e/3600),a=Math.floor((e-3600*i)/60),o=Math.floor(e-3600*i-60*a);return t.replace(/(%h+)/,n(String(i))).replace(/(%m+)/,n(String(a))).replace(/(%s+)/,n(String(o)))})),s.B("clpp.utils.strings.hashCode",(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++){var r=e.charCodeAt(t);n=(n<<5)-n+r,n|=0}return n})),s.Df.prototype.P=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},s.Df.prototype.stop=function(){this.a&&(this.a(),this.a=null)},s.Ef.prototype.qe=function(){return this.stop(),this.b(),this},s.Ef.prototype.P=function(e){var t=this;return this.stop(),this.a=new s.Df((function(){t.b()})).P(e),this},s.Ef.prototype.Ea=function(e){var t=this;return this.stop(),this.a=new s.Df((function(){t.a.P(e),t.b()})).P(e),this},s.Ef.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},s.B("clpp.utils.Timer",s.Ef),s.Ef.prototype.stop=s.Ef.prototype.stop,s.Ef.prototype.tickEvery=s.Ef.prototype.Ea,s.Ef.prototype.tickAfter=s.Ef.prototype.P,s.Ef.prototype.tickNow=s.Ef.prototype.qe,s.w(qe,Ne),s.r=qe.prototype,s.r.append=function(e){if(!this.c){this.o.debug("append cues"),this.j=!0,e.sort((function(e,t){return e.startTime-t.startTime}));var t=this.b.findIndex((function(t){return t.startTime>=e[0].startTime}));0===t&&(this.b=[]),0<t&&(this.b=this.b.slice(0,t)),Array.prototype.push.apply(this.b,e),this.j=!1,this.a||Je(this),ze(this)}},s.r.remove=function(e,t){return!this.c&&(this.o.debug("Remove cues",e,t),!0)},s.r.isTextVisible=function(){return this.h},s.r.setTextVisibility=function(e){(this.h=e)&&!this.a&&Je(this),e||(this.a&&(this.a.stop(),this.a=null),Xe(this))},s.r.Oa=function(){this.C.style.backgroundColor=this.getWindowColor();var e=this.l.style;e.backgroundColor=this.getBackgroundColor(),e.color=this.getFontColor(),e.fontSize=this.getFontSize(),e.fontFamily=this.getFontFamily(),e.textShadow=Oe(this)},s.r.destroy=function(){return this.c=!0,this.a&&(this.a.stop(),this.a=null),this.b=[],Promise.resolve()},s.w(s.Kf,Ne),s.r=s.Kf.prototype,s.r.append=function(){},s.r.remove=function(){return!0},s.r.isTextVisible=function(){return this.h},s.r.setTextVisibility=function(e){this.h=e},s.r.Oa=function(){if(!this.g){var e={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":Oe(this)},t=Object.keys(e).reduce((function(t,n){return""+t+n+": "+e[n]+";"}),"");this.b.textContent="."+this.c+"::cue {"+t+"}"}},s.r.destroy=function(){return s.wf(this.j,this.c),document.head.removeChild(this.b),this.g=!0,Promise.resolve()};var oa=0;Ye.prototype.N=function(){},Ye.prototype.create=function(){},s.B("clpp.text.TextDisplayerFactory",Ye),Ye.prototype.create=Ye.prototype.create,Ye.prototype.isSupported=Ye.prototype.N;var sa=new Map,ua=new s.H("clpp.text");Ye.Type={HTML:"html",NATIVE:s.Wc,SINGLE_NATIVE:s.yd},$e.prototype.N=function(){return!0},$e.prototype.create=function(e){return new s.Kf(e)},$e.prototype.create=$e.prototype.create,$e.prototype.isSupported=$e.prototype.N,s.Of(s.Wc,new $e),s.w(s.J,Error),s.J.prototype.ib=function(e){this.a!==e&&(this.a=e,this.message=Qe(this.a,this.c,this.code,this.data))},s.J.prototype.toString=function(){var e=this.message;return this.b&&(e+="\n Caused by "+this.b),e},s.B("clpp.Error",s.J),s.K=2,s.J.Severity={RECOVERABLE:1,FATAL:s.K},s.J.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10},s.fo={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8e3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9e3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,IMA_SDK_MISSING:1e4,IMA_INVALID_CONFIGURATION:10001,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11e3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12e3,FREEWHEEL_INVALID_CONFIGURATION:12001},s.J.Code=s.fo,s.B("clpp.text.Cue",s.bg);var ca="auto";s.bg.positionAlign={LEFT:$,RIGHT:Q,CENTER:s.$b,AUTO:ca};var la=s.$b,fa={LEFT:"left",RIGHT:"right",CENTER:la,START:s.Ad,END:s.wc};s.bg.textAlign=fa;var da="after",ha={BEFORE:"before",CENTER:s.$b,AFTER:da};s.bg.displayAlign=ha;var pa="ltr";s.bg.direction={HORIZONTAL_LEFT_TO_RIGHT:pa,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ga="horizontal-tb";s.bg.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ga,VERTICAL_LEFT_TO_RIGHT:s.Td,VERTICAL_RIGHT_TO_LEFT:s.Ud};var ma=0;s.bg.lineInterpretation={LINE_NUMBER:ma,PERCENTAGE:1};var va=s.Ad,ba={CENTER:s.$b,START:va,END:s.wc};s.bg.lineAlign=ba;var ya=400;s.bg.fontWeight={NORMAL:ya,BOLD:700};var wa="normal",Sa={NORMAL:wa,ITALIC:"italic",OBLIQUE:"oblique"};s.bg.fontStyle=Sa,s.bg.textDecoration={UNDERLINE:le,LINE_THROUGH:Z,OVERLINE:ne},s.B("clpp.text.CueRegion",Ze);var Ta=1;Ze.units={PX:0,PERCENTAGE:Ta,LINES:2};var Ea="";Ze.scrollMode={NONE:Ea,UP:"up"},s.go=(new Map).set(s.gc,s.gc).set(s.zc,"framerate").set("bandwidth","bitrate").set(s.he,s.he).set(s.Cc,s.Cc).set("channelsCount","channels"),s.hg={},s.B("clpp.text.TextEngine.registerParser",(function(e,t){s.hg[e]=t})),s.B("clpp.text.TextEngine.unregisterParser",(function(e){delete s.hg[e]})),s.r=s.gg.prototype,s.r.destroy=function(){return this.c=this.i=null,this.h.clear(),Promise.resolve()},s.r.remove=function(e,t){var n=this;return Promise.resolve().then((function(){!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e))}))},s.r.Ra=function(){return this.a},s.r.da=function(){return this.b},s.r.Kb=function(e){return null!=this.a&&null!=this.b&&(e>=this.a&&e<this.b)},s.r.qa=function(e){return null==this.b||this.b<e?0:this.b-Math.max(e,this.a)},s.r.ig=function(e){this.c.append(e)},s.gg.prototype.appendCues=s.gg.prototype.ig,s.gg.prototype.rd=function(e,t){this.j=e;var n=this.h.get(e);if(n)for(var r=s.u(n.keys()),i=r.next();!i.done;i=r.next())(i=n.get(i.value))&&(i=i.filter((function(e){return e.endTime<=t})),this.c.append(i))},s.gg.prototype.setSelectedClosedCaptionId=s.gg.prototype.rd,nt.prototype.parseInit=function(){},nt.prototype.parseMedia=function(e,n){var r=s.ef(e);if(r=r.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),r=r.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new s.J(s.K,2,2e3);var i=n.segmentStart;if(null==i&&(i=0,r[0].includes("X-TIMESTAMP-MAP"))){var a=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=r[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(i=at(new s.jg(a[1])),null==i)throw new s.J(s.K,2,2e3);i=n.periodStart+(Number(o[1])/9e4-i)}}o=[];var u=r[0].split("\n");for(a=1;a<u.length;a++)if(/^Region:/.test(u[a])){var c=new s.jg(u[a]),l=new Ze;tt(c),et(c);for(var f=tt(c);f;){var d;e:{var h=l,p=f;if(d=/^id=(.*)$/.exec(p))h.id=d[1];else if(d=/^width=(\d{1,2}|100)%$/.exec(p))h.width=Number(d[1]);else if(d=/^lines=(\d+)$/.exec(p))h.height=Number(d[1]),h.heightUnits=2;else if(d=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.regionAnchorX=Number(d[1]),h.regionAnchorY=Number(d[2]);else if(d=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.viewportAnchorX=Number(d[1]),h.viewportAnchorY=Number(d[2]);else{if(!/^scroll=up$/.exec(p)){d=!1;break e}h.scroll="up"}d=!0}d||s.G("VTT parser encountered an invalid VTTRegion setting: ",f,t),et(c),f=tt(c)}o.push(l)}for(a=[],c=1;c<r.length;c++){if(u=r[c].split("\n"),h=u,p=i,1==h.length&&!h[0]||/^NOTE($|[ \t])/.test(h[0])||"STYLE"==h[0])u=null;else{u=null,h[0].includes("--\x3e")||(u=h[0],h.splice(0,1)),l=new s.jg(h[0]),f=at(l);var g=s.kg(l,/[ \t]+--\x3e[ \t]+/g);if(d=at(l),null==f||null==g||null==d)throw new s.J(s.K,2,2001);for(f+=p,d+=p,h=h.slice(1).join("\n").trim(),f=new s.bg(f,d,h),et(l),d=tt(l);d;)rt(f,d,o)||s.G(M,d,t),et(l),d=tt(l);null!=u&&(f.id=u),u=f}u&&a.push(u)}return a},s.hg[s.Id]=nt,s.hg['text/vtt; codecs="vtt"']=nt;var xa=[],ka="none",Aa="raised",Ia="depressed",Ma="dropshadow",Ca="uniform";s.B("clpp.text.EdgeType",{NONE:ka,RAISED:Aa,DEPRESSED:Ia,DROP_SHADOW:Ma,UNIFORM:Ca}),s.M={zc:function(e,t){var n=s.M.L(e,t);return 1!=n.length?null:n[0]},cd:function(e,t,n){return e=s.M.cf(e,t,n),1!=e.length?null:e[0]},L:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},cf:function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},Fb:function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},O:function(e,t,n,r){r=void 0===r?null:r;var i=null;return e=e.getAttribute(t),null!=e&&(i=n(e)),null==i?r:i},jj:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},fb:function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(s.G("Invalid duration string:",e),null)},md:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return e=Number(e),0===e%1?e:null},ld:function(e){return e=Number(e),0===e%1&&0<e?e:null},Qb:function(e){return e=Number(e),0===e%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},Kh:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},Lf:function(e,t){var n=new DOMParser,r=null,i=null;try{i=n.parseFromString(e,s.Jd)}catch(a){}return i&&i.documentElement.tagName==t&&(r=i.documentElement),r&&0<r.getElementsByTagName(s.dd).length?null:r},Kf:function(e,t){try{var n=s.ef(e);return s.M.Lf(n,t)}catch(r){return null}}},ot.prototype.parseInit=function(){},ot.prototype.parseMedia=function(e,t){var n=s.ef(e),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,s.Jd)}catch(y){throw new s.J(s.K,2,2005)}if(a){if(n=a.getElementsByTagName(s.dd)[0])throw new s.J(s.K,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new s.J(s.K,2,2005);var o=s.M.getAttributeNS(i,X,s.zc),u=s.M.getAttributeNS(i,X,"subFrameRate"),c=s.M.getAttributeNS(i,X,"frameRateMultiplier"),l=s.M.getAttributeNS(i,X,"tickRate");if(a=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new s.J(s.K,2,2005);a="default"==a,o=new bt(o,u,c,l),u=st(i.getElementsByTagName(te)[0]),c=st(i.getElementsByTagName("styling")[0]),l=st(i.getElementsByTagName("layout")[0]);for(var f=[],d=0;d<l.length;d++){var h,p,g=l[d],m=n,v=new Ze,b=g.getAttribute(ye);if(b)v.id=b,b=null,m&&(b=Pa.exec(m)||Da.exec(m)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(h=ht(g,c,"extent"))&&(h=(p=Pa.exec(h))||Da.exec(h),null!=h&&(v.width=null!=m?100*Number(h[1])/m:Number(h[1]),v.height=null!=b?100*Number(h[2])/b:Number(h[2]),v.widthUnits=p||null!=m?Ta:0,v.heightUnits=p||null!=b?Ta:0)),(g=ht(g,c,"origin"))&&(h=(p=Pa.exec(g))||Da.exec(g),null!=h&&(v.viewportAnchorX=null!=b?100*Number(h[1])/b:Number(h[1]),v.viewportAnchorY=null!=m?100*Number(h[2])/m:Number(h[2]),v.viewportAnchorUnits=p||null!=m?Ta:0));else s.G("TtmlTextParser parser encountered a region with no id. Region will be ignored."),v=null;v&&f.push(v)}for(n=st(i.getElementsByTagName("body")[0]),i=0;i<n.length;i++)(d=ct(n[i],t.periodStart,o,u,c,l,f,a))&&r.push(d)}return r};var Pa=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Ra=/^(\d+px|\d+em)$/,Da=/^(\d+)px (\d+)px$/,Na=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Oa=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,La=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,ja=/^(\d*(?:\.\d*)?)f$/,_a=/^(\d*(?:\.\d*)?)t$/,Ua=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Ba={left:va,center:s.$b,right:s.wc,start:va,end:s.wc},Ka={left:$,center:s.$b,right:Q};s.hg[s.Fb]=ot,s.Ug.prototype.getPosition=function(){return this.a},s.Ug.prototype.ha=function(){return this.b.byteLength},s.Ug.prototype.seek=function(e){(0>e||e>this.b.byteLength)&&s.Vg(),this.a=e},s.Ug.prototype.seek=s.Ug.prototype.seek,s.Xg.prototype.getPosition=function(){return this.a},s.Xg.prototype.ha=function(){return this.b.byteLength},s.Xg.prototype.skip=function(e){this.a+e>this.b.byteLength&&yt(),this.a+=e},s.Xg.prototype.seek=function(e){if(0>e||e>this.b.byteLength)throw yt();this.a=e},s.B("clpp.utils.Mp4Parser",s.gh),s.gh.prototype.I=function(e,t){var n=St(e);return this.c[n]=0,this.b[n]=t,this},s.gh.prototype.box=s.gh.prototype.I,s.gh.prototype.W=function(e,t){var n=St(e);return this.c[n]=1,this.b[n]=t,this},s.gh.prototype.fullBox=s.gh.prototype.W,s.gh.prototype.stop=function(){this.a=!0},s.gh.prototype.stop=s.gh.prototype.stop,s.gh.prototype.parse=function(e,t){var n=s.cf(e);for(n=new s.Xg(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),this.a=!1;s.Yg(n)&&!this.a;)this.kd(0,n,t)},s.gh.prototype.parse=s.gh.prototype.parse,s.gh.prototype.kd=function(e,t,n){var r=t.getPosition(),i=s.bh(t),a=s.bh(t);switch(this.f.debug("Parsing MP4 box",Tt(a)),i){case 0:i=t.ha()-r;break;case 1:i=s.dh(t)}var o=this.b[a];if(o){var u=null,c=null;1==this.c[a]&&(c=s.bh(t),u=c>>>24,c&=16777215),a=t.getPosition()-r;var l=r+i;n&&l>t.ha()&&(l=t.ha()),l-=t.getPosition(),t=0<l?s.eh(t,l):new Uint8Array(0),t=new s.Xg(new DataView(t.buffer,t.byteOffset,t.byteLength),!1),o({gb:this,Mf:n||!1,version:u,flags:c,u:t,size:i,start:r+e,Td:a})}else e=Math.min(r+i-t.getPosition(),t.ha()-t.getPosition()),t.skip(e)},s.gh.prototype.parseNext=s.gh.prototype.kd,s.gh.children=s.hh,s.gh.sampleDescription=s.ih,s.gh.allData=wt,s.gh.typeToString=Tt,Et.prototype.parseInit=function(e){var t=!1;if((new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("stpp",(function(e){t=!0,e.gb.stop()})).parse(e),!t)throw new s.J(s.K,2,2007)},Et.prototype.parseMedia=function(e,t){var n=this,r=!1,i=[];if((new s.gh).I(s.Qc,wt((function(e){r=!0,i=i.concat(n.a.parseMedia(e,t))}))).parse(e),!r)throw new s.J(s.K,2,2007);return i},s.hg['application/mp4; codecs="stpp"']=Et,s.hg['application/mp4; codecs="stpp.TTML.im1t"']=Et,At.prototype.create=function(){return new xt},At.prototype.probe=function(e,t){return("text/srt"===e||e===N)&&t===s.Id},xa.push(new At),s.w(It,nt),It.prototype.parseMedia=function(e,t){return nt.prototype.parseMedia.call(this,s.ph(e),t)},s.hg["text/srt"]=It,s.hg[N]=It,s.B(B,Mt),Mt.getInfo=s.Sh;var Fa,Va=null,Ha=null,Ga=new s.H(B),Wa="android",qa="ios",Ja="linux",za="osx",Xa="windows",Ya="tizen",$a=fe,Qa=fe,Za={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_t.prototype.N=function(e){return!!e.enableEnhancedSubtitleManager&&!Pt()},_t.prototype.create=function(e){return new qe(e)},_t.prototype.create=_t.prototype.create,_t.prototype.isSupported=_t.prototype.N,s.Of("html",new _t),s.Dk={Gh:function(e,t){return e.reduce(function(e,t,n){return t["catch"](e.bind(null,n))}.bind(null,t),Promise.reject())},Jd:function(e,t){return e.concat(t)},Dc:function(){},ab:function(e){return null!=e}},Ut.prototype.parseInit=function(e){var t=this,n=!1;if((new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).W("mdhd",(function(e){0==e.version?(e.u.skip(4),e.u.skip(4),t.a=s.bh(e.u),e.u.skip(4)):(e.u.skip(8),e.u.skip(8),t.a=s.bh(e.u),e.u.skip(8)),e.u.skip(4)})).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("wvtt",(function(){n=!0})).parse(e),!this.a)throw new s.J(s.K,2,2008);if(!n)throw new s.J(s.K,2,2008)},Ut.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw this.b.error("No init segment for MP4+VTT!"),new s.J(s.K,2,2008);var r,i=0,a=[],o=[],u=!1,c=!1,l=!1,f=null;if((new s.gh).I("moof",s.hh).I("traf",s.hh).W("tfdt",(function(e){u=!0,i=0==e.version?s.bh(e.u):s.dh(e.u)})).W("tfhd",(function(e){var t=e.flags;e=e.u,e.skip(4),1&t&&e.skip(8),2&t&&e.skip(4),f=8&t?s.bh(e):null})).W("trun",(function(e){c=!0;var t=e.version,n=e.flags;e=e.u;var r=s.bh(e);1&n&&e.skip(4),4&n&&e.skip(4);for(var i=[],o=0;o<r;o++){var u={duration:null,sampleSize:null,re:null};256&n&&(u.duration=s.bh(e)),512&n&&(u.sampleSize=s.bh(e)),1024&n&&e.skip(4),2048&n&&(u.re=0==t?s.bh(e):s.ch(e)),i.push(u)}a=i})).I(s.Qc,wt((function(e){l=!0,r=e}))).parse(e),!l&&!u&&!c)throw new s.J(s.K,2,2008);var d=i,h=new DataView(r.buffer,r.byteOffset,r.byteLength),p=new s.Xg(h,!1);return a.forEach((function(e){var r=e.duration||f,a=e.re?i+e.re:d;d=a+(r||0);var u=0;do{var c=s.bh(p);u+=c;var l=s.bh(p);l=Tt(l);var h=null;"vttc"==l?8<c&&(h=s.eh(p,c-8)):("vtte"!=l&&n.b.error("Unknown box "+l+"! Skipping!"),p.skip(c-8)),r?h&&o.push(Bt(h,t.periodStart+a/n.a,t.periodStart+d/n.a)):n.b.error("WVTT sample duration unknown, and no default found!")}while(e.sampleSize&&u<e.sampleSize)})),o.filter(s.Dk.ab)},s.hg['application/mp4; codecs="wvtt"']=Ut,s.$h=new s.H("clpp.players"),s.Zh={},s.r=s.bi.prototype,s.r.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},s.r.get=function(e){return(e=this.a[e])?e.slice():[]},s.r.remove=function(e,t){var n=this.a[e];if(!n)return!1;for(var r=!1,i=0;i<n.length;++i)n[i]==t&&(n.splice(i,1),--i,r=!0);return r},s.r.clear=function(){this.a={}},s.r.forEach=function(e){for(var t in this.a)e(t,this.a[t])},Ht.prototype.Jc=function(e){try{this.bc.handleEvent?this.bc.handleEvent(e):this.bc.call(this.a,e)}catch(t){s.af("clpp","Uncaught exception in event handler for event '"+this.eventName+"'",t,t?t.message:null,t?t.stack:null)}},s.O.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},s.O.prototype.stopImmediatePropagation=function(){this.a=!0},s.O.prototype.stopPropagation=function(){},s.B("clpp.EventBus",Gt),Gt.prototype.trigger=function(e){var t=this.a.get(e.type);if(t)for(var n=0;n<t.length&&(e.target=this.b,e.currentTarget=this.b,t[n].Jc(e),t[n].qj&&this.a.remove(e.type,t[n]),!e||!e.a);n++);},Gt.prototype.trigger=Gt.prototype.trigger,Gt.prototype.on=function(e,t,n){return this.a.push(e,new Ht(e,t,n||this.b)),t},Gt.prototype.on=Gt.prototype.on,Gt.prototype.one=function(e,t,n){return this.a.push(e,new Ht(e,t,n||this.b,!0)),t},Gt.prototype.one=Gt.prototype.one,Gt.prototype.off=function(e,t){var n=this.a.get(e),r=!1;if(n)for(var i=0;i<n.length;i++)n[i].bc===t&&(r=this.a.remove(e,n[i])||r);return r},Gt.prototype.off=Gt.prototype.off,Gt.prototype.clear=function(){this.a.clear()},Gt.prototype.clear=Gt.prototype.clear,s.ei.prototype.release=function(){s.hi(this)},s.ei.prototype.on=function(e,t,n,r){e=new qt(e,t,n,void 0!==r&&r),this.a.push(t,e)},s.ei.prototype.one=function(e,t,n){function r(a){i.off(e,t,r),n(a)}var i=this;this.on(e,t,r)},s.ei.prototype.off=function(e,t,n){for(var r=this.a.get(t)||[],i=0;i<r.length;++i){var a=r[i];a.target!=e||n!=a.listener&&n||(Jt(a),this.a.remove(t,a))}},zt.prototype.release=function(){this.c.release(),this.f=[],this.a=null},zt.prototype.destroy=function(){var e=this;return s.A((function(t){e.release(),e.h=null,e.g=null,s.y(t)}))},zt.prototype.getTimelineCues=function(){return this.f},s.si.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length},s.B("clpp.Track",s.si),s.si.prototype.toString=s.si.prototype.toString,s.B("clpp.Rendition",s.ti),s.yi=1,s.vi=s.Vd,s.Q=s.Lb,s.P=s.k,Fa=te,s.jo={VIDEO:s.vi,AUDIO:s.Q,TEXT:s.P,Mj:Fa},s.si.Type=s.jo,s.B("clpp.TrackManager",s.S),s.S.prototype.getVideoTracks=s.S.prototype.getVideoTracks,s.S.prototype.getAudioTracks=s.S.prototype.getAudioTracks,s.S.prototype.getTextTracks=s.S.prototype.X,s.S.prototype.getVideoRendition=s.S.prototype.Z,s.S.prototype.getAudioRendition=s.S.prototype.ra,s.S.prototype.getTextRendition=s.S.prototype.ia,s.S.prototype.getLoadingVideoRendition=s.S.prototype.Ha,s.S.prototype.getLoadingAudioRendition=s.S.prototype.Fa,s.S.prototype.getLoadingTextRendition=s.S.prototype.Ga,s.S.prototype.getVideoTrack=s.S.prototype.ja,s.S.prototype.getAudioTrack=s.S.prototype.ea,s.S.prototype.getTextTrack=s.S.prototype.ba,s.S.prototype.setVideoTrack=s.S.prototype.Da,s.S.prototype.setAudioTrack=s.S.prototype.ma,s.S.prototype.setTextTrack=s.S.prototype.na,s.S.prototype.setVideoRendition=s.S.prototype.Ca,s.S.prototype.setAudioRendition=s.S.prototype.Ka,s.S.prototype.setTextRendition=s.S.prototype.La,s.S.prototype.Rh=function(e){return this.getVideoTracks().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findVideoTrack=s.S.prototype.Rh,s.S.prototype.Nh=function(e){return this.getAudioTracks().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findAudioTrack=s.S.prototype.Nh,s.S.prototype.Ph=function(e){return this.X().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findTextTrack=s.S.prototype.Ph,s.S.prototype.Qh=function(e){return this.getVideoTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findVideoRendition=s.S.prototype.Qh,s.S.prototype.Mh=function(e){return this.getAudioTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findAudioRendition=s.S.prototype.Mh,s.S.prototype.Oh=function(e){return this.X().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findTextRendition=s.S.prototype.Oh,s.S.prototype.addTextTrack=s.S.prototype.addTextTrack,s.S.prototype.isAbrEnabled=s.S.prototype.ka,s.w(en,s.S),s.r=en.prototype,s.r.he=function(e,t){if(t){var n=t.track;if(n){var r=this.g.find((function(t){return tn(t,n,e)}));if(r)this.a.warn("Track from event already exists",n,r);else{var i=Zt(e,n);if(e===s.P){if(n.kind===te)return;var a;a=void 0!==n.id?this.i[n.id]:Object.values(this.i).find((function(t){return tn(i,t,e)})),i.kind&&"captions"===i.kind&&(i.mimeType=s.Cb),a&&(i.src=a.url,i.mimeType=a.mimeType)}else if(r=this.g.find((function(t){return t.type===e&&s.C.xa(t,i,["kind","label","language"])})))return r.id=n.id,fn(n)&&this.c.set(e,r),void this.a.debug("Track from event seems to already exists, flipped native track to",n);try{i.renditions.push(new s.ti(i.id,i)),this.g.push(i),this.a.debug(e+" Track added",i),this.b.trigger(new s.O(s.ko)),fn(n)&&this.c.set(e,i)}catch(o){this.a.error("Error while converting track data",o)}}}else this.a.warn(S)}else this.a.warn(w)},s.r.ke=function(e,t){if(t){var n=t.track;if(n){if(e===s.P&&n.kind!==te){var r=this.g.find((function(t){return tn(t,n,e)}));r&&(this.g.splice(this.g.indexOf(r),1),(this.c.get(e)||null)===r&&this.c.set(e,null),this.a.debug(e+" Track removed, id: ",r.id))}}else this.a.warn(S)}else this.a.warn(w)},s.r.je=function(e,t){this.a.debug(e+" Track changed",t);var n=on(this,e);if(n)for(var r={Zb:0};r.Zb<n.length;r={Zb:r.Zb},++r.Zb)if(fn(n[r.Zb])){(r=this.g.find(function(t){return function(r){return tn(r,n[t.Zb],e)}}(r)))&&(this.c.set(e,r),this.a.debug("Track change detected, id:",r.id),r===this.h.get(e)&&this.h.set(e,null),e===s.Q?this.b.trigger(new s.O(s.Ki)):e===s.P&&this.b.trigger(new s.O(s.Li)));break}},s.r.mb=function(e){this.b=e},s.r.load=function(){this.j=!1;var e=an(this,s.P);e&&(this.f.on(e,C,this.w),this.f.on(e,ae,this.C),this.f.on(e,_,this.B)),(e=an(this,s.Q))&&(this.f.on(e,C,this.o),this.f.on(e,ae,this.v),this.f.on(e,_,this.s)),(e=an(this,s.vi))&&(this.f.on(e,C,this.G),this.f.on(e,ae,this.K),this.f.on(e,_,this.J)),this.f.one(this.b,j,this.hh.bind(this))},s.r.release=function(){this.j=!0,this.g=[],this.i={},this.c.clear(),this.h.clear(),this.f.release()},s.r.destroy=function(){this.release(),this.b=null},s.r.getVideoTracks=function(){return sn(this,s.vi)},s.r.getAudioTracks=function(){return sn(this,s.Q)},s.r.X=function(){return sn(this,s.P)},s.r.Z=function(){return un(this,s.vi)},s.r.ra=function(){return un(this,s.Q)},s.r.ia=function(){return un(this,s.P)},s.r.Ha=function(){return cn(this,s.vi)},s.r.Fa=function(){return cn(this,s.Q)},s.r.Ga=function(){return cn(this,s.P)},s.r.ja=function(){return this.c.get(s.vi)||null},s.r.ea=function(){return this.c.get(s.Q)||null},s.r.ba=function(){return this.c.get(s.P)||null},s.r.Da=function(e){ln(this,s.vi,e)},s.r.ma=function(e){ln(this,s.Q,e)},s.r.na=function(e){ln(this,s.P,e)},s.r.Ca=function(e){ln(this,s.vi,e&&e.track)},s.r.Ka=function(e){ln(this,s.Q,e&&e.track)},s.r.La=function(e){ln(this,s.P,e&&e.track)},s.r.addTextTrack=function(e){var t,n=this;return s.A((function(r){return e.mimeType.match(/text\/vtt/)?(t="External_"+n.l++,n.i[t]=e,rn(n,e,t),r.A(0)):s.x(r,nn(n,e),0)}))},s.r.hh=function(){var e,t,n,r=this;return s.A((function(i){return 1==i.a?(e=r.b.getConfiguration(),dn(r,s.Q,e.preferredAudioLanguage),t=on(r,s.P),t.some((function(e){return fn(e)}))?i.A(2):(n=an(r,s.P),s.x(i,new Promise((function(e){r.f.one(n,_,e),new s.Ef(e).P(1)})),2))):r.j?i["return"]():(dn(r,s.P,e.preferredTextLanguage),void s.y(i))}))},s.r.ka=function(){return 1>=this.getVideoTracks().flatMap((function(e){return e.renditions})).length},en.prototype.isAbrEnabled=en.prototype.ka,en.prototype.addTextTrack=en.prototype.addTextTrack,en.prototype.setTextRendition=en.prototype.La,en.prototype.setAudioRendition=en.prototype.Ka,en.prototype.setVideoRendition=en.prototype.Ca,en.prototype.setTextTrack=en.prototype.na,en.prototype.setAudioTrack=en.prototype.ma,en.prototype.setVideoTrack=en.prototype.Da,en.prototype.getTextTrack=en.prototype.ba,en.prototype.getAudioTrack=en.prototype.ea,en.prototype.getVideoTrack=en.prototype.ja,en.prototype.getLoadingTextRendition=en.prototype.Ga,en.prototype.getLoadingAudioRendition=en.prototype.Fa,en.prototype.getLoadingVideoRendition=en.prototype.Ha,en.prototype.getTextRendition=en.prototype.ia,en.prototype.getAudioRendition=en.prototype.ra,en.prototype.getVideoRendition=en.prototype.Z,en.prototype.getTextTracks=en.prototype.X,en.prototype.getAudioTracks=en.prototype.getAudioTracks,en.prototype.getVideoTracks=en.prototype.getVideoTracks,hn.prototype.release=function(){this.a.release(),this.c=!1},hn.prototype.destroy=function(){return this.c&&this.release(),this.a=this.f=this.b=null,Promise.resolve()},hn.prototype.start=function(e){var t=this;this.c&&this.g.warn("Already started. Ignoring request..."),this.c=!0,this.f=e,this.b=this.f.textTracks,this.a.on(this.b,C,(function(e){return pn(t,e)})),this.a.on(this.b,_,(function(){for(var e=t.b,n=0;n<e.length;n++){var r=e[n];r.mode===s.xd&&(r.mode=s.Dc)}}))},s.r=s.Ri.prototype,s.r.start=function(e){if(this.b)return this.b.start(e);if(e<this.a.length)return this.a[e].start;throw Error(k)},s.r.end=function(e){if(this.b)return this.b.end(e);if(e<this.a.length)return this.a[e].end;throw Error(k)},s.r.Ra=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)},s.r.da=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:this.end(this.length-1)},s.r.Kb=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)||e>this.end(this.length-1))return!1;if(t)return n+e>=this.start(0)&&e<=this.end(this.length-1);for(t=0;t<this.length;t++)if(n+e>=this.start(t)&&e<=this.end(t))return!0;return!1},s.r.qa=function(e,t){if(t=void 0!==t&&t,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0))return 0;var n=0;if(t){var r=this.da();null!=r&&(n=Math.max(0,r-e))}else for(r=this.length-1;0<=r&&this.end(r)>e;--r)n+=this.end(r)-Math.max(this.start(r),e);return n},s.B("clpp.BufferInfo",s.Ri),s.Ri.prototype.bufferedAheadOf=s.Ri.prototype.qa,s.Ri.prototype.isBuffered=s.Ri.prototype.Kb,s.Ri.prototype.bufferEnd=s.Ri.prototype.da,s.Ri.prototype.bufferStart=s.Ri.prototype.Ra,s.Ri.prototype.end=s.Ri.prototype.end,s.Ri.prototype.start=s.Ri.prototype.start,s.Si.prototype.trigger=function(e){this.xc.trigger(e),0<this.dc.length&&this.dc.forEach((function(t){null!==e&&t.dispatchEvent(e)}))},s.Si.prototype.addEventListener=function(e,t){this.on(e,t)},s.Si.prototype.addEventListener=s.Si.prototype.addEventListener,s.Si.prototype.removeEventListener=function(e,t){this.off(e,t)},s.Si.prototype.removeEventListener=s.Si.prototype.removeEventListener,s.Si.prototype.dispatchEvent=function(e){return this.trigger(e),e.defaultPrevented},s.Si.prototype.on=function(e,t,n){return this.xc.on(e,t,n)},s.Si.prototype.on=s.Si.prototype.on,s.Si.prototype.one=function(e,t,n){return this.xc.one(e,t,n)},s.Si.prototype.one=s.Si.prototype.one,s.Si.prototype.off=function(e,t){return this.xc.off(e,t)},s.Si.prototype.off=s.Si.prototype.off,s.Si.prototype.addDelegate=function(e){e&&(0<=this.dc.indexOf(e)||this.dc.push(e))},s.Si.prototype.addDelegate=s.Si.prototype.addDelegate,s.Si.prototype.removeDelegate=function(e){e&&(e=this.dc.indexOf(e),0<=e&&this.dc.splice(e,1))},s.Si.prototype.removeDelegate=s.Si.prototype.removeDelegate,s.B("clpp.events.ERROR",s.yc),s.B("clpp.events.LOADEDMETADATA",s.Oc),s.B("clpp.events.BUFFERING_ENDED",s.Tb),s.B("clpp.events.BUFFERING_STARTED",s.Ub),s.B("clpp.events.STATE_CHANGED",s.Bd),s.Ki="audiotrackchanged",s.B("clpp.events.AUDIO_TRACK_CHANGED",s.Ki),s.Li="texttrackchanged",s.B("clpp.events.TEXT_TRACK_CHANGED",s.Li),s.B("clpp.events.VIDEO_TRACK_CHANGED",s.Zd),s.B("clpp.events.BITRATE_CHANGED",s.Rb),s.ko="tracksadded",s.B("clpp.events.TRACKS_ADDED",s.ko),s.B("clpp.events.LOAD_START",ee),s.B("clpp.events.RELEASING",s.od),s.B("clpp.events.RELEASED",ie),s.B("clpp.events.DESTROYING","destroying"),s.B("clpp.events.DESTROYED","destroyed"),s.B("clpp.events.VIDEO_BUFFER_CHANGED",s.Yd),s.B("clpp.events.AUDIO_BUFFER_CHANGED",s.Ob),s.B("clpp.events.DOWNLOAD_TRACE","downloadtrace"),s.B("clpp.events.DRM_SESSION_UPDATE",s.sc),s.B("clpp.events.DRM_SESSION_PERSISTED",s.rc),s.B("clpp.events.DRM_RENEWAL_STARTED",W),s.B("clpp.events.DRM_EXPIRATION_UPDATE",s.pc),s.B("clpp.events.AUTOPLAY_NOT_ALLOWED",s.Qb),s.B("clpp.events.PLAY",s.hd),s.B("clpp.events.SEEKING",s.ud),s.B("clpp.events.SEEKED",s.td),s.B("clpp.events.USER_SEEKING",s.Rd),s.B("clpp.events.USER_SEEKED",s.Qd),s.xn={SEEKING:1,NO_DATA:2},s.B("clpp.events.BufferingReasons",s.xn),s.B("clpp.events.ADS_TIMELINE_CHANGED",s.xb),s.B("clpp.events.AD_LOADED",s.lb),s.B("clpp.events.AD_BREAK_STARTED",s.cb),s.B("clpp.events.AD_STARTED",s.sb),s.B("clpp.events.AD_BUFFERING",s.eb),s.B("clpp.events.AD_PROGRESS",s.ob),s.B("clpp.events.AD_FIRST_QUARTILE",s.ib),s.B("clpp.events.AD_MIDPOINT",s.mb),s.B("clpp.events.AD_THIRD_QUARTILE",s.ub),s.B("clpp.events.AD_PAUSED",s.nb),s.B("clpp.events.AD_RESUMED",s.pb),s.B("clpp.events.AD_SKIPPED",s.qb),s.B("clpp.events.AD_CLICKED",s.gb),s.B("clpp.events.AD_IMPRESSION",s.kb),s.B("clpp.events.AD_COMPLETED",s.hb),s.B("clpp.events.AD_STOPPED",s.tb),s.B("clpp.events.AD_BREAK_STOPPED",s.db),s.B("clpp.events.CASTING_STARTED",s.Xb),s.B("clpp.events.CASTING_ENDED","castingended"),s.B("clpp.events.CAST_STATUS_CHANGED",s.Yb),s.B("clpp.events.AIRPLAY_STATUS_CHANGED",s.Ab),s.B("clpp.events.AIRPLAY_CASTING_STARTED",s.zb),s.B("clpp.events.AIRPLAY_CASTING_ENDED",s.yb),s.pi="timeline-cue-added",s.B("clpp.events.TIMELINE_CUE_ADDED",s.pi),s.qi="timeline-cue-enter",s.B("clpp.events.TIMELINE_CUE_ENTER",s.qi),s.ri="timeline-cue-exit",s.B("clpp.events.TIMELINE_CUE_EXIT",s.ri),s.B("clpp.events.MPD_TYPE_CHANGED",s.Vc),s.B("clpp.events.VIMOND_RESPONSE",s.$d),s.B("clpp.events.PLAYLIST_ITEM_CHANGED",s.jd),s.B("clpp.events.PLAYLIST_MODIFIED",s.kd),s.Ti.parse=function(t){var n=t.split(":");if(2>n.length||"data"!==n[0])throw s.af("Bad data URI, failed to parse scheme"),new s.J(s.K,1,1004,{uri:t});if(n=n.slice(1).join(":").split(","),2>n.length)throw s.af("Bad data URI, failed to extract encoding and MIME type"),new s.J(s.K,1,1004,{uri:t});var r=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),r=r.split(";");var i="";if(1<r.length&&(i=r[1]),"base64"===i)t=Be(n).buffer;else{if(i)throw s.af("Bad data URI, unknown encoding "+i),new s.J(s.K,1,1005,{uri:t});t=s.nf(n).buffer}return{data:t,contentType:r[0]}},An.g=function(e,t,n,r){var i,a,o,u,l,f,d,h,p,g,m,v,b,y,w;return s.A((function(S){switch(S.a){case 1:return i=An.f,l=u=Date.now(),s.Ae(S,2),s.x(S,i(e,n),4);case 4:return a=S.b,f=a.headers.get(c),Un(t,f),d=f?parseInt(f,10):0,t.onFragment&&t.type===s.lo?(g=a.body.getReader(),m=new wn(d),v=function(e,n){if(r.uc)return null;if(n&&n.data){var i=Date.now();Bn(t,n.data.byteLength,i-u),u=i}return t.onFragment&&n?t.onFragment(n):null},s.x(S,Sn(m,g,v,t.onProgress),8)):(h=a.body.getReader(),p=new gn(d),s.x(S,mn(p,h,t),7));case 7:o=S.b,S.A(6);break;case 8:o=S.b;case 6:s.Be(S,3);break;case 2:if(b=s.Ce(S),r.uc)throw new s.J(1,1,7001,{url:e,request:t});if(r.Sf)throw new s.J(1,1,1003,{url:e,request:t});throw s.af("Error while fetching data:",b),new s.J(1,1,1002,{url:e,error:b,request:t,status:-1},b);case 3:if(y={},w=a.headers,w.forEach((function(e,t){y[t.trim()]=e})),r.uc)throw new s.J(1,1,7001,{url:e,request:t});return S["return"](s.jj(y,o,a.status,e,a.url,t,Date.now()-l))}}))},An.N=function(){return!(!e.fetch||!e.AbortController)},An.f=e.fetch,An.a=e.AbortController,An.h=e.ReadableStream,An.b=e.Headers,s.gj.prototype.resolve=function(){},s.gj.prototype.reject=function(){},In.c=e.XMLHttpRequest;var eo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;s.r=s.kj.prototype,s.r.Ba="",s.r.Wb="",s.r.wa="",s.r.lc=null,s.r.fa="",s.r.Eb="",s.r.toString=function(){var e=[],t=this.Ba;if(t&&e.push(Dn(t,to,!0),":"),t=this.wa){e.push("//");var n=this.Wb;n&&e.push(Dn(n,to,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.lc,null!=t&&e.push(":",String(t))}return(t=this.fa)&&(this.wa&&"/"!=t.charAt(0)&&e.push("/"),e.push(Dn(t,"/"==t.charAt(0)?ro:no,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Eb)&&e.push("#",Dn(t,ao)),e.join("")},s.r.resolve=function(e){var t=new s.kj(this);"data"===t.Ba&&(t=new s.kj);var n=!!e.Ba;n?Mn(t,e.Ba):n=!!e.Wb,n?t.Wb=e.Wb:n=!!e.wa,n?t.wa=e.wa:n=null!=e.lc;var r=e.fa;if(n)Cn(t,e.lc);else if(n=!!e.fa){if("/"!=r.charAt(0))if(this.wa&&!this.fa)r="/"+r;else{var i=t.fa.lastIndexOf("/");-1!=i&&(r=t.fa.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var u=r[o++];"."==u?i&&o==r.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(u),i=!0)}r=a.join("/")}}return n?t.fa=r:n=""!==e.a.toString(),n?Pn(t,Ln(e.a)):n=!!e.Eb,n&&(t.Eb=e.Eb),t};var to=/[#\/\?@]/g,no=/[#\?:]/g,ro=/[#\?]/g,io=/[#\?@]/g,ao=/#/g;On.prototype.a=null,On.prototype.c=null,On.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),null!==this.c&&this.c++,this},On.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.b=t.join("&")},s.r=s.yj.prototype,s.r.release=function(){return this.f.destroy()},s.r.destroy=function(){return this.g=!0,this.b=[],this.c=[],this.f.destroy()},s.r.eg=function(e){this.b.push(e)},s.r.zd=function(e){this.c.push(e)},s.r.rj=function(e){this.b=this.b.filter((function(t){return t!==e}))},s.r.oe=function(e){this.c=this.c.filter((function(t){return t!==e}))},s.r.fetch=function(e){var t=this;if(this.g)return new ti(Promise.reject(new s.J(1,1,7001,{url:e.uris[e.uriIndex],request:e})));try{var n=[];this.b.forEach((function(e){n.push(e)})),e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){n.push(e)})),e.requestModifiers=n;var r=[];this.c.forEach((function(e){r.push(e)})),e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){r.push(e)})),e.responseModifiers=r;var i=new s.gj,a=i;e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){a=a.then((function(t){if(o.a)throw new s.J(s.K,1,7001,t?{url:t.uris[t.uriIndex],request:t}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.J)throw e;throw new s.J(s.K,1,1006,null,e)}))})),a=a.then((function(e){var n=new s.kj(e.uris[e.uriIndex]),r=n.Ba;if(r||(r=location.protocol,r=r.slice(0,-1),Mn(n,r),e.uris[e.uriIndex]=n.toString()),r=t.a[r],!r)throw new s.J(s.K,1,1e3,{url:n.toString()});return{request:e,plugin:r}}));var o=new ti(a);return e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){o.then((function(t){if(o.a)throw new s.J(s.K,1,7001,t?{url:t.request.uris[t.request.uriIndex],request:t.request}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.J)throw e;throw new s.J(s.K,1,1007,null,e)}))})),s.Vm(this.f,o),i.resolve(e),o}catch(u){return new ti(Promise.reject(u))}},s.yj.prototype.fetch=s.yj.prototype.fetch,s.yj.prototype.removeResponseModifier=s.yj.prototype.oe,s.yj.prototype.removeRequestModifier=s.yj.prototype.rj,s.yj.prototype.addResponseModifier=s.yj.prototype.zd,s.yj.prototype.addRequestModifier=s.yj.prototype.eg,s.B("clpp.net.makeRequest",s.Ci),s.lo=2,s.zj=6,s.B("clpp.net.RequestType",{MANIFEST:1,SEGMENT:s.lo,LICENSE:3,APP:4,TIMING:5,OTHER:s.zj}),s.B("clpp.utils.PlayerConfiguration",Kn),Kn.create=s.Ej;var oo=["abort",L,j,J,"emptied",s.vc,s.xc,s.yc,"interruptbegin","interruptend",s.Nc,s.Oc,ee,"mozaudioavailable",s.ed,s.hd,s.id,s.ld,s.md,s.td,s.ud,se,"suspend",s.Ld,"volumechange",s.ae,s.be,s.rd,ge,pe,de,he];s.w(s.Gj,s.Si),s.r=s.Gj.prototype,s.r.init=function(e,t){var n=this;this.configuration=this.Oc=t,this.l=e,this.log.info("Initializing Player surface");var r=this.l.F(!0);this.log.info("Attaching media element listeners"),oo.forEach((function(e){n.w.on(r,e,n.mi,e!==s.yc)})),this.Pc||(this.Pc=this.Ve()),this.Pc.mb(this),s.kl(this.l)},s.r.release=function(){return this.J&&(this.J.destroy(),this.J=null),Promise.resolve()},s.r.destroy=function(){return this.w.release(),Promise.resolve()},s.r.canPlay=function(e){return s.Zh[this.namespace()].canPlay(e)},s.r.play=function(){var e=this;if(!this.j)return Promise.reject("No sources specified yet. You need to load content before calling play.");var t=this.l.F().play();return Promise.resolve(t)["catch"]((function(t){var n=t.message||"",r=t.stack||"";throw"NotAllowedError"===(t.name||"")&&(0===r.indexOf(s.hd)||0<=n.indexOf(s.hd))&&(e.trigger(new s.O(s.Qb)),e.log.warn(s.ha)),t}))},s.r.pause=function(){var e=this;return this.j?new Promise((function(t,n){var r=e.getState();r!==s.un&&r!==s.wn&&r!==s.dn&&r!==s.Cn?n():(e.l.F().pause(),e.getState()===s.dn?e.w.one(e,s.Bd,(function(){t()})):t())})):Promise.reject("No sources specified yet. You need to load content before calling pause.")},s.r.isPaused=function(){return this.l.F().paused},s.r.isEnded=function(){return this.l.F().ended},s.r.getConfiguration=function(){return this.configuration},s.r.getSurface=function(){return this.l},s.r.getBufferInfo=function(e){var t=this.getSurface().F();return new s.Ri(t?t.buffered:void 0,e)},s.r.getPosition=function(){var e=this.l.F();return e?e.currentTime:(this.log.warn("No media element available, can not report current time!"),0)},s.r.seek=function(e){var t=this,n=this.getPosition();if(void 0===e||null===e||a(e)!==s.Xc||e===n)return Promise.resolve();var r=this.l.F();if(!r)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var i=e-n;return.1>=Math.abs(i)?(this.log.info("Skip seek. Delta "+Math.abs(i)+" < 0.1"),Promise.resolve()):new Promise((function(a,o){function u(){r.readyState>HTMLMediaElement.HAVE_NOTHING?l():t.w.one(r,s.Oc,l)}function c(i){var o=t.getPosition(),u=.1>=Math.abs(e-o),l=.25<o-e,f=r.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,d=i.type===s.td,h=i.type===s.ld,p=i.type===s.Ld,g=h&&f;l=d||u&&g||p&&l,t.log.debug("Checking seeking state after "+i.type+" event. Seek completed:",l,"Current Time:",o,"Target Time:",e,"Native Event:",d,"Time reached",u,"Timeupdate:",p,"Progress:",h,"ReadyState:",f,"Progress Ready:",g),l?(t.xd=!1,t.Kc=!1,t.w.off(r,s.td,c),t.w.off(r,s.Ld,c),t.w.off(r,s.ld,c),t.Hf(),t.trigger(new s.O(s.Qd)),a()):h&&n===o&&(t.log.debug("Seek seemed to have been ignored. Trying again"),r.currentTime=e)}function l(){t.w.on(r,s.td,c),t.w.on(r,s.Ld,c),t.w.on(r,s.ld,c),t.log.info("Seeking to "+e+". Delta "+i),t.xd=!0,t.Kc=!0,r.currentTime=e,t.trigger(new s.O(s.Rd))}t.getState()===s.qn?(t.log.debug("Player is in IDLE state. Postpone seek."),t.w.one(t,s.Bd,(function(){switch(t.getState()){case s.un:case s.dn:case s.Cn:t.log.debug("Valid seek state reached."),u();break;default:t.log.warn("Invalid seek target state. Aborting seek"),o()}}))):u()}))},s.r.getVolume=function(){var e=this.l.F();return e?e.volume:(this.log.warn("No media element available, can not report volume!"),null)},s.r.setVolume=function(e){var t=this.l.F();t?s.C.sb(e)?0>e||1<e?this.log.warn(u+e+".\n          Value must be between 0 and 1."):t.volume=e:this.log.warn(u+e+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")},s.r.isMuted=function(){return this.l.F().muted},s.r.setMuted=function(e){var t=this.l.F();a(e)===s.Sb&&(t.muted=e)},s.r.getDuration=function(){return this.j?this.l.F().duration:-1},s.r.getTrackManager=function(){return this.Pc},s.r.getPlaybackRate=function(){var e=this.l.F();return e&&e.playbackRate||1},s.r.setPlaybackRate=function(e){var t=this.l.F();void 0!==e&&t&&(t.playbackRate=e)},s.r.setSourceIndex=function(e){this.af=e},s.r.getSourceIndex=function(){return this.af},s.r.getLoadedSource=function(){return this.j&&this.j[this.getSourceIndex()]},s.r.getThumbnailStreams=function(){return[]},s.r.getNetworkEngine=function(){return this.Ye},s.r.setNetworkEngine=function(e){this.Ye=e},s.r.getTextDisplayer=function(){return this.J},s.r.getTimelineCues=function(){return[]},s.r.resetAbr=function(){},s.r.pj=function(e){var t=this.getSurface().F(),n=this.getPosition(),r="Received Video Element Event: '"+e.type+"' with playhead at: "+n;if(e.type===s.Ld||e.type===s.ld)this.sf.debug(r);else{var i="";switch(e.type){case s.md:i="Rate: "+this.getPlaybackRate();break;case J:i="Duration: "+this.getDuration();break;case"volumechange":i="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case s.hd:case s.id:case"suspend":case s.ae:case se:case s.ud:case s.td:case s.Ld:case s.ld:case L:case j:t=this.getBufferInfo().qa(n),i="State "+this.getSurface().F().readyState+" Buffer: "+t;break;case s.rd:null!=t&&(i="Size: "+t.videoWidth+"x"+t.videoHeight)}i&&(r+=". "+i),this.sf.info(r)}this.trigger(new s.O(e.type,{detail:e}))},s.r.Hf=function(){},s.Gj.prototype.getTextDisplayer=s.Gj.prototype.getTextDisplayer,s.Gj.prototype.setNetworkEngine=s.Gj.prototype.setNetworkEngine,s.Gj.prototype.getNetworkEngine=s.Gj.prototype.getNetworkEngine,Hn.prototype.release=function(){this.a=this.b=null},s.B("clpp.utils.url.queryString",qn);var so=new s.H("clpp.utils.FairplayUtils");s.Xj.prototype.f=function(e){if(1<e.version)s.G("Unrecognized PSSH version found!");else{var t=s.Qj(s.eh(e.u,16)),n=[];if(0<e.version)for(var r=s.bh(e.u),i=0;i<r;++i){var a=s.Qj(s.eh(e.u,16));n.push(a)}r=s.bh(e.u),e.u.skip(r),this.c.push.apply(this.c,n),this.b.push(t),this.a.push({start:e.start,end:e.start+e.size-1}),e.u.getPosition()!=e.u.ha()&&s.G("Mismatch between box size and data size!")}},s.r=s.bk.prototype,s.r.destroy=function(){var e=this;return s.A((function(t){return 1==t.a?e.g?s.x(t,e.ua,0):(e.g=!0,s.x(t,Yn(e),4)):(e.ua.resolve(),t.A(0))}))},s.r.keySystem=function(){return this.a?this.a.keySystem:""},s.r.getDrmInfo=function(){return this.a},s.r.Gf=function(e){this.w&&this.J===co||(!this.f.delayLicenseRequestUntilPlayed||this.i&&!this.i.paused||this.Pa?nr(this,e):this.K.push(e))},s.r.Af=function(e){var t=this;e=e.target,this.b.debug("Key status changed for session",e.sessionId);var n=this.c.get(e),r=!1;e.keyStatuses.forEach((function(e,i){if(a(i)==s.Dd){var o=i;i=e,e=o}if(!(t.a.keySystem!=s.jc||16!=i.byteLength||s.xh()||s.wh("VITIS")||s.wh("Web0S")||s.wh("TiVo"))){var u=void 0===u?1/0:u;o=s.bf(i,u,DataView),u=o.getUint32(0,!0);var c=o.getUint16(4,!0),l=o.getUint16(6,!0);o.setUint32(0,u,!1),o.setUint16(4,c,!1),o.setUint16(6,l,!1)}t.a.keySystem==s.jc&&e==s.Cd&&(e=s.Pd),e!=s.Cd&&(n.loaded=!0),"expired"==e&&(r=!0),o=s.Qj(s.cf(i)),t.b.debug("Key status for",o,e),t.Qa.set(o,e)}));var i=e.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.Na&&(this.b.debug("Session has expired",e.sessionId),this.c["delete"](e),e.close()["catch"]((function(){}))),sr(this)&&(this.s.resolve(),1!==this.c.size||r?this.U.P(.5):ar(this))};var uo,co=0,lo=3;s.Tk={VIDEO:s.Vd,AUDIO:s.Lb,TEXT:s.k,Gj:s.Bb,Lj:"image"},s.to=1/15,s.Mk.prototype.getStats=function(){return{width:this.c,height:this.b,streamBandwidth:this.l,decodedFrames:this.f,droppedFrames:this.g,corruptedFrames:this.m,estimatedBandwidth:this.h,loadLatency:this.i,playTime:hr(this.a,s.dn),pauseTime:hr(this.a,s.Cn),bufferingTime:hr(this.a,s.un),stateHistory:pr(this.a),switchHistory:mr(this.j)}},s.w(vr,s.Gj),s.r=vr.prototype,s.r.init=function(e,t){s.Gj.prototype.init.call(this,e,t),this.f=new Mi(this),Ri(this.f,s.qn)},s.r.namespace=function(){return U},s.r.unload=function(){var e=this;return this.j?new Promise((function(t){e.log.debug(s.Ma,e.j);var n=e.getTrackManager();n&&n.release(),e.i&&e.i.release(),e.g&&e.g.release(),e.h&&(e.h.destroy(),e.h=null),e.b.off(e,s.Bd),e.c&&(e.c=new s.Mk),e.j=null,e.o=!1,e.a&&(e.a.removeAttribute("src"),e.a.load()),yr(e).then(t)})):new Promise((function(e){e()}))},s.r.release=function(){var e=this;return s.Gj.prototype.release.call(this).then((function(){return e.unload()})).then((function(){e.f&&Ri(e.f,s.qn)}))},s.r.destroy=function(){var e=this;return this.m?(this.log.warn("Player is already destroyed!"),Promise.resolve()):(this.m=!0,s.Gj.prototype.destroy.call(this).then((function(){return e.release()})).then((function(){e.log.debug(h);var t=e.getTrackManager();t&&t.destroy(),e.i&&(e.i.destroy()["catch"]((function(t){e.log.warn("Error while disposing cue handler",t)})),e.i=null),e.g&&(e.g.destroy()["catch"]((function(t){e.log.warn("Error while disposing metadata handler",t)})),e.g=null),e.f&&(e.f.destroy(),e.f=null),e.c=null})))},s.r.getDrmInfo=function(){return this.h?this.h.getDrmInfo():null},s.r.load=function(e){var t,n,r,i,a,o=this;return s.A((function(u){switch(u.a){case 1:return o.m?u["return"](Er()):o.getSurface()&&o.getSurface().F(!0)?(t=s.C,n=o.l.F(),o.s=Date.now()/1e3,o.c=new s.Mk,o.b.on(o,s.Bd,(function(){o.c&&s.Hk(o.c.a,o.getState())})),Ri(o.f,s.Bn),o.j=s.ql(e),s.Fj(e)&&(o.configuration=s.Ej(o.Oc,e)),o.log.debug(s.xa,o.configuration),o.log.debug(s.Ha,o.j),r=s.Pf(o.configuration,["html",s.Wc]),o.J=r.create(o),o.J.setTextVisibility(!0),!0!==o.configuration.enableEnhancedSubtitleManager||Pt()||(o.i?o.i.release():o.i=new hn(o),o.i.start(n)),o.g?o.g.release():o.g=new zt(o),Xt(o.g,n),i=o.getTrackManager(),i.load(),n.loop=!!o.configuration.loop,t.H(o.configuration.volume)||o.setVolume(o.configuration.volume),t.H(o.configuration.muted)||o.setMuted(o.configuration.muted),o.b.one(n,L,(function(){o.trigger(new s.O(s.ko))})),s.Ae(u,2),s.x(u,br(o,n),4)):u["return"](Promise.reject("No surface or no media element in surface"));case 4:return s.x(u,wr(o),5);case 5:return s.x(u,xr(o).promise,6);case 6:s.Be(u,0);break;case 2:a=s.Ce(u),o.o=!1,o.onError(a),s.y(u)}}))},s.r.onError=function(e){this.o||(e.a===s.K&&null!==this.f&&Ri(this.f,s.Wk),this.trigger(new s.O(s.yc,{detail:e})))},s.r.Ve=function(){return new en},s.r.getState=function(){return null!==this.f?this.f.getState().currentState:s.rn},s.r.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var e=this.a.getStartDate();return isNaN(e.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):e.getTime()/1e3}return 0},s.r.getSeekRange=function(){var e=this.getSurface().F(!1);return e&&e.src&&(e=e.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:this.getDuration()}},s.r.isLive=function(){return!(!this.a||!this.a.src)&&1/0===this.a.duration},s.r.getStats=function(){if(!this.c||!this.a)return s.Nk();this.c&&s.Hk(this.c.a,this.getState());var e=this.a,t=this.c,n=e.videoHeight;return t.c=e.videoWidth,t.b=n,e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),t=this.c,n=Number(e.totalVideoFrames),t.g=Number(e.droppedVideoFrames),t.f=n,this.c.m=Number(e.corruptedVideoFrames)),this.c.getStats()},s.r.getTimelineCues=function(){return this.g?this.g.getTimelineCues():[]},kr.prototype.canPlay=function(e){e=e.type||"";var t=e===s.nl;return!(e===s.ll||t||e===s.ml&&!s.yh())&&(!s.xh()&&!s.wh("CrKey")&&Ct(e))},kr.prototype.create=function(){return new vr},kr.prototype.create=kr.prototype.create,kr.prototype.canPlay=kr.prototype.canPlay,s.ai(new kr),uo=new s.H("clpp.Components"),s.al=new Map,s.fl.prototype.vc=function(){},s.fl.prototype.release=function(){},Ir.prototype.F=function(e){return this.b||!e||this.h||(this.g.info("Creating new media element upon request"),e=document.createElement(this.a.mediaTag),s.vf(e,this.a.css.fill),e.controls=this.a.controls,e.setAttribute(H,this.a.crossorigin),this.b=e,this.c.appendChild(this.b)),this.b},Ir.prototype.getMedia=Ir.prototype.F,Ir.prototype.Yh=function(){return this.c},Ir.prototype.getContainer=Ir.prototype.Yh,Ir.prototype.Xh=function(){return this.h},Ir.prototype.getCastElement=Ir.prototype.Xh,Ir.prototype.tc=function(e,t,n){var r=this.c;if(!r)throw Error("No container is available. Unable to add element");var i=this.a.css;t&&s.vf(e,i.fill),n?r.insertBefore(e,r.firstElementChild):r.appendChild(e)},Ir.prototype.addContainerElement=Ir.prototype.tc,Ir.prototype.me=function(e){var t=this.c;if(!t)throw Error("No container is available. Unable to remove element");t.removeChild(e)},Ir.prototype.removeContainerElement=Ir.prototype.me,Ir.prototype.release=function(){var e=document.querySelector(i);e&&e.parentElement.removeChild(e)};var fo,ho,po={disableContainer:!1,moveCssToContainer:!0,containerTag:s.oc,mediaTag:s.Vd,crossorigin:"anonymous",controls:!1,css:{container:"clpp-container",fill:"clpp-fill",hidden:"clpp-hidden"},containerEl:null};s.B("clpp.version",s.da),s.B("clpp.name",s.ka),s.ll=P,s.ml=D,s.nl=R,s.B("clpp.Type",{DASH:s.ll,HLS:s.ml,SMOOTH_STREAMING:s.nl,MP4:s.Xd}),fo="scte35",ho=fe,s.uo={SCTE35:fo,UNKNOWN:ho},s.B("clpp.TimelineCueType",s.uo),s.B("clpp.utils.media.detectType",Cr);var go=new s.H("clpp.sources");s.vo={tb:{},Rb:{},od:function(e,t){s.vo.Rb[e]=t}},s.B("clpp.ManifestParser.registerParserByExtension",s.vo.od),s.vo.Gc=function(e,t){s.vo.tb[e]=t},s.B("clpp.ManifestParser.registerParserByMime",s.vo.Gc),s.vo.ne=function(e){s.vo.Rb[e]&&delete s.vo.Rb[e]},s.vo.pd=function(e){s.vo.tb[e]&&delete s.vo.tb[e]},s.vo.ck=function(){var e={};if(s.th()){for(var t in s.vo.tb)e[t]=!0;for(var n in s.vo.Rb)e[n]=!0}t={mpd:P,m3u8:D,ism:R},n=s.u([P,D,s.Gb,R]);for(var r=n.next();!r.done;r=n.next())r=r.value,e[r]=s.th()?!!s.vo.tb[r]:Ct(r);for(var i in t)e[i]=s.th()?!!s.vo.Rb[i]:Ct(t[i]);return e},s.vo.create=function(e,t,n,r){var i,a;return s.A((function(o){if(1==o.a)return s.Ae(o,2),s.x(o,s.vo.ai(e,t,n,r),4);if(2!=o.a)return i=o.b,o["return"](new i);throw a=s.Ce(o),a.ib(s.K),a}))},s.vo.ai=function(e,t,n,r){var i,a,o,u,c;return s.A((function(l){if(1==l.a){if(i=s.vo,r){if(a=i.tb[r.toLowerCase()])return l["return"](a);s.G("Could not determine manifest type using MIME type ",r)}if(o=i.getExtension(e)){if(u=i.Rb[o])return l["return"](u);s.G("Could not determine manifest type for extension ",o)}else s.G("Could not find extension for ",e);return r?l.A(2):s.x(l,i.ci(e,t,n),3)}if(2!=l.a&&(r=l.b)){if(c=s.vo.tb[r])return l["return"](c);s.G("Could not determine manifest type using MIME type",r)}throw new s.J(s.K,4,4e3,{url:e})}))},s.vo.ci=function(e,t,n){var r,i,a;return s.A((function(o){return 1==o.a?(r=s.Ci(e),_n(r,n),r.type=1,r.method="HEAD",s.x(o,t.fetch(r).promise,2)):(i=o.b,a=i.headers["content-type"],o["return"](a?a.toLowerCase():""))}))},s.vo.getExtension=function(e){return e=new s.kj(e).fa.split("/").pop().split("."),1==e.length?"":e.pop().toLowerCase()},s.vo.N=function(e,t){return!!s.th()&&(t in s.vo.tb||s.vo.getExtension(e)in s.vo.Rb)},s.B("clpp.polyfill.installAll",Rr);var mo,vo,bo,yo,wo=[];s.B("clpp.polyfill.register",s.ul),s.ul((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,z in document||(Object.defineProperty(document,z,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Dr),document.addEventListener("webkitfullscreenerror",Dr),document.addEventListener("mozfullscreenchange",Dr),document.addEventListener("mozfullscreenerror",Dr),document.addEventListener("MSFullscreenChange",Dr),document.addEventListener("MSFullscreenError",Dr)}})),s.ul((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Nr)}})),jr.prototype.createSession=function(){},jr.prototype.setServerCertificate=function(){},_r.prototype.getConfiguration=function(){},_r.prototype.createMediaKeys=function(){},s.ul((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.$e("EME not available."),navigator.requestMediaKeySystemAccess=Or,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Lr,e.MediaKeys=jr,e.MediaKeySystemAccess=_r)}),-10),s.ul((function(){if(s.I("VideoPlayPromise.install"),e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e["catch"]((function(){})),e}}})),s.ul((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),s.ul((function(){if(e.VTTCue)s.$e("Using native VTTCue.");else if(e.TextTrackCue){var t=TextTrackCue.length;if(3===t)s.$e(I),e.VTTCue=Ur;else if(6===t)s.$e("Using VTTCue polyfill from 6 argument TextTrackCue."),e.VTTCue=Br;else{try{var n=!!Ur(1,2,"")}catch(r){n=!1}n&&(s.$e(I),e.VTTCue=Ur)}}else s.af("VTTCue not available.")})),s.ul((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(s.I("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Fr,document.exitPictureInPicture=Vr,document.addEventListener("webkitpresentationmodechanged",Kr,!0))}})),Gr.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new qr(this.keySystem);return Promise.resolve(e)},Gr.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.a},qr.prototype.createSession=function(e){if(s.I("PatchedMediaKeysApple.MediaKeys.createSession"),e=e||s.Hd,e!=s.Hd)throw new TypeError(s.Qa+e+s.ba);return new zr(this.b,e)},qr.prototype.setServerCertificate=function(e){return s.I("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),e&&s.cf(e),Promise.resolve(!0)},s.Le(zr,s.Si),s.r=zr.prototype,s.r.generateRequest=function(e,t){s.I("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.a=new s.gj;try{this.c=this.g.createSession(s.Xd,s.cf(t)),this.f.on(this.c,pe,this.lh.bind(this)),this.f.on(this.c,de,this.jh.bind(this)),this.f.on(this.c,he,this.kh.bind(this)),Yr(this,s.Cd)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.I("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error(s.Ba))},s.r.update=function(e){s.I("PatchedMediaKeysApple.MediaKeySession.update"),this.b=new s.gj;try{this.c.update(s.cf(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.I("PatchedMediaKeysApple.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.hi(this.f)}catch(Uo){this.closed.reject(Uo)}return this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error(s.Ca))},s.r.lh=function(e){s.I("PatchedMediaKeysApple.onWebkitKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new s.O(s.Rc,{messageType:void 0==this.keyStatuses.a?s.Jc:s.Ic,message:e.message.buffer}))},s.r.jh=function(e){s.I("PatchedMediaKeysApple.onWebkitKeyAdded_",e),this.b&&(Yr(this,s.Pd),this.b.resolve(),this.b=null)},s.r.kh=function(e){if(s.I("PatchedMediaKeysApple.onWebkitKeyError_",e),e=Error("EME PatchedMediaKeysApple key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Yr(this,s.bd);break;default:Yr(this,s.Gc)}},s.r=$r.prototype,s.r.forEach=function(e){this.a&&e(this.a,mo)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=mo;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(s.$e("Using Apple-prefixed EME"),mo=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wr,e.MediaKeys=qr,e.MediaKeySystemAccess=Gr,navigator.requestMediaKeySystemAccess=Hr)})),s.ul((function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){if(t=void 0!==t?t:this.byteLength,e=Math.floor(e),t=Math.floor(t),0>e&&(e+=this.byteLength),0>t&&(t+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),t=Math.min(Math.max(0,t),this.byteLength),0>=t-e)return new ArrayBuffer(0);var n=new ArrayBuffer(t-e),r=s.cf(n),i=new Uint8Array(this,e,t-e);return r.set(i),n})})),s.ul((function(){s.I("mathRound.install")})),s.ul((function(){s.I("InputEvent.install"),s.wh("Trident/")&&HTMLInputElement.prototype.addEventListener!==Qr&&(s.$e("Patching input event support on IE."),vo=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Qr)})),s.Yk.prototype.abort=function(){return this.a=!0,this.j()},s.Yk.prototype.Tc=function(e,t){function n(){return i.reject(new s.J(s.K,7,7001)),r.abort()}var r=this,i=new s.gj;return this.promise.then((function(t){r.a?i.reject(new s.J(s.K,7,7001)):e?n=ei(e,t,i):i.resolve(t)}),(function(e){t?n=ei(t,e,i):i.reject(e)})),new s.Yk(i,(function(){return n()}))},s.Yk.aborted=function(){var e=Promise.reject(new s.J(s.K,7,7001));return e["catch"]((function(){})),new s.Yk(e,(function(){return Promise.resolve()}))},s.Yk.prototype.chain=s.Yk.prototype.Tc,s.w(ti,s.Yk),ti.prototype.then=function(e,t){return this.promise=this.promise.then(e,t),this},ti.prototype["catch"]=function(e){return this.promise=this.promise["catch"](e),this},ti.prototype.abort=function(){var e=this;return this.a?Promise.resolve():(this.a=!0,this.c.then((function(t){return e.h&&clearTimeout(e.h),e.g&&e.g(),t.abort()}))["catch"]((function(){})))},s.Xl.prototype.Ub=function(e,t){this.a[e]=t},s.B("clpp.drm.DrmEnvironment",s.Xl),s.Xl.prototype.setDrmSystem=s.Xl.prototype.Ub,s.B("clpp.drm.RobustnessLevel",{SW_SECURE_CRYPTO:T,SW_SECURE_DECODE:E,HW_SECURE_CRYPTO:p,HW_SECURE_DECODE:g,HW_SECURE_ALL:"HW_SECURE_ALL"}),s.Yl=s.kc,s.wk=s.jc,s.Zl="com.apple.fps.1_0",s.B("clpp.drm.KeySystem",{WIDEVINE:s.Yl,PLAYREADY:s.wk,FAIRPLAY:s.Zl}),s.am={},s.B("clpp.drm.registerDrmEnvironment",s.bm),s.km=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149],bo=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],yo=[112,115,115,104,0,0,0,0],s.w(oi,ai),s.w(s.im,ai);var So={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,244]},To=new s.H("clpp.drm.DrmToday"),Eo="PRODUCTION",xo="STAGING",ko="TEST",Ao={PRODUCTION:Eo,STAGING:xo,TEST:ko};s.B("clpp.drm.DrmToday.Environment",Ao);var Io="/license-proxy-widevine/cenc/",Mo="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Co="/license-server-fairplay/";(function(){var e=s.wm();Object.keys(Ao).forEach((function(t){var n=f;t!==Eo&&(n+="_"+t),n=new s.Xl(n),n.Ub(s.Yl,{licenseUrl:ui(s.Yl,t),videoRobustness:e.video,audioRobustness:e.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:ci(t),modifiers:{licenseRequest:s.zm,licenseResponse:s.Dm}}),n.Ub(s.Zl,{licenseUrl:ui(s.Zl,t),certificateUrl:si(t)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:s.Am,licenseResponse:s.Bm,extractContentId:s.ym,certificateRequest:s.Cm}}),n.Ub(s.wk,{licenseUrl:ui(s.wk,t),modifiers:{licenseRequest:s.zm}}),s.bm(n)}))})(),fi.prototype.verify=function(t,n){var r={kty:"RSA",n:t.n,e:t.e},i=this.c+"."+this.b,a=this.f;return new Promise((function(t,o){try{var u=e&&e.crypto&&e.crypto.subtle}catch(l){}if(u){var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};u.importKey("jwk",r,c,!1,["verify"]).then((function(e){var t=s.nf(i),n=Be(a);return u.verify(c,e,n.buffer,t.buffer)})).then((function(e){e?t():o(x)}))["catch"](o)}else n?o("Web Crypto API is not supported"):t()}))};var Po={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"};di.prototype.verify=function(){var t=this;return new Promise((function(e,n){try{var r=hi(t);e(r)}catch(i){n()}})).then((function(e){return e.verify(Po)}))["catch"]((function(t){if(t&&t!==x){var n=e.location.href,r=new s.kj(n);if(n=r.Ba||r.wa?r:new s.kj("//"+n),/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(n.wa))return Promise.resolve()}throw t}))};var Ro="vod",Do="live";s.Um.prototype.start=function(){this.a=new s.Ef(this.i.bind(this)).Ea(.25)},s.Um.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},s.Um.prototype.i=function(){var e=parseInt(getComputedStyle(this.f).height,10),t=parseInt(getComputedStyle(this.f).width,10);this.b===e&&this.c===t||(this.b=e,this.c=t,this.h(this.c,this.b,!!document.fullscreenElement))},s.xj.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise["catch"]((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)};var No=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],[s.oc,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);s.$m.prototype.canPlay=function(e){function t(e){i.stop(),r.resolve(e)}var n=document.createElement(s.Vd);n.setAttribute("playsinline","playsinline"),e&&(n.muted=!0,n.setAttribute("muted","muted")),n.src=URL.createObjectURL(this.a);var r=new s.gj;e=n.play();var i=new s.Ef((function(){t(!1)})).P(.25);return void 0!==e?e.then((function(){return t(!0)}))["catch"]((function(){return t(!1)})):t(!0),r};var Oo=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);s.w(Ei,s.Si),s.r=Ei.prototype,s.r.init=function(){},s.r.onError=function(e){null!==this.a?this.a.onError(e):this.trigger(new s.O(s.yc,{detail:e}))},s.r.Hb=function(e){return e=this.v[e],void 0===e&&(e=null),e},s.r.getSurface=function(){return this.f},s.r.getConfiguration=function(){return s.C.lb(this.b)},s.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null},s.r.unload=function(){return this.a?this.a.unload():Promise.resolve()},s.r.release=function(){var e=this;if(this.m)return this.c.debug("The player is already released. No-op"),new Promise((function(e){return e()}));if(this.off(s.Bd,this.w),this.trigger(new s.O(s.od)),this.f&&this.f.release(),this.g&&(this.g.dispose(),this.g=null),Ar((function(e){e.release()})),this.a){var t=null,n=this.a.on(s.Bd,(function(e){t=e}));return this.Fc("onPlayerWillRelease").then((function(){return e.a.removeDelegate(e),Promise.all([e.a.release(),e.l.release()])})).then((function(){e.c.debug("Releasing player completed"),t&&(e.c.debug("Re-post state change event after release"),e.trigger(t))}))["finally"]((function(){e.a.off(s.Bd,n),e.trigger(new s.O(ie))}))}return this.trigger(new s.O(ie)),new Promise((function(e){return e()}))},s.r.destroy=function(){var e=this;return this.j?(this.c.debug("The player is already destroyed. No-op"),new Promise((function(e){return e()}))):(this.j=!0,this.release().then((function(){return e.c.debug(h),e.trigger(new s.O("destroying")),e.Fc("onPlayerWillDestroy")})).then((function(){if(e.a&&e.a.removeDelegate(e),e.xc.clear(),e.a)return e.a.destroy()})).then((function(){Ar((function(e){e.hb()})),s.al.clear(),e.a=null,e.trigger(new s.O("destroyed"))})))},s.r.load=function(e){var t=this;return s.A((function(n){return 1==n.a?s.x(n,s.mn(t,e),2):3!=n.a?s.x(n,s.nn(t),3):s.x(n,s.on(t),0)}))},s.r.Fc=function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];var i=this;return r=this.s.map((function(t){var r=t[e];return r.call.apply(r,[t,i].concat(s.ne(n)))})).filter((function(e){return e instanceof Promise})),Promise.all(r)},s.r.use=function(e){e=new e,e.rb(this),s.dl(e)},s.r.remove=function(e){if(this.getState()<=s.qn||this.m){var t="";if(Ar((function(n){n instanceof e&&(t=n.id(),n.hb())})),t)return s.al["delete"](t),this.o=!0}return!1},s.r.play=function(){return this.a?this.g&&this.a.namespace()!==s.bc?this.g.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")},s.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")},s.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()},s.r.getBufferInfo=function(e){return this.a?this.a.getBufferInfo(e):new s.Ri},s.r.getState=function(){return this.a?this.a.getState():s.qn},s.r.getThumbnailStreams=function(){return this.a?this.a.getThumbnailStreams():[]},s.r.isEnded=function(){return this.a&&this.a.isEnded()||!1},s.r.isPaused=function(){return this.a&&this.a.isPaused()||!1},s.r.getPosition=function(){return this.a?this.a.getPosition():0},s.r.seek=function(e){return this.getState()===s.Wk?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(e):Promise.reject("delegate does not exist")},s.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0},s.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}},s.r.getVolume=function(){return this.a?this.a.getVolume():null},s.r.setVolume=function(e){this.a&&this.a.setVolume(e)},s.r.getDuration=function(){return this.a?this.a.getDuration():-1},s.r.getAdsManager=function(){return this.g},s.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"},s.r.canPlay=function(e){return!!this.a&&this.a.canPlay(e)},s.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1},s.r.setPlaybackRate=function(e){this.a&&this.a.setPlaybackRate(e)},s.r.isMuted=function(){return this.a&&this.a.isMuted()||!1},s.r.setMuted=function(e){this.a&&this.a.setMuted(e)},s.r.getNetworkEngine=function(){return this.l},s.r.setNetworkEngine=function(e){this.l=e},s.r.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()},s.r.isLive=function(){return!!this.a&&this.a.isLive()},s.r.getStats=function(){return this.a?this.a.getStats():null},s.r.dd=function(){return Object.freeze(this.h)},s.r.setSourceIndex=function(e){this.a&&this.a.setSourceIndex(e)},s.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():0},s.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()},s.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]},s.r.resetAbr=function(){this.a&&this.a.resetAbr()},s.B("clpp.Player",Ei),Ei.prototype.resetAbr=Ei.prototype.resetAbr,Ei.prototype.getTimelineCues=Ei.prototype.getTimelineCues,Ei.prototype.getLoadedSource=Ei.prototype.getLoadedSource,Ei.prototype.getSources=Ei.prototype.dd,Ei.prototype.getStats=Ei.prototype.getStats,Ei.prototype.isLive=Ei.prototype.isLive,Ei.prototype.getTextDisplayer=Ei.prototype.getTextDisplayer,Ei.prototype.setNetworkEngine=Ei.prototype.setNetworkEngine,Ei.prototype.getNetworkEngine=Ei.prototype.getNetworkEngine,Ei.prototype.setMuted=Ei.prototype.setMuted,Ei.prototype.isMuted=Ei.prototype.isMuted,Ei.prototype.setPlaybackRate=Ei.prototype.setPlaybackRate,Ei.prototype.getPlaybackRate=Ei.prototype.getPlaybackRate,Ei.prototype.namespace=Ei.prototype.namespace,Ei.prototype.getAdsManager=Ei.prototype.getAdsManager,Ei.prototype.getDuration=Ei.prototype.getDuration,Ei.prototype.setVolume=Ei.prototype.setVolume,Ei.prototype.getVolume=Ei.prototype.getVolume,Ei.prototype.getSeekRange=Ei.prototype.getSeekRange,Ei.prototype.getPresentationStartTime=Ei.prototype.getPresentationStartTime,Ei.prototype.seek=Ei.prototype.seek,Ei.prototype.getPosition=Ei.prototype.getPosition,Ei.prototype.isPaused=Ei.prototype.isPaused,Ei.prototype.isEnded=Ei.prototype.isEnded,Ei.prototype.getState=Ei.prototype.getState,Ei.prototype.getBufferInfo=Ei.prototype.getBufferInfo,Ei.prototype.getTrackManager=Ei.prototype.getTrackManager,Ei.prototype.pause=Ei.prototype.pause,Ei.prototype.play=Ei.prototype.play,Ei.prototype.remove=Ei.prototype.remove,Ei.prototype.use=Ei.prototype.use,Ei.prototype.load=Ei.prototype.load,Ei.prototype.destroy=Ei.prototype.destroy,Ei.prototype.release=Ei.prototype.release,Ei.prototype.getDrmInfo=Ei.prototype.getDrmInfo,Ei.prototype.getConfiguration=Ei.prototype.getConfiguration,Ei.prototype.getSurface=Ei.prototype.getSurface,Ei.prototype.getPlugin=Ei.prototype.Hb,s.qn=0,s.Bn=1,s.un=2,s.dn=3,s.Cn=4,s.wn=5,s.Wk=6,s.rn=7,s.yn={IDLE:s.qn,PREPARING:s.Bn,BUFFERING:s.un,PLAYING:s.dn,PAUSED:s.Cn,ENDED:s.wn,ERROR:s.Wk,UNSET:s.rn},Ei.State=s.yn;var Lo=[];Ei.registerPlugin=s.pn,s.r=Mi.prototype,s.r.Jc=function(e,t){this.a&&this.a.trigger(new s.O(e,{detail:t}))},s.r.getState=function(){return Pi(this,"")},s.r.zf=function(){this.h=!1,Ri(this,s.wn)},s.r.Ee=function(){Ni(this,L)},s.r.wf=function(){this.o=!0,Ni(this,j)},s.r.Ge=function(){this.h=this.s=!1,Ni(this,s.ed)},s.r.He=function(){this.s=!0,this.h=!1,Ni(this,s.id)},s.r.Bf=function(){Ni(this,s.Oc)},s.r.Ie=function(){Di(this)&&Ni(this,s.ld)},s.r.Je=function(){Ni(this,s.md)},s.r.Vc=function(e){this.h=this.l=!1,Ni(this,e.type)},s.r.Wc=function(e){this.l=!0,Ni(this,e.type)},s.r.Ke=function(){Ni(this,se)},s.r.If=function(){this.h=!0,Ni(this,s.ae)},s.r.Fe=function(e){(e=e&&e.detail)&&e.a&&e.a===s.K&&Ri(this,s.Wk)},s.r.destroy=function(){this.c.debug("Stop watching for video events for "+this.a.namespace()),this.a.off(s.xc,this.zf),this.a.off(L,this.Ee),this.a.off(s.id,this.He),this.a.off(s.ed,this.Ge),this.a.off(s.ld,this.Ie),this.a.off(s.md,this.Je),this.a.off(s.td,this.Vc),this.a.off(s.ud,this.Wc),this.a.off(se,this.Ke),this.a.off(s.ae,this.If),this.a.off(s.yc,this.Fe),this.a.off(s.Oc,this.Bf),this.a.off(j,this.wf),this.a.off(s.Rd,this.Wc),this.a.off(s.Qd,this.Vc)},s.En.prototype.a=function(){return this.keyInfo},s.Fn.prototype.getPosition=function(){return this.position},s.Fn.prototype.a=function(){return this.keyInfo},s.r=s.Gn.prototype,s.r.getDuration=function(){return this.f},s.r.Ab=function(e){this.f=e},s.r.getPresentationStartTime=function(){return this.h},s.r.Nb=function(){return this.m},s.r.offset=function(e){null!=this.g&&(this.g+=e),null!=this.c&&(this.c+=e)},s.r.isLive=function(){return 1/0==this.f&&!this.b},s.r=s.Mn.prototype,s.r.destroy=function(){return this.a=null,Promise.resolve()},s.r.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},s.r.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},s.r.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},s.r.ac=function(e,t){var n=e-this.a[0].position;if(0<=n&&n<this.a.length)for(this.a[n].endTime+=t,n+=1;n<this.a.length;++n)this.a[n].startTime+=t,this.a[n].endTime+=t},s.Mn.prototype.adjust=s.Mn.prototype.ac,s.Mn.prototype.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime},s.Mn.prototype.getDuration=s.Mn.prototype.getDuration,s.Mn.prototype.cb=function(e){for(var t=[],n=[],r=0,i=0;r<this.a.length&&i<e.length;){var a=this.a[r],o=e[i];a.startTime<o.startTime?(t.push(a),r++):(a.startTime>o.startTime?0===r?n.push(o):s.G("Refusing to rewrite original references on update!"):(.1<Math.abs(a.endTime-o.endTime)?t.push(new s.Fn(a.position,o.startTime,o.endTime,o.za,o.ta,o.ga,o.keyInfo,o.ec,o.timescale)):t.push(a),r++),i++)}for(;r<this.a.length;)t.push(this.a[r++]);if(t.length)for(r=t[t.length-1].position+1;i<e.length;)a=e[i++],a=new s.Fn(r++,a.startTime,a.endTime,a.za,a.ta,a.ga,a.keyInfo,a.ec,a.timescale),t.push(a);else t=e;var u=t;if(n.length&&t.length){u=[];var c=t[0].position,l=n.length;n.forEach((function(e){u.push(new s.Fn(c-l--,e.startTime,e.endTime,e.za,e.ta,e.ga,e.keyInfo,e.ec))})),t.forEach((function(e){u.push(e)}))}this.a=u},s.Mn.prototype.replace=function(e){this.a=e},s.r=Oi.prototype,s.r.load=function(){return Promise.resolve()},s.r.start=function(e){return e.play()},s.r.resume=function(){},s.r.pause=function(){},s.r.skip=function(){},s.r.getVolume=function(){return 1},s.r.setVolume=function(){},s.r.getPosition=function(){return-1},s.r.dispose=function(){},Oi.prototype.dispose=Oi.prototype.dispose,Oi.prototype.getPosition=Oi.prototype.getPosition,Oi.prototype.setVolume=Oi.prototype.setVolume,Oi.prototype.getVolume=Oi.prototype.getVolume,Oi.prototype.skip=Oi.prototype.skip,Oi.prototype.pause=Oi.prototype.pause,Oi.prototype.resume=Oi.prototype.resume,Oi.prototype.start=Oi.prototype.start,Oi.prototype.load=Oi.prototype.load,Li.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"},Li.prototype.N=function(){return!0},Li.prototype.create=function(){return new Oi},Li.prototype.create=Li.prototype.create,Li.prototype.isSupported=Li.prototype.N,Li.prototype.name=Li.prototype.name,s.B("clpp.ads.IAdsManagerFactory",ji),ji.prototype.name=function(){},ji.prototype.name=ji.prototype.name,ji.prototype.N=function(){},ji.prototype.isSupported=ji.prototype.N,ji.prototype.create=function(){},ji.prototype.create=ji.prototype.create,s.B("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2}),s.B("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1}),s.B("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var jo=new s.H("clpp.ads"),_o=[];s.B("clpp.ads.IAdsManager",Ui),Ui.prototype.load=function(){},Ui.prototype.start=function(){},Ui.prototype.resume=function(){},Ui.prototype.resume=Ui.prototype.resume,Ui.prototype.pause=function(){},Ui.prototype.pause=Ui.prototype.pause,Ui.prototype.skip=function(){},Ui.prototype.skip=Ui.prototype.skip,Ui.prototype.getVolume=function(){},Ui.prototype.getVolume=Ui.prototype.getVolume,Ui.prototype.setVolume=function(){},Ui.prototype.setVolume=Ui.prototype.setVolume,Ui.prototype.getPosition=function(){},Ui.prototype.getPosition=Ui.prototype.getPosition,Ui.prototype.dispose=function(){},s.B("clpp.ads.IAd",Bi),Bi.prototype.Sa=function(){},Bi.prototype.getAdManagerName=Bi.prototype.Sa,Bi.prototype.Ta=function(){},Bi.prototype.getAdManagerVersion=Bi.prototype.Ta,Bi.prototype.Za=function(){},Bi.prototype.getTechnology=Bi.prototype.Za,Bi.prototype.Ua=function(){},Bi.prototype.getId=Bi.prototype.Ua,Bi.prototype.getCreativeId=function(){},Bi.prototype.getCreativeId=Bi.prototype.getCreativeId,Bi.prototype.getApiFramework=function(){},Bi.prototype.getApiFramework=Bi.prototype.getApiFramework,Bi.prototype.getAdSystem=function(){},Bi.prototype.getAdSystem=Bi.prototype.getAdSystem,Bi.prototype.getAdvertiserName=function(){},Bi.prototype.getAdvertiserName=Bi.prototype.getAdvertiserName,Bi.prototype.getTitle=function(){},Bi.prototype.getTitle=Bi.prototype.getTitle,Bi.prototype.getDuration=function(){},Bi.prototype.getDuration=Bi.prototype.getDuration,Bi.prototype.getSkipTimeOffset=function(){},Bi.prototype.getSkipTimeOffset=Bi.prototype.getSkipTimeOffset,Bi.prototype.Lb=function(){},Bi.prototype.isBumper=Bi.prototype.Lb,Bi.prototype.nb=function(){},Bi.prototype.getClickThroughUrl=Bi.prototype.nb,Bi.prototype.getMediaUrl=function(){},Bi.prototype.getMediaUrl=Bi.prototype.getMediaUrl,Bi.prototype.Wa=function(){},Bi.prototype.getMediaWidth=Bi.prototype.Wa,Bi.prototype.Va=function(){},Bi.prototype.getMediaHeight=Bi.prototype.Va,Bi.prototype.Ia=function(){},Bi.prototype.getMediaBitrate=Bi.prototype.Ia,Bi.prototype.ya=function(){},Bi.prototype.getPodType=Bi.prototype.ya,Bi.prototype.getPodIndex=function(){},Bi.prototype.getPodIndex=Bi.prototype.getPodIndex,Bi.prototype.ob=function(){},Bi.prototype.getPodTimeOffset=Bi.prototype.ob,Bi.prototype.pb=function(){},Bi.prototype.getPositionInSequence=Bi.prototype.pb,Bi.prototype.Ya=function(){},Bi.prototype.getSequenceLength=Bi.prototype.Ya,Bi.prototype.getWrapperAdIds=function(){},Bi.prototype.getWrapperAdIds=Bi.prototype.getWrapperAdIds,Bi.prototype.getWrapperAdSystems=function(){},Bi.prototype.getWrapperAdSystems=Bi.prototype.getWrapperAdSystems,Bi.prototype.getWrapperCreativeIds=function(){},Bi.prototype.getWrapperCreativeIds=Bi.prototype.getWrapperCreativeIds,s.B("clpp.ads.IAdsTimeline",Ki),Ki.prototype.getCuePoints=function(){},Ki.prototype.getCuePoints=Ki.prototype.getCuePoints,Ki.prototype.qb=function(){},Ki.prototype.hasPreroll=Ki.prototype.qb,Ki.prototype.$a=function(){},Ki.prototype.hasPostroll=Ki.prototype.$a,s.Xn.prototype.onContentWillLoad=function(){return Promise.resolve()},s.Xn.prototype.onContentLoaded=function(e,t){for(var n=1;n<arguments.length;++n);return Promise.resolve()},s.Xn.prototype.onPlayerWillDestroy=function(){},s.Xn.prototype.onPlayerWillRelease=function(){}}).call(o,this),o.clpp._=s,e.exports?e.exports=o.clpp:(i=function(){return o.clpp}.call(t,n,t,e),void 0===i||(e.exports=i))})()}).call(this,n("c8ba"))},"3fcc":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").map,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"45fc":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").some,a=n("a640"),o=n("ae40"),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),u=n("14c3");r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this);if(!o.global)return u(o,c);var l=o.unicode;o.lastIndex=0;var f,d=[],h=0;while(null!==(f=u(o,c))){var p=String(f[0]);d[h]=p,""===p&&(o.lastIndex=s(c,a(o.lastIndex),l)),h++}return 0===h?null:d}]}))},"4d60":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"assets"}},[n("section",{staticClass:"section"},[n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Purchased Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMoviePurchases,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Rented Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMovieRentals,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.movies,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - TV Shows")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.series,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("router-view")],1)])},i=[],a=(n("4de4"),n("5530")),o=n("2f62"),s={name:"Assets",data:function(){return{wishlist:{},librarylist:{},movieRentals:[]}},computed:Object(o["c"])(["getWishList","getMovieRentals","getMoviePurchases"]),created:function(){var e=JSON.parse(localStorage.getItem("authData"));this.fetchWishList({authData:e}),this.fetchMovieRentals({authData:e})},$route:{immediate:!0,handler:function(e){this.showModal=e.meta&&e.meta.showModal}},methods:Object(a["a"])({filterImage:function(e){var t=e.filter((function(e){return"SLICK"===e.type}));return t}},Object(o["b"])(["fetchWishList","fetchMovieRentals"]))},u=s,c=(n("6993"),n("2877")),l=Object(c["a"])(u,r,i,!1,null,"31248d33",null);t["default"]=l.exports},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),u=n("8418"),c=n("35a1");e.exports=function(e){var t,n,l,f,d,h,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=c(p),w=0;if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),void 0==y||g==Array&&o(y))for(t=s(p.length),n=new g(t);t>w;w++)h=b?v(p[w],w):p[w],u(n,w,h);else for(f=y.call(p),d=f.next,n=new g;!(l=d.call(f)).done;w++)h=b?a(f,v,[l.value,w],!0):l.value,u(n,w,h);return n.length=w,n}},"4eb8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"watch"},[n("div",{staticClass:"poster",style:"background-image: url("+e.posterImg+");"}),n("div",{staticClass:"overlay"},[n("div",{staticClass:"backbutton"},[n("arrow-left-icon",{staticClass:"icons",attrs:{size:"2x"},on:{click:function(t){return e.$router.push({path:"/assets"})}}})],1),n("div",{staticClass:"is-size-4 has-text-left title"},[e._v(" "+e._s(e.title)+" ")]),n("div",{staticClass:"is-size-6 has-text-left error has-text-danger"},[e._v(" "+e._s(e.errorTitle)+" ")])]),n("video",{staticClass:"video",attrs:{id:"player",crossOrigin:"anonymous",poster:e.posterImg,controls:""}})])},i=[],a=(n("99af"),n("4de4"),n("d3b7"),n("5530")),o=(n("96cf"),n("1da1")),s=n("3f2b"),u=n.n(s);n("5719"),n("d570"),n("78fe"),n("c1c5"),n("4fc2");function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var l="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function f(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(l(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return l(t)}}function d(e){this.message=e}function h(e,t){if("string"!=typeof e)throw new d("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(f(e.split(".")[n]))}catch(e){throw new d("Invalid token specified: "+e.message)}}d.prototype=new Error,d.prototype.name="InvalidTokenError";var p=h,g=n("92fa"),m=n.n(g),v={name:"ArrowLeftIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",r=t.data.attrs||{};return r.width=r.width||n,r.height=r.height||n,t.data.attrs=r,e("svg",m()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-arrow-left"},t.data]),[e("line",{attrs:{x1:"19",y1:"12",x2:"5",y2:"12"}}),e("polyline",{attrs:{points:"12 19 5 12 12 5"}})])}},b={components:{ArrowLeftIcon:v},props:["embedCode","posterImg"],data:function(){return{currentTime:null,lastPing:-1,title:"",errorTitle:"",platform:"",pingInterval:300,eventNumber:1,duration:0,firstPlay:!0,player:null,profileRank:{uhd:1,fhd:2,hd:3,sd:4},envConfig:{prod:{playerInit:"ttvbo.play.cf.ap-southeast-2-prod.vmnd.tv",playService:"ttvbo.mediaservices.com.au",drmPlatform:"DRMtoday"},preprod:{playerInit:"ttvbo.play.cf.ap-southeast-2-preprod.vmnd.tv",playService:"ttvbo.testmediaservices.com.au",drmPlatform:"DRMtoday_STAGING"}},drmType:"drmtoday.widevine",contentType:"DASH-H264"}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.platform=localStorage.getItem("platform")||"preprod",e.authData=JSON.parse(localStorage.getItem("authData")),n=void 0!==window.safari,n&&(e.drmType="drmtoday.fairplay",e.contentType="HLS"),r=e.$parent.clPlayerLicense,e.player=new u.a.Player("player",{license:r}),e.player.use(u.a.dash.DashComponent),e.player.use(u.a.hls.HlsComponent),e.player.use(u.a.crypto.CryptoComponent),console.log("watch initiated"),t.prev=10,t.next=13,e.initatePlayer();case 13:i=t.sent,o=e.getPlayerOptions(i),console.log(o),e.player.load(Object(a["a"])(Object(a["a"])({},o),{},{autoplay:!0})),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](10),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[10,19]])})))()},beforeDestroy:function(){},methods:{getPlayerOptions:function(e){var t,n,r,i=this;if(e.data[0].isDrmProtected){var a=e.data[0].alternativeStreams.filter((function(e){return e.drmProxyType===i.drmType}))[0];t=a.manifest.uri,n=a.mimeType;var o=a.drm.headers,s=o["x-dt-auth-token"],u=JSON.parse(p(s).optData);r={source:{url:t,type:n},drm:{env:this.envConfig[this.platform].drmPlatform,customData:{userId:u.userId,sessionId:u.sessionId,merchant:u.merchant,authToken:s,assetId:"ttvbo-".concat(e.data[0].assetId)}},vimond:{authToken:e.token}}}else t=e.data[0].alternativeStreams[0].manifest.uri,n=e.data[0].alternativeStreams[0].mimeType,r={source:{url:t,type:n}};return r},initatePlayer:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getOoyalaToken({embedCode:e.$route.params.embedCode});case 3:return n=t.sent,r=n.embedToken,t.next=7,e.getJWT({OoyalaToken:r,embedCode:e.$route.params.embedCode,deviceType:"TTV",deviceModel:"Model",osVersion:"OS Version",security:{playready:{level:"default"}}});case 7:return i=t.sent,a=i.token,o=i.assetId,t.next=12,e.getPlayUrl({token:a,assetId:o});case 12:return s=t.sent,e.title=s["data"][0].assetTitle,s.token=a,s["data"][0].alternativeStreams.push(s["data"][0].recommendedStream),s["data"][0].alternativeStreams.sort(e.compareProfileRank),t.abrupt("return",s);case 20:t.prev=20,t.t0=t["catch"](0),e.errorTitle="ASSET NOT FOUND";case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},getPlayUrl:function(e){var t=this,n=e.assetId,r=e.token;return new Promise((function(e,i){var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer ".concat(r));var o=JSON.stringify({device:{label:"SANDPIT",udid:t.$parent.authData.uuid}}),s={method:"POST",headers:a,body:o,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playerInit,"/api/v2/asset/").concat(n,"/play?extraFields=alternativeStreams&contentType=").concat(t.contentType),s).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return i(e)}))}))},getJWT:function(e){var t=this;return new Promise((function(n,r){var i=new Headers;i.append("Content-Type","application/json");var a=JSON.stringify(e),o={method:"POST",headers:i,body:a,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playService,"/users/").concat(t.authData.uuid,"/playbackInit"),o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},compareProfileRank:function(e,t){return this.profileRank[e.urlProfile]-this.profileRank[t.urlProfile]},getOoyalaToken:function(e){var t=this,n=e.embedCode;return new Promise((function(e,r){var i=new Headers;i.append("ovs-token","".concat(t.$parent.authData.access_token)),i.append("Content-Type","application/json"),i.append("ovs-uuid","".concat(t.authData.uuid)),i.append("bpm-environment","bpm");var a={method:"GET",headers:i,redirect:"follow"};fetch("https://telstramedia-prod.apigee.net/v2/bpm/ovs/users/".concat(t.authData.uuid,"/ooyalaToken?deviceType=ios&embedCode=").concat(n),a).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return r(e)}))}))}}},y=b,w=(n("1b05"),n("2877")),S=Object(w["a"])(y,r,i,!1,null,null,null);t["default"]=S.exports},"4ec9":function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"4fc2":function(e,t,n){var r,i;n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("5319");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t="Registering listeners",n="clpp.vimond.VimondPlugin",r=function(){this.a=!1,this.f=new s.H(n),this.g=this.c=this.b=null},i=function(){},o=function(e,t,n,r,i){this.i=e,this.h=n,this.c=t,this.a=r,this.g=i,this.f=new s.H("clpp.vimond.VimondService"),this.b=0},u=function(e){this.a=e,this.b=new s.ei,this.f=new s.H("clpp.vimond.VimondAdapter"),this.c=this.g=!1,this.a&&this.b&&(this.f.debug(t),this.b.on(this.a,s.od,this.Xi.bind(this)),this.b.on(this.a,s.cb,this.yh.bind(this)),this.b.on(this.a,s.db,this.zh.bind(this)))},c=function(e,t){var n=e.a.getState();if(1===t)return["str-start",s.id];if(e.g)return[s.wc,s.ed];if(n===s.wn)return[s.wc,null];if(n===s.Wk)return[s.yc,s.ed];var r=s.ed;return(n===s.un||n===s.dn||e.c)&&(r=s.id),["period",r]},l=function(e,n,r,i,a){this.v=e,this.w=n,this.B=r,this.b=i,this.s=a,this.c=new s.ei,this.i=!0,this.f=this.h=this.m=!1,this.o=null,this.g=new s.Ef(this.$e.bind(this)),this.a=new s.H("clpp.vimond.VimondDispatcher"),this.j=this.l=0,this.b&&this.c&&(this.a.debug(t),this.c.on(this.b,s.Bd,this.Ch.bind(this)),this.c.on(this.b,s.Ld,this.Dh.bind(this)),this.c.on(this.b,s.cb,this.Ah.bind(this)),this.c.on(this.b,s.db,this.Bh.bind(this)))},f=function(e,t){e.b.trigger(new s.O(s.$d,{detail:t}))},d=function(e,t,n){t&&(e.m=!0,e.g.stop()),e.b.onError(new s.J(t?s.K:1,9,9201,n))};s.w(r,s.Xn),s.r=r.prototype,s.r.onPlayerCreated=function(){},s.r.onContentWillLoad=function(e){var t=e.getConfiguration();if((this.a=!s.C.H(t.vimond)&&a(t.vimond)===s.Yc)?e.namespace()===s.bc&&(this.a=!1,this.f.info("Vimond does not report when casting.")):this.f.warn("Vimond plugin is loaded but not configured. Will do nothing."),this.a){t=e.getConfiguration().vimond;for(var n=s.u(["authToken","playerEventRequest"]),r=n.next();!r.done;r=n.next())if(r=r.value,!t[r])return this.f.warn(r+" key is missing"),void e.onError(new s.J(1,9,9200));this.f.debug("Configuration is valid"),n=t.failIfUnreachable,a(n)!==s.Sb&&(n=!0),r=t.failOnError,a(r)!==s.Sb&&(r=!0),this.b=new u(e),this.c=new o(t.playerEventRequest.uri,t.authToken,t.playerEventRequest.body,this.b,e.getNetworkEngine()),this.g=new l(t.playerEventRequest.eventInterval,n,r,e,this.c)}},s.r.onPlayerWillRelease=function(){this.a&&(this.b&&this.b.dispose(),this.g&&this.g.dispose(),this.g=this.c=this.b=null)},s.r.onPlayerWillDestroy=function(){},s.r.id=function(){return"vimond"},s.r.ue=function(e){this.a&&this.c&&this.c.ue(e)},s.B(n,r),r.prototype.updateAuthToken=r.prototype.ue,r.Id="vimond",i.prototype.create=function(){return new r},s.pn(new i),o.prototype.ue=function(e){this.c=e},s.r=u.prototype,s.r.getPosition=function(){return Math.floor(this.a.getPosition())},s.r.Xi=function(){this.g=!0},s.r.yh=function(){this.c=!0},s.r.zh=function(){this.c=!1},s.r.dispose=function(){this.f.debug(s.Ya),s.hi(this.b)},s.r=l.prototype,s.r.Dh=function(){this.f||(this.f=1<Math.abs(this.l-this.b.getPosition())),this.l=this.b.getPosition()},s.r.Ah=function(){this.a.debug("Ad break started"),this.h=!0},s.r.Bh=function(){this.a.debug("Ad break stopped"),this.h=!1},s.r.Ch=function(e){var t,n,r,i,a,o=this;return s.A((function(u){if(1==u.a)return t=e.detail,n=s.yn,r=t.currentState,i=t.previousState,o.a.debug("State changed, prev: "+i+" curr: "+r),o.m||o.h?u["return"]():r!==o.o||o.f?o.i&&r!==n.PLAYING?u["return"]():o.f&&[n.PAUSED,n.BUFFERING].includes(r)?(o.a.debug("Seeking"),u["return"]()):(o.f&&r===n.PLAYING&&(o.a.debug("Seeked"),o.f=!1),a=[n.PLAYING,n.PAUSED,n.ERROR,n.ENDED],a.includes(r)?(o.o=r,s.x(u,o.$e(),3)):u.A(0)):(o.a.debug("Ignore transition"),u["return"]());r===n.ENDED&&o.g.stop(),s.y(u)}))},s.r.$e=function(){var e,t,n,r,i,o,u=this;return s.A((function(l){if(1==l.a){e=s.fo;var h=Math.floor(Date.now()/1e3);0<u.j&&u.a.debug("Last event was "+(h-u.j)+" seconds ago"),u.j=h,u.g.stop(),u.g.P(u.i?10:u.v),u.i=!1,s.Ae(l,2),h=u.s,h.b++;var p=s.C.cb(h.h);p.client.buildName=s.ka,p.client.buildVersion=s.da;var g=p.client,m=h.a.a.getDrmInfo();if(g.drm=m?m.keySystem:"",p.client.pageUrl=document.location.href,p.client.streamUrl=h.a.a.getLoadedSource().url,p.client.userAgent=navigator.userAgent,p.client.videoFormat=h.a.a.getLoadedSource().type||"",g=p.client,m=h.a.a.getLoadedSource(),m=(new s.Kj(m.url).scheme||"").replace(":",""),g.videoProtocol=m,g=c(h.a,h.b),p.client.playerEvent=g[0],p.client.playerState=g[1],p.progress.vod&&(p.progress.vod.position=h.a.getPosition()),g=p.progress.live){m=h.a,m=Math.floor(m.a.getPresentationStartTime()+m.a.getPosition()),m=new Date(1e3*m).toISOString(),g.position=m;var v=h.a;m=v.a.getPosition(),v=v.a.getSeekRange().end,g.onLiveEdge=30>Math.abs(v-m),a(g.liveResumePossible)!==s.Sb&&(g.liveResumePossible=!0)}return p.progress.eventNumber=h.b,p.timestamp=(new Date).toISOString(),h.f.debug("Fire an event"),g=s.Ci(h.i),g.method="POST",g.contentType="application/json",g.headers.Authorization="Bearer "+h.c,g.body=s.pf(JSON.stringify(p)),h=h.g.fetch(g).promise,s.x(l,h,4)}if(2!=l.a)return t=l.b,f(u,t),s.Be(l,0);r=n=s.Ce(l),i=r.code,o=r.data,[e.Kj,e.TIMEOUT].includes(i)?(u.a.debug("Unreachable service"),f(u,o),d(u,u.w,o)):i===e.Hj?(u.a.debug("Generic service error"),f(u,o),d(u,u.B,o)):u.a.error(n.toString()),s.y(l)}))},s.r.dispose=function(){this.a.debug(s.Ya),s.hi(this.c),this.g.stop()}};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else r=[n("3f2b")],i=function(e){return s=e._,u.call(o,this),o}.apply(t,r),void 0===i||(e.exports=i)})()},5377:function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("ad6d"),o=n("9f7f").UNSUPPORTED_Y;r&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5719:function(e,t,n){var r,i;n("99af"),n("a623"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("b0c0"),n("4ec9"),n("a9e3"),n("aff5"),n("b680"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("2ca0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t,n,r,i,o,c,l,f,d,h,p,g,m,v,b,y,w,S,T,E,x,k,A,I,M,C,P,R,D,N,O,L,j,_,U,B,K,F,V,H,G,W,q,J,z,X,Y,$,Q,Z,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ge,me,ve,be,ye,we,Se,Te,Ee,xe,ke,Ae,Ie,Me,Ce,Pe,Re,De,Ne,Oe,Le,je,_e,Ue,Be,Ke,Fe,Ve,He,Ge,We,qe,Je,ze,Xe,Ye,$e,Qe,Ze,et,tt,nt,rt,it,at,ot,st,ut,ct,lt,ft,dt,ht,pt,gt,mt,vt,bt,yt,wt,St,Tt,Et,xt,kt,At,It,Mt,Ct,Pt,Rt,Dt,Nt,Ot,Lt,jt,_t,Ut,Bt,Kt,Ft,Vt,Ht,Gt,Wt,qt,Jt,zt,Xt,Yt,$t,Qt,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,fn,dn,hn,pn,gn,mn,vn,bn,yn,wn,Sn,Tn,En,xn,kn,An,In,Mn,Cn,Pn,Rn,Dn,Nn,On,Ln,jn,_n,Un,Bn,Kn,Fn,Vn,Hn,Gn,Wn,qn,Jn,zn,Xn,Yn,$n,Qn,Zn,er,tr,nr,rr,ir,ar,or,sr,ur,cr,lr,fr,dr,hr,pr,gr,mr,vr,br,yr,wr,Sr,Tr,Er,xr,kr,Ar,Ir,Mr,Cr,Pr,Rr,Dr,Nr,Or,Lr,jr,_r,Ur,Br;t=" buffer",n=" is being or has been set up",r="Cannot find matching variant",i="Jumping forward",o="MediaSource threw QuotaExceededError:",s.Tr="No stream with id",c="Not a persistent session.",l="PatchedMediaKeysWebkit.MediaKeys.findSession_",s.Wr="Player is in ERROR state and can not switch to ",f="PrestoPlay TextTrack",d="Removing audio from variant - audio not compatible with platform",h="bufferBehind=",p="bufferedBehind=",g="calling onCanSwitch()...",m="clpp.mse.Player",v="currentPeriod.startTime=",s.ds="onChooseStreams_",b="output-restricted",y="presentationTime=",w="reference.endTime=",S="reference.startTime=",T="switch: Stream ",E="webkit-org.w3.clearkey",x=function(e,t,n,r){return Promise.resolve().then((function(){if(e.i&&e.c)if(null==n||null==r)e.i.parseInit(s.cf(t));else{var i={periodStart:e.l,segmentStart:n,segmentEnd:r};i=e.i.parseMedia(s.cf(t),i).filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(i),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(r,e.g)}}))},k=function(e,t,n,r,i){var a=n+" "+r,o=new Map;t=s.u(t);for(var u=t.next();!u.done;u=t.next()){var c=u.value;u=c.stream,o.has(u)||o.set(u,new Map),o.get(u).has(a)||o.get(u).set(a,[]),c.startTime+=i,c.endTime+=i,c.startTime>=e.f&&c.startTime<e.g&&(c=new s.bg(c.startTime,c.endTime,c.text),o.get(u).get(a).push(c),u==e.j&&e.c.append([c]))}for(i=s.u(o.keys()),a=i.next();!a.done;a=i.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),t=s.u(o.get(a).keys()),u=t.next();!u.done;u=t.next())u=u.value,c=o.get(a).get(u),e.h.get(a).set(u,c);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.g))},A=function(e){for(var t=e.a;s.Yg(e)&&0!==e.b.getUint8(e.a);)e.a+=1;return t=e.b.buffer.slice(t,e.a),e.a+=1,s.ef(t)},I=function(e,t){return!(!s.wh("Edge/")&&!s.wh("Edg/"))||e.C.has(t)},M=function(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!I(e,s.eg(n.mimeType,n.codecs))||r&&r.encrypted&&!I(e,s.eg(r.mimeType,r.codecs)))return!1;var i=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))},C=function(e){var t=e.Nb()||!e.isLive()&&(1/0==e.f||e.b)?0:e.s;return Math.max(0,s.Kn(e)-t)},P=function(e,t){var n=Math.max(e.g,0);if(1/0==e.Sb)return n;var r=s.Kn(e)-e.Sb;return r=Math.min(r+t,C(e)),Math.max(n,r)},R=function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return n;return""},D=function(e){var t=[e.mimeType];return s.go.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")},N=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n},O=function(e,t){var n=new s.Ri(void 0,void 0===t?"total":t);return e.forEach((function(e){n.a.push(e)})),n.length=e.length,n},L=function(e,t){for(var n=null,r=s.u(e),i=r.next();!i.done;i=r.next())i=i.value,t>=i.startTime&&(n=i);return n},j=function(e,t){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_=function(e,t){e=s.Xm(e),t=s.Xm(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length},U=function(e){return e.language?s.Xm(e.language):e.audio&&e.audio.language?s.Xm(e.audio.language):e.video&&e.video.language?s.Xm(e.video.language):s.Md},B=function(e,t){for(var n=s.Xm(e),r=new Set,i=s.u(t),a=i.next();!a.done;a=i.next())r.add(s.Xm(a.value));for(i=s.u(r),a=i.next();!a.done;a=i.next())if(a=a.value,a==n)return a;for(i=s.u(r),a=i.next();!a.done;a=i.next())if(a=a.value,_(a,n))return a;for(i=s.u(r),a=i.next();!a.done;a=i.next()){var o=a=a.value,u=n;if(o=s.Xm(o),u=s.Xm(u),o=o.split("-"),u=u.split("-"),2==o.length&&2==u.length&&o[0]==u[0])return a}for(r=s.u(r),a=r.next();!a.done;a=r.next())if(i=a.value,_(n,i))return i;return null},K=function(){this.b=function(){},this.a=new Set},F=function(e,t){e.b=t},V=function(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{Yb:null,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:1,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:3,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:2,Xb:1,Ib:function(e,n){return t.b(e,n)}},{Yb:2,Xb:3,Ib:function(e,n){return t.b(e,n)}},{Yb:1,Xb:3,Ib:function(e,n){return t.c(e,n)}},{Yb:3,Xb:1,Ib:function(e,n){return t.c(e,n)}}]},H=function(e,t,n,r){e.a=t,e.b=n,e.c=r},G=function(e){var t=this;this.b=e,this.a=new Set,this.c=new s.Ef((function(){W(t,!1)})).Ea(.25)},W=function(e,t){for(var n=s.u(e.a),r=n.next();!r.done;r=n.next())r.value.h(e.b.currentTime,t)},q=function(e,t){return e.start-t.start},s.Hs=function(e){this.h=e,this.log=new s.H("clpp.renditions"),this.b=[],this.g=this.a=null,this.f=!1},J=function(e){var t=[];return e.b.forEach((function(e){t.push({start:e.start,end:e.end,width:e.width,height:e.height,bandwidth:e.bandwidth,rendition:e.rendition})})),t},z=function(e){e.a&&e.a.trigger(new s.O(s.Ob))},X=function(e){if(e.a){for(var t=!1,n={},r=0;r<e.b.length;r++){var i=e.b[r],a=i.width+"x"+i.height,o=n[a];if(o&&o!==i.bandwidth){t=!0;break}n[a]=i.bandwidth}t&&!e.f?(e.log.debug("Tracking timeupdates"),e.a.on(s.Ld,e.c,e),e.f=!0):!t&&e.f&&(e.log.debug("Stop tracking timeupdates"),e.a.off(s.Ld,e.c),e.f=!1)}},Y=function(e,t,n){e.b=e.b.filter((function(e){return!(e.end<=t||e.start>=n)&&(e.start=Math.max(e.start,t),e.end=Math.min(e.end,n),!0)})),e.a&&e.a.trigger(new s.O(s.Yd))},$=function(e){s.Kf.call(this,e),e=e.getSurface().F(),this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode=s.nc,n.label===f&&(this.a=n)}this.a||(this.a=e.addTextTrack(s.Gd,f)),this.a.mode=s.Dc},Q=function(e){if(e.startTime>=e.endTime)return s.G("Invalid cue times: "+e.startTime+" - "+e.endTime),null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(n){}return e.textAlign===s.$b&&t.align!==s.$b&&(t.align="middle"),e.writingMode===s.Td?t.vertical="lr":e.writingMode===s.Ud&&(t.vertical="rl"),1===e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t},Z=function(e,t){var n=e.mode;e.mode=n==s.xd?s.xd:s.Dc;for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n},ee=function(){},te=function(t,n){for(var r in n=void 0===n?{}:n,n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1},ne=function(){this.h=new s.bi,this.j=this},re=function(e,t){s.I("PatchedMediaKeysMs.requestMediaKeySystemAccess");try{var n=new ie(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},ie=function(e,t){s.I("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:i.initDataTypes,sessionTypes:[s.Hd],label:i.label},o=!1;if(i.audioCapabilities)for(var u=0;u<i.audioCapabilities.length;++u){var c=i.audioCapabilities[u];c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.audioCapabilities.push(c),n=!0))}if(i.videoCapabilities)for(u=0;u<i.videoCapabilities.length;++u)c=i.videoCapabilities[u],c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.videoCapabilities.push(c),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,s.Xd)),i.persistentState==s.qd&&(n=!1),n)return void(this.a=a)}throw n=Error(s.Za),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},ae=function(e){s.I("PatchedMediaKeysMs.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&se(t,null),delete this.mediaKeys,(this.mediaKeys=e)?se(e,this):Promise.resolve()},oe=function(e){s.I("PatchedMediaKeysMs.MediaKeys"),this.a=new MSMediaKeys(e),this.b=new s.ei},se=function(e,t){function n(){t.msSetMediaKeys(r.a),t.removeEventListener(s.Oc,n)}if(s.hi(e.b),!t)return Promise.resolve();e.b.on(t,"msneedkey",ce);var r=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener(s.Oc,n),Promise.resolve()}catch(i){return Promise.reject(i)}},ue=function(e){s.I("PatchedMediaKeysMs.MediaKeySession"),ne.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.ei,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new de},ce=function(e){if(s.I("PatchedMediaKeysMs.onMsNeedKey_",e),e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent(s.vc,!1,!1,null),t.initDataType=s.Zb,t.initData=le(e.initData),this.dispatchEvent(t)}},le=function(e){if(!e)return e;var t=new s.Xj(e);if(1>=t.a.length)return e;for(var n=[],r=0;r<t.a.length;r++)n.push(e.subarray(t.a[r].start,t.a[r].end+1));for(e=[],t={},r=s.u(n),n=r.next();!n.done;t={Mc:t.Mc},n=r.next())t.Mc=n.value,e.some(function(e){return function(t){return s.Rj(t,e.Mc)}}(t))||e.push(t.Mc);for(t=0,r=s.u(e),n=r.next();!n.done;n=r.next())t+=n.value.length;for(t=new Uint8Array(+t),r=0,e=s.u(e),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,r),r+=n.length;return t},fe=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new te(s.Hc))},de=function(){this.size=0,this.a=void 0},he=function(e){var t=Fr;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e},pe=function(e,t){s.I("PatchedMediaKeysWebkit.requestMediaKeySystemAccess");try{var n=new me(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},ge=function(e){s.I("PatchedMediaKeysWebkit.setMediaKeys");var t=this.mediaKeys;return t&&t!==e&&be(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&be(e,this),Promise.resolve()},me=function(e,t){s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.a=this.keySystem=e;var n=!1;e===s.ad&&(this.a=E,n=!1);var r=!1,i=document.getElementsByTagName(s.Vd);i=i.length?i[0]:document.createElement(s.Vd);for(var a=0;a<t.length;++a){var o=t[a],u={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:o.initDataTypes,sessionTypes:[s.Hd],label:o.label},c=!1;if(o.audioCapabilities)for(var l=0;l<o.audioCapabilities.length;++l){var f=o.audioCapabilities[l];f.contentType&&(c=!0,i.canPlayType(f.contentType.split(";")[0],this.a)&&(u.audioCapabilities.push(f),r=!0))}if(o.videoCapabilities)for(l=0;l<o.videoCapabilities.length;++l)f=o.videoCapabilities[l],f.contentType&&(c=!0,i.canPlayType(f.contentType,this.a)&&(u.videoCapabilities.push(f),r=!0));if(c||(r=i.canPlayType(s.Xd,this.a)||i.canPlayType("video/webm",this.a)),o.persistentState===s.qd&&(n?(u.persistentState=s.qd,u.sessionTypes=[s.fd]):r=!1),r)return void(this.b=u)}throw n=s.Za,e!==s.ad&&e!==s.kc||(n="None of the requested configurations were supported."),n=Error(n),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},ve=function(e){s.I("PatchedMediaKeysWebkit.MediaKeys"),this.g=e,this.b=null,this.a=new s.ei,this.c=[],this.f={}},be=function(e,t){e.b=t,s.hi(e.a);var n=Fr;t&&(e.a.on(t,n+"needkey",e.hj.bind(e)),e.a.on(t,n+"keymessage",e.gh.bind(e)),e.a.on(t,n+"keyadded",e.eh.bind(e)),e.a.on(t,n+"keyerror",e.fh.bind(e)))},ye=function(e,t){var n=e.f[t];return n?(s.I(l,n),n):(n=e.c.shift())?(n.sessionId=t,e.f[t]=n,s.I(l,n),n):null},we=function(e,t,n){s.I("PatchedMediaKeysWebkit.MediaKeySession"),ne.call(this),this.f=e,this.i=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new Ee},Se=function(e,t,n){if(e.i)return Promise.reject(Error("The session is already initialized."));e.i=!0;try{if(e.g===s.fd)if(n)var r=s.nf("LOAD_SESSION|"+n);else{var i=s.nf("PERSISTENT|"),a=new Uint8Array(i.byteLength+t.byteLength);a.set(i,0),a.set(s.cf(t),i.byteLength),r=a}else r=s.cf(t)}catch(u){return Promise.reject(u)}e.b=new s.gj;var o=he("generateKeyRequest");try{e.f[o](e.c,r)}catch(u){if("InvalidStateError"!==u.name)return e.b=null,Promise.reject(u);new s.Ef((function(){try{e.f[o](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).P(.01)}return e.b},Te=function(e,t){var n=e.keyStatuses;n.size=void 0===t?0:1,n.a=t,e.dispatchEvent(new te(s.Hc))},Ee=function(){this.size=0,this.a=void 0},xe=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return n=e.apply(this,n),n.abort=function(){},n}},ke=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}},Ae=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},Ie=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=s.fg(t)[0]&&e(t)}},Me=function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){var r=n.split(/ *; */),i=r.shift(),a={};r=s.u(r);for(var o=r.next();!o.done;o=r.next())o=o.value.split("="),a[o[0]]=o[1].replace(/"(.*)"/,"$1");if(r=a.codecs,!r)return e(n);var u=!1,c=!1;for(var l in n=r.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(u=!0),!0})),c&&(u=!1),a.codecs=n.join(","),u&&(a.eotf="smpte2084"),a)i+="; "+l+'="'+a[l]+'"';return cast.__platform__.canDisplayType(i)}},Ce=function(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}},s.tt=function(){},Pe=function(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0,remux:!1}),this.b=null,this.h=[],this.g=[],this.c=[],this.f=!1,this.a.on("data",this.j.bind(this)),this.a.on("done",this.i.bind(this))},Re=function(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1]&&"aac"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Ne(n,t))||MediaSource.isTypeSupported(t.replace("aac",s.Uc)):MediaSource.isTypeSupported(Ne(s.Lb,t))||MediaSource.isTypeSupported(t.replace("aac",s.Uc))||MediaSource.isTypeSupported(Ne(s.Vd,t)))},De=function(e,t){var n=new Map;n.set(e,t);try{var r=t.match(/"(.*?)"/)[0].replace(/"/g,"").split(","),i=new Map;return 1<r.length&&r.forEach((function(e){e.startsWith("avc")?i.set(s.Vd,'video/mp4;codecs="'+e+'"'):e.startsWith("mp4a")&&i.set(s.Lb,'audio/mp4;codecs="'+e+'"')})),0<i.size?i:n}catch(u){return n}},Ne=function(e,t){var n=t.replace("mp2t",s.Uc);e==s.Lb&&(n=n.replace(s.Vd,s.Lb));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n},Oe=function(e,t){e.f=!0,e.b=new s.gj,e.h=[],e.g=[],e.c=[];var n=s.cf(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new s.J(s.K,3,3018)),e.b},s.At=function(e,t,n,r,i){this.g=e,this.l=n,this.c={},this.B=!1,this.b=null,this.f={},this.i=new s.ei,this.w=!1,this.j={},this.s=t,this.m=r,this.C=void 0===i?1:i,this.v=new s.gj,this.o={},e=this.v,t=new MediaSource,this.i.one(t,"sourceopen",e.resolve),this.g.src=Vr(t),this.h=t,this.a=new s.H("clpp.mse.MediaSourceEngine")},Le=function(e){var t=s.eg(e.mimeType,e.codecs),n=D(e);return s.ig(t)||MediaSource.isTypeSupported(n)||Re(t,e.type)},je=function(e,t){t.forEach((function(t,n){var r=e.h.addSourceBuffer(t);e.i.on(r,s.yc,e.dh.bind(e,n)),e.i.on(r,"updateend",e.kc.bind(e,n)),e.c[n]=r,e.f[n]=[],e.o[n]=!1})),e.B=t.has(s.Lb)&&t.has(s.Vd)},_e=function(e,t){e.b||(e.b=new s.gg(e.l)),t!=s.Cb&&(e.b.i=new s.hg[t])},Ue=function(e){return!e.h||e.h.readyState==s.xc},Be=function(e){var t={};t.total=new s.Ri(e.g.buffered,"total"),t.audio=Ke(e,s.Lb),t.video=Ke(e,s.Vd);var n=[];return e.b&&(n=[{start:e.b.Ra(),end:e.b.da()}]),t.text=O(n,s.k),t},Ke=function(e,t){try{return new s.Ri(e.c[t].buffered,t)}catch(n){return t in e.c&&e.a.error("failed to get buffered range for "+t,n),null}},Fe=function(t,n,r,i,a,o,u,c){c=void 0!==c&&c;var l=t.c[n],f=-1,d=0;return l&&l.buffered&&(d=l.buffered.length),n===s.Vd&&null!==i&&null!==a&&c&&(f=0<d?l.buffered.end(d-1):-1),n==s.k?r=x(t.b,r,i,a):t.j[n]?r=Oe(t.j[n],r).then((function(e){t.b||_e(t,s.Id),e.captions&&e.captions.length&&k(t.b,e.captions,i,a,t.c.video.timestampOffset);var n=[];return 0<e.audio.byteLength&&t.c.audio&&n.push(Ge(t,s.Lb,t.Gd.bind(t,s.Lb,e.audio.buffer))),0<e.video.byteLength&&t.c.video&&n.push(Ge(t,s.Vd,t.Gd.bind(t,s.Vd,e.video.buffer))),Promise.all(n)})):(o&&e.muxjs&&(t.b||_e(t,s.Id),null==i&&null==a?t.s.init(r):t.s.c(r,(function(e){e.length&&k(t.b,e,i,a,t.c.video.timestampOffset)}))),r=Ge(t,n,t.Gd.bind(t,n,r))),r.then((function(){if(n!==s.Vd||null===i||null===a||c){if(n===s.Lb&&null!==i&&null!==a)z(t.m);else if(n===s.Vd&&null!==i&&null!==a&&c){var e=l.buffered.length,r=0<e?l.buffered.end(e-1):-1;0>f&&0<e&&(f=l.buffered.start(0)),0<=f&&0<r&&t.m.append(f,r,u)}}else t.m.append(i,a,u);if(!t.o[n]&&l&&1===l.buffered.length){e=l.buffered.start(0);var o=i-e;if(Math.abs(o)>t.C&&0===l.timestampOffset)return t.a.warn("Detected a delta of "+o+" between media times and segment times for "+n+". The segment start time is "+i+" and the media start time is "+e+". Adjusting timestampOffset."),e=Ge(t,n,(function(){t.Qf(n,o)})),r=Ge(t,n,t.ef.bind(t,n,!1)),Promise.all([e,r])}null!==i&&null!==a&&(t.o[n]=!0)}))["catch"]((function(e){throw e}))},Ve=function(e,t,n,r,i){return t==s.k?(e.b.l=n,e=e.b,e.f=r,e.g=i,Promise.resolve()):(t=He(e,t,n,r,i),e.B&&(t=t.concat(He(e,s.Lb,n,r,i))),Promise.all(t))},He=function(e,t,n,r,i){return[Ge(e,t,e.Wf.bind(e,t)),Ge(e,t,e.Qf.bind(e,t,n)),Ge(e,t,e.xj.bind(e,t,r,i))]},Ge=function(e,t,n){return e.w?Promise.reject():(n={start:n,p:new s.gj},e.f[t].push(n),1===e.f[t].length&&We(e,t),n.p)},We=function(e,t){var n=e.f[t][0];if(n)try{e.a.debug("Starting next operation for "+t),n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new s.J(s.K,3,3017,{type:t})):n.p.reject(new s.J(s.K,3,3015,{mediaError:r})),Je(e,t)}else e.a.debug("No more scheduled operations for "+t)},qe=function(e,t){if(e.w)return Promise.reject();var n,r=[];for(n in e.c){var i=new s.gj,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.f[n].push(a),r.push(i),1==e.f[n].length&&a.start()}return Promise.all(r).then((function(){try{t()}catch(i){var n=Promise.reject(new s.J(s.K,3,3015,{mediaError:i}))}for(var r in e.c)Je(e,r);return n}),(function(){return Promise.reject()}))},Je=function(e,t){e.f[t].shift(),We(e,t)},ze=function(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))},Xe=function(e,t,n){var r=!1;return e.forEach((function(e){var i=e.allowedByApplication;e.allowedByApplication=ze(e,t,n),i!=e.allowedByApplication&&(r=!0)})),r},Ye=function(e,t,n,r){var i=!1;if(r.variants=r.variants.filter((function(r){if(e&&e.S&&!M(e,r))return s.I("Dropping variant - not compatible with key system",r),!1;var a=r.audio,o=r.video;if(a&&!Le(a)){var u=a.codecs;0<=a.codecs.indexOf("ec-3")?(s.I("Trying to use AC-3 for EC-3"),a.codecs=a.codecs.replace("ec-3","ac-3"),Le(a)?s.$e("Using AC-3 instead of EC-3 for",at(a)):(a.codecs=u,s.$e(d,at(a)),r.audio=null,i=!0,a=null)):(s.$e(d,at(a)),r.audio=null,i=!0,a=null)}return o&&!Le(o)?(s.$e("Dropping variant - video not compatible with platform",at(o)),!1):a&&t&&!$e(a,t)?(s.$e("Dropping variant - not compatible with active audio","active audio",at(t),"variant.audio",at(a)),!1):!(o&&n&&!$e(o,n))||(s.$e("Dropping variant - not compatible with active video","active video",at(n),"variant.video",at(o)),!1)})),i){var a=!1,o=!1;r.variants.forEach((function(e){!a&&e.video&&e.audio&&(a=!0),o||e.audio||!e.video||(o=!0)})),a&&o&&(r.variants=r.variants.filter((function(e){return!(e.video&&!e.audio)||(s.$e("Dropping variant - not compatible with video + audio","variant.video",at(e.video)),!1)})))}r.textStreams=r.textStreams.filter((function(e){var t=s.ig(s.eg(e.mimeType,e.codecs));return t||s.I("Dropping text stream. Is not supported by the platform.",e),t}))},$e=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},Qe=function(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=n&&n.mimeType||null,s=t&&t.mimeType||null,u=[];t&&u.push(t.kind),n&&u.push(n.kind),u=u[0]||null;var c=new Set,l=new Set;return t&&t.roles.forEach((function(e){return l.add(e)})),n&&n.roles.forEach((function(e){return c.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:u,width:null,height:null,frameRate:null,mimeType:o,audioMimeType:s,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(c),audioRoles:Array.from(l),videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e},Ze=function(e){return{id:e.id,active:!1,type:s.k,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,audioMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}},et=function(e){return e.allowedByApplication&&e.allowedByKeySystem},tt=function(e,t){var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map;n=s.u(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var a=i.audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return n=Array.from(r.keys()),0==n.length?e:(i=n.filter((function(e){return e<=t})),i.length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n)))},s.Yt=function(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==a})),t){var o=B(s.Xm(t),e.map((function(e){return e.language})));o&&(r=e.filter((function(e){return s.Xm(e.language)==o})))}if(n){if(e=nt(r,n),e.length)return e;s.G("No exact match for the text role could be found.")}else if(e=r.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=r.map((function(e){return e.roles})).reduce(s.Dk.Jd,[]),e.length?nt(r,e[0]):r},nt=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},rt=function(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null},it=function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t},at=function(e){var t=D(e);return e.type==s.Lb?"type=audio mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount:e.type==s.Vd?"type=video mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},ot=function(e,t){var n=String(s.yi++);return n=new s.si(n,e),n.mimeType=s.ui(t.mimeType),e!==s.P&&e!==s.Q||(n.label=s.ui(t.label),n.language=s.ui(t.language)),e===s.vi?(n.frameRate=t.frameRate,n.roles=t.roles):e===s.Q?(n.channelsCount=t.channelsCount,n.roles=t.audioRoles||[],n.mimeType=s.ui(t.audioMimeType)):(n.kind=s.ui(t.kind),n.roles=t.roles),n},st=function(e,t,n){var r=new s.ti(e===s.vi?""+t.videoId:e===s.Q?""+t.audioId:""+t.id,n);switch(e){case s.vi:r.codec=s.ui(t.videoCodec),r.bandwidth=t.videoBandwidth||t.bandwidth,r.width=t.width,r.height=t.height,r.originalId=t.originalVideoId;break;case s.Q:r.codec=s.ui(t.audioCodec),r.bandwidth=t.audioBandwidth||t.bandwidth,r.originalId=t.originalAudioId;break;default:r.codec=s.ui(t.codecs),r.originalId=t.originalTextId}return(e=n.renditions.find((function(e){return s.C.xa(e,r,null,["id","track"])})))||n.renditions.push(r),e||r},ut=function(e,t){var n=e.reduce((function(e,n){return t===s.vi?null===n.videoId||e[n.videoId]&&!n.active||(e[n.videoId]=n):t===s.Q&&(null===n.audioId||e[n.audioId]&&!n.active||(e[n.audioId]=n)),e}),{});return Object.values(n).sort((function(e,t){return e.id-t.id}))},ct=function(e,t){if(void 0!==t&&null!==t){var n=e.filter((function(e){return e.audio&&e.audio.id===t}));if(0<n.length)return n}return e},lt=function(){this.f=new s.H("clpp.mse.TrackManager"),this.a=null,this.g=[],this.b=new Map,this.c=new Map},ft=function(e,t){return e.g.filter((function(e){return e.type===t}))},dt=function(e,t){var n=e.b.get(t)||null;return n&&n.track},ht=function(e,t,n){n&&dt(e,n.type)===n||gt(e,t,n&&n.renditions[0])},pt=function(e,t){e.b.set(t.track.type,t),t===(e.c.get(t.track.type)||null)&&e.c.set(t.track.type,null)},gt=function(e,t,n,i){if(i=void 0!==i&&i,e.a&&(e.b.get(t)||null)!==n){var a=e.a;if(n){if(0>e.g.indexOf(n.track))throw Error("Unknown rendition with ID "+n.id);if(t!==n.track.type)throw Error("Types mismatch");if(e.f.debug("Activate rendition type\n          "+t+" with ID: "+n.id),t===s.P){var o=a.X().find((function(e){return e.id==n.id}));o&&(e.c.set(t,n),pt(e,n),a.trigger(new s.O(s.Li)),hr(a,!0).then((function(){cr(a,o)}))["catch"]((function(t){e.f.warn("Error while activating track",t)})))}else if(t===s.Q)e.c.set(t,n),fr(a,parseInt(n.id,10));else if(t===s.vi){var u=e.b.get(s.Q)||null;if(u){var c=ur(a).filter((function(e){return e.videoId==n.id})),l=c.find((function(e){return e.audioId==u.id}));if(!l){e.f.debug("Unable to find exact variant. Searching for equivalent");var f=u.track.renditions.map((function(e){return e.id})).filter((function(e){return e!==u.id}));l=c.find((function(e){return f.find((function(t){return t==e.audioId}))}))}}else l=ur(a).find((function(e){return e.videoId==n.id}));l?(e.c.set(t,n),lr(a,l,i)):e.f.warn(r)}}else e.f.debug(s.ra+t),dt(e,t)&&(t===s.P?hr(a,!1).then((function(){e.b.set(t,null),a.trigger(new s.O(s.Li))}))["catch"]((function(t){e.f.warn("Error while de-activating text tracks",t)})):t===s.Q?e.f.info("Enabling ABR for audio is not supported"):lr(a,null,i))}},mt=function(e){if(e.a){e.f.debug("Track list change detected, updating track list");for(var t=[],n=s.u(Object.values(s.jo)),r=n.next();!r.done;r=n.next())r=r.value,e.b.set(r,null),e.c.set(r,null);e.a.X().forEach((function(n){var r=ot(s.P,n),i=t.find((function(e){return bt(e,r)}));r=i||r;var a=st(s.P,n,r);n.active&&e.b.set(s.P,a),i||t.push(r)})),dr(e.a)||e.b.set(s.P,null),n=ur(e.a),vt(e,t,n,s.vi),vt(e,t,n,s.Q),e.g=t}},vt=function(e,t,n,r){ut(n,r).forEach((function(n){var i=ot(r,n),a=t.find((function(e){return bt(e,i)}));i=a||i;var o=st(r,n,i);n.active&&e.b.set(r,o),a||t.push(i)}))},bt=function(e,t){return e.type===t.type&&e.channelsCount===t.channelsCount&&e.frameRate===t.frameRate&&e.kind===t.kind&&e.label===t.label&&e.language===t.language&&e.mimeType===t.mimeType&&j(e.roles,t.roles)},yt=function(e,t,n){if(t){e.g.length||mt(e);for(var r,i=t.type,a=e.b.get(i)||null,o=s.u(ft(e,i)),u=o.next();!u.done&&!(r=u.value.renditions.find((function(e){return e.id==t.id})));u=o.next());r&&a!==r&&(pt(e,r),i===s.Q?e.a.trigger(new s.O(s.Ki)):i===s.vi&&e.a.trigger(new s.O(s.Zd,{details:{width:r.width||0,height:r.height||0,bandwidth:r.bandwidth,track:r.track,abrSelection:n}})))}},wt=function(){this.b=new s.an(2),this.c=new s.an(5),this.a=0},St=function(e,t){return 128e3>e.a?t:Math.min(s.cn(e.b),s.cn(e.c))},s.wu=function(){this.b=new s.H("clpp.abr"),this.i=null,this.g=!1,this.c=new wt,this.h=[],this.j=!1,this.a=this.f=null},Tt=function(e,t){return e&&(t=t.filter((function(t){return ze(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},Et=function(){this.a=new Map},xt=function(e,t){return e.a.has(t)||e.a.set(t,new kt),e.a.get(t)},kt=function(){this.text=this.variant=null},At=function(e,t){this.b=e,this.a=new Set([e]),t=t||[];for(var n=s.u(t),r=n.next();!r.done;r=n.next())this.add(r.value)},It=function(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Mt(n,r)&&Ct(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=e.video,r=t.video,n=!(Mt(n,r)&&Ct(n.roles,r.roles))),!n},Mt=function(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return s.fg(e)[0]})),r=t.codecs.split(",").map((function(e){return s.fg(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0},Ct=function(e,t){var n=new Set(e),r=new Set(t);if(n["delete"]("main"),r["delete"]("main"),n.size!=r.size)return!1;n=s.u(n);for(var i=n.next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0},Pt=function(e){this.a=e,this.b=new Rt(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)},Rt=function(e,t,n){this.c=e,this.b=t,this.a=n},Dt=function(e,t){var n=s.Xm(t),r=B(n,e.map((function(e){return U(e)})));return r?e.filter((function(e){return r==U(e)})):[]},Nt=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))},Ot=function(e,t){this.a=Gr,this.b=(new Map).set(Gr,t).set(Hr,e)},Lt=function(e){this.c=e,this.a=null,this.b=function(){}},jt=function(e,t){e.b=t},_t=function(e){var t=this;this.a=e,this.f=!1,this.c=this.a.Rd(),this.b=new s.Ef((function(){t.a.pi(.25*t.c)}))},Ut=function(e){e.b.stop();var t=e.f?0:e.c;0<=t?e.a.Rd()!=t&&e.a.Pf(t):(e.b.Ea(.25),0!=e.a.Rd()&&e.a.Pf(0))},Bt=function(e,t){this.c=e,this.g=Vt(e),this.b=e.a.currentTime,this.f=Date.now()/1e3,this.h=t,this.a=function(){}},Kt=function(e,t){e.a=t},Ft=function(e){this.a=e},Vt=function(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r||e>i-.5)){t=!0;break e}}t=!1}return t},Ht=function(e,t,n,r,i){var a=this;this.a=e,this.o=t,this.l=n,this.m=i,this.c=new s.ei,this.j=!1,this.v=e.readyState,this.f=!1,this.b=r,this.g=this.s=this.i=!1,this.c.on(e,s.ae,(function(){return Gt(a)})),this.h=new s.Ef((function(){Gt(a)})).Ea(.25)},Gt=function(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused&&!e.g){e.a.readyState!=e.v&&(e.f=!1,e.v=e.a.readyState);var t=e.l.smallGapLimit,n=e.a.currentTime,r=e.a.buffered;e:{var a=new s.Ri(r);if(a.length&&!(1===a.length&&1e-6>a.end(0)-a.start(0)))for(var o=s.wh("Edge/")||s.wh("Edg/")||s.wh("Trident/")||s.xh()||s.wh("CrKey")?.5:.1,u=0;u<a.length;u++)if(a.start(u)>n&&(0===u||a.end(u-1)-n<=o)){a=u;break e}a=null}if(null==a)e.b&&(e=e.b,r=e.c,n=Vt(r),r=r.a.currentTime,t=Date.now()/1e3,e.b==r&&e.g==n||(e.f=t,e.b=r,e.g=n),r=t-e.f,r>=e.h&&n&&e.a(e.b,r));else if((0!=a||e.i)&&e.s&&(o=r.start(a),u=C(e.o),!(o>=u))){u=o-n,t=u<=t;var c=!1;if(!(.001>u)){if(!t&&!e.f){e.f=!0;var l=new s.O("largegap",{detail:{currentTime:n,gapSize:u}});l.cancelable=!0,e.m(l),e.l.jumpLargeGaps&&!l.defaultPrevented?c=!0:s.$e("Ignoring large gap at",n,"size",u)}(t||c)&&(0==a?s.$e(i,u,"seconds because of gap before start time of",o):s.$e(i,u,"seconds because of gap starting at",r.end(a-1),"and ending at",o),e.a.currentTime=o)}}}}},Wt=function(e,t,n,r){this.a=e,this.h=t,this.f=r,this.i=n,this.b=new s.ei,this.c=new $t(e),this.g=!1,0<e.readyState?Xt(this,n):zt(this,n)},qt=function(e){return 0<e.a.readyState?e.a.currentTime:e.i},Jt=function(e,t){0<e.a.readyState?Qt(e.c,t):zt(e,t)},zt=function(e,t){e.i=t,e.b.off(e.a,s.Oc),e.b.one(e.a,s.Oc,(function(){Xt(e,t)}))},Xt=function(e,t){e.g||(e.g=!0,e.f&&e.f()),.001>Math.abs(e.a.currentTime-t)?Yt(e):(e.b.one(e.a,s.ud,(function(){Yt(e)})),Qt(e.c,0==e.a.currentTime?t:e.a.currentTime))},Yt=function(e){e.b.on(e.a,s.ud,(function(){return e.h()}))},$t=function(e){var t=this;this.b=e,this.h=10,this.g=this.c=this.f=0,this.a=new s.Ef((function(){0>=t.f?(s.G(["Failed to move playhead from",t.c,"to",t.g].join(" ")),t.a.stop()):t.b.currentTime!=t.c?t.a.stop():(t.b.currentTime=t.g,t.f--)}))},Qt=function(e,t){e.c=e.b.currentTime,e.g=t,e.f=e.h,e.b.currentTime=t,e.a.Ea(.1)},Zt=function(e,t,n,r,i,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.m=t.minBufferTime||0,this.h=n,this.l=i,this.j=null,this.g=new Ht(e,t.presentationTimeline,n,on(this,e,n),a),this.f=new Wt(e,(function(){e:{var e=o.g;e.j=!0,e.i=!1,e.f=!1,e=qt(o.f);var t=rn(o,e);if(.001<Math.abs(t-e)){var n=(new Date).getTime()/1e3;if(!o.j||o.j<n-1){o.j=n,Jt(o.f,t),e=void 0;break e}}o.b.debug("Seek to "+e),o.l(),e=void 0}return e}),tn(this,r),(function(){o.g.s=!0})),this.i=new s.Ef((function(){if(0!=o.c.readyState&&!o.c.paused){var e=o.c.currentTime,t=P(o.a,0),n=C(o.a);3>n-t&&(t=n-3),e<t&&(t=rn(o,e),o.b.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),o.c.currentTime=t)}})).Ea(.25),this.b=new s.H("clpp.mse.Playhead")},en=function(e){var t=qt(e.f);return 0<e.c.readyState&&!e.c.paused?an(e,t):t},tn=function(e,t){return null==t?t=1/0>e.a.getDuration()?P(e.a,0):C(e.a):0>t&&(t=C(e.a)+t),nn(e,an(e,t))},nn=function(e,t){var n=e.a.getDuration();return t>=n?n-e.h.durationBackoff:t},rn=function(e,t){var n=new s.Ri(e.c.buffered);n=n.Kb.bind(n);var r=Math.max(e.m,e.h.rebufferingGoal),i=e.h.safeSeekOffset,a=P(e.a,0),o=C(e.a),u=e.a.getDuration();3>o-a&&(a=o-3);var c=P(e.a,r),l=P(e.a,i);return r=P(e.a,r+i),t>=u?(e.b.debug("Playhead past duration."),nn(e,t)):t>o?(e.b.debug("Playhead past end."),o):t<a?n(l)?(e.b.debug("Playhead before start & start is buffered"),l):(e.b.debug("Playhead before start & start is unbuffered"),r):t>=c||n(t)?(e.b.debug("Playhead in safe region or in buffered region."),t):(e.b.debug("Playhead outside safe region & in unbuffered region."),r)},an=function(e,t){var n=P(e.a,0);return t<n?n:(n=C(e.a),t>n?n:t)},on=function(e,t,n){if(!n.stallEnabled)return null;var r=n.stallSkip;return n=new Bt(new Ft(t),n.stallThreshold),Kt(n,(function(n,i){e.b.warn(["Stall detected at",n,"for",i,"seconds. Seeking forward",r,"seconds."].join(" ")),t.currentTime+=r})),n},s.kv=function(e,t){this.b=t,this.c=e,this.h=null,this.l=1,this.v=Promise.resolve(),this.i=[],this.j=new Map,this.f=new Map,this.B=this.g=this.m=this.o=!1,this.w=0,this.a=new s.H("clpp.mse.Streaming"),this.s=!1},sn=function(e){var t=e.f.get(s.Vd);return t||(t=e.f.get(s.Lb))?e.c.periods[t.eb]:null},un=function(e){return s.mv(e,s.Lb)},cn=function(e){return s.mv(e,s.Vd)},s.mv=function(e,t){var n=e.f.get(t);return n?n.qd||n.stream:null},ln=function(e,t){var n,r,i,a,o,u,c,l,f;return s.A((function(d){switch(d.a){case 1:return n=s.Tk,s.x(d,e.b.M.clear(n.TEXT),2);case 2:return e.w++,e.B=!1,r=e.w,i=e.b.M,a=new Map,o=new Set,a.set(n.TEXT,t),o.add(t),s.x(d,i.init(a,!1),3);case 3:return e.g?d["return"]():s.x(d,bn(e,o),4);case 4:if(e.g)return d["return"]();u=i.getTextDisplayer().isTextVisible()||e.h.alwaysStreamText,e.w!=r||e.f.has(n.TEXT)||e.B||!u||(c=e.b.Xa(),l=On(e,c),f=mn(t,l,0),e.f.set(n.TEXT,f),Un(e,f,0)),s.y(d)}}))},fn=function(e,t,n,r){t.video&&s.vv(e,t.video,n,r),t.audio&&s.vv(e,t.audio,n,r)},s.vv=function(e,t,n,r){var i=e.f.get(t.type);if(!i&&t.type==s.k&&e.h.ignoreTextStreamFailures)ln(e,t);else if(i){var a=Ln(e,t);if(n&&a!=i.eb)e.a.debug("switch: switching to stream in another Period; clearing buffer and changing Periods"),e.f.forEach((function(t){pn(e,t)}));else{i.qd&&(e.a.debug("switch during trick play mode",t),t.trickModeVideo?(i.qd=t,t=t.trickModeVideo,e.a.debug("switch found trick play stream",t)):(i.qd=null,e.a.debug("switch found no special trick play stream")));var o=e.i[a];if(o&&o.mc&&(o=e.j.get(t.id))&&o.mc)if(i.stream!=t){o=e.c.presentationTimeline.getDuration();var u=e.b.Xa();u=En(e,i,u),!n&&(i.endOfStream||u>=o)?e.a.debug(T+Fn(i)+" already buffered to the end. Not switching."):(t.type==s.k&&_e(e.b.M,s.eg(t.mimeType,t.codecs)),i.stream=t,i.gd=!0,e.a.debug("switch: switching to Stream "+Fn(i)),dn(e,i,a)&&(e.a.info("Aborting current segment request to switch."),i.Ec.abort()),n&&(i.Db?i.td=!0:i.ub?(i.Bb=!0,i.Uc=r,i.td=!0):(Bn(i),_n(e,i,!0,r))))}else e.a.debug(T+Fn(i)+" already active")}}},dn=function(e,t,n){if(!t.Ec)return!1;var r=e.b.Xa(),i=e.b.M.da(t.type);if(n=(n=xn(e,t,r,i,n))&&n.ga?n.ga-n.ta:null,null==n)return!1;var a=t.stream.initSegmentReference;return a&&(n+=(a.ga?a.ga-a.ta:null)||0),a=e.b.Od().getBandwidthEstimate(),8*n/a<(null===i?0:i-r)-Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal)||(e=t.Ec,e=e.f?e.f.bytesRemaining:-1,0>e||e>n)},hn=function(e){function t(t){return e.b.M.Kb(t,n,r)}var n=e.b.Xa(),r=e.h.smallGapLimit,i=!1,a=On(e,n);if(s.Wj(e.f.values(),(function(e){return e.eb==a})))for(var o=s.u(e.f.keys()),u=o.next();!u.done;u=o.next())u=u.value,t(u)||(pn(e,e.f.get(u)),i=!0);else s.Wj(e.f.keys(),t)||(e.a.debug("(all): seeked: unbuffered seek: clearing all buffers"),e.f.forEach((function(t){pn(e,t)})),i=!0);i||e.a.debug("(all): seeked: buffered seek: presentationTime="+n)},pn=function(e,t){var n=Fn(t);t.Db?e.a.debug(n,"clear: already clearing the buffer"):t.Bb?e.a.debug(n,"clear: already waiting"):t.ub?(e.a.debug(n,"clear: currently updating"),t.Bb=!0,t.Uc=0):null==e.b.M.Ra(t.type)?(e.a.debug(n,"clear: nothing buffered"),null==t.jb&&Un(e,t,0)):(e.a.debug(n,"clear: handling right now"),Bn(t),_n(e,t,!1,0))},gn=function(e,t,n,r,i){var a,o,u,c,l,f,d;return s.A((function(h){return 1==h.a?(a=e.b.Xa(),o=On(e,a),u=s.Tk,c=new Map,l=new Set,t&&(c.set(u.AUDIO,t),l.add(t)),n&&(c.set(u.VIDEO,n),l.add(n)),r&&(c.set(u.TEXT,r),l.add(r)),f=e.b.M,d=e.h.forceNativeTS,s.x(h,f.init(c,d),2)):3!=h.a?e.g?h["return"]():(yn(e),s.x(h,bn(e,l),3)):e.g?h["return"]():(c.forEach((function(t,n){if(!e.f.has(n)){var r=mn(t,o,i);e.f.set(n,r),Un(e,r,0)}})),void s.y(h))}))},mn=function(e,t,n){return{stream:e,type:e.type,jc:null,bb:null,qd:null,gd:!0,eb:t,endOfStream:!1,ub:!1,jb:null,Bb:!1,Uc:0,td:!1,Db:!1,le:!1,ic:!1,Of:n||0,Ec:null,Zc:!1}},vn=function(e,t){var r=e.i[t];if(r)return e.a.debug("(all) Period "+t+n),r.promise;e.a.debug("(all) setting up Period "+t),r={promise:new s.gj,mc:!1},e.i[t]=r;for(var i=new Set,a=s.u(e.c.periods[t].variants),o=a.next();!o.done;o=a.next())o=o.value,o.video&&i.add(o.video),o.video&&o.video.trickModeVideo&&i.add(o.video.trickModeVideo),o.audio&&i.add(o.audio);for(a=s.u(e.c.periods[t].textStreams),o=a.next();!o.done;o=a.next())i.add(o.value);return e.v=e.v.then((function(){return e.g?null:bn(e,i)})).then((function(){e.g||(e.i[t].promise.resolve(),e.i[t].mc=!0,e.a.debug("(all) setup Period "+t))}))["catch"]((function(n){e.g||(e.i[t].promise["catch"]((function(){})),e.i[t].promise.reject(),delete e.i[t],e.a.warn("(all) failed to setup Period "+t),e.b.onError(n))})),r.promise},bn=function(e,t){var r,i,a,o,u,c,l,f,d,h,p;return s.A((function(g){switch(g.a){case 1:for(r=[],i=s.u(t),a=i.next();!a.done;a=i.next())o=a.value,(u=e.j.get(o.id))?(e.a.debug("(all) Stream "+o.id+n),r.push(u.promise)):(e.a.debug("(all) setting up Stream "+o.id),e.j.set(o.id,{promise:new s.gj,mc:!1}),r.push(o.createSegmentIndex()));return s.Ae(g,2),s.x(g,Promise.all(r),4);case 4:if(e.g)return g["return"]();s.Be(g,3);break;case 2:if(c=s.Ce(g),e.g)return g["return"]();for(l=s.u(t),a=l.next();!a.done;a=l.next())f=a.value,e.j.get(f.id).promise["catch"]((function(){})),e.j.get(f.id).promise.reject(),e.j["delete"](f.id);throw c;case 3:for(d=s.u(t),a=d.next();!a.done;a=d.next())h=a.value,p=e.j.get(h.id),p.mc||(p.promise.resolve(),p.mc=!0,e.a.debug("(all) setup Stream "+h.id));s.y(g)}}))},yn=function(e){var t=e.c.presentationTimeline.getDuration();1/0>t?e.b.M.Ab(t):e.b.M.Ab(Math.pow(2,32))},wn=function(e,t){if(!e.g){var n=Fn(t);if(!t.ub&&null!=t.jb&&!t.Db)if(t.jb=null,t.Bb)e.a.debug(n,"skipping update and clearing the buffer"),_n(e,t,t.td,t.Uc);else{try{var r=Sn(e,t);null!=r&&(Un(e,t,r),t.ic=!1)}catch(i){return void Kn(e,i)}r=Array.from(e.f.values()),Nn(e,t),e.o&&r.every((function(e){return e.endOfStream}))&&(e.a.debug(n,"calling endOfStream()..."),e.b.M.endOfStream().then((function(){if(!e.g&&!e.c.presentationTimeline.Nb()){var t=e.b.M.getDuration();t<e.c.presentationTimeline.getDuration()&&e.c.presentationTimeline.Ab(t)}})).then((function(){e.b.xf()})))}}},Sn=function(e,t){function n(e){return e.type==s.k&&e.stream.mimeType==s.Cb}if(n(t))return e.b.M.rd(t.stream.originalId||""),null;var r=Fn(t),i=e.b.Xa(),a=En(e,t,i);e.a.debug(r,"timeNeeded="+a);var o=Ln(e,t.stream),u=On(e,a),c=e.b.M.qa(t.type,i);e.a.debug(r,"update_:",y+i,"bufferedAhead="+c);var l=Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.l,f=e.c.presentationTimeline.Nb()?s.Kn(e.c.presentationTimeline):e.c.presentationTimeline.getDuration();if(a>=f&&!t.Zc)return Tn(e,t),null;if(t.endOfStream=!1,t.eb=u,u!=o)return e.a.debug(r,"need Period "+u,y+i,"timeNeeded="+a,"currentPeriodIndex="+o),null;if(c>=l)return e.a.debug(r,"buffering goal met"),e.h.bufferLimitUpdateInterval||.5;if(u=e.b.M.da(t.type),u=xn(e,t,i,u,o),!u)return e.c.presentationTimeline.isLive()||t.type===s.k?e.h.bufferLimitUpdateInterval||1:(e.a.debug("Media state "+r+": no next segment found. Assuming EOS."),Tn(e,t),null);var d=1/0;return Array.from(e.f.values()).forEach((function(t){n(t)||(t=En(e,t,i),d=Math.min(d,t))})),a>=d+e.c.presentationTimeline.a?e.h.bufferLimitUpdateInterval||1:(t.Of=0,In(e,t,i,o,u),null)},Tn=function(e,t){if(e.a.debug(Fn(t),"buffered to end of presentation"),t.endOfStream=!0,t.type==s.Vd){var n=e.f.get(s.k);n&&n.stream.mimeType==s.Cb&&(n.endOfStream=!0)}},En=function(e,t,n){return t.jc&&t.bb?(n=Ln(e,t.jc),e.c.periods[n].startTime+t.bb.endTime):Math.max(n,t.Of)},xn=function(e,t,n,r,i){var a=Fn(t);return t.bb&&t.stream==t.jc?(r=t.bb.position+1,e.a.debug(a,"next position known:","position="+r),An(e,t,i,r)):(t.bb?(e.a.debug(a,"next position unknown: another Stream buffered"),a=Ln(e,t.jc),a=kn(e,t,e.c.periods[a].startTime+t.bb.endTime,i)):(e.a.debug(a,"next position unknown: nothing buffered"),a=kn(e,t,r||n,i)),null==a?null:(n=null,null==r&&(n=An(e,t,i,Math.max(0,a-1))),n||An(e,t,i,a)))},kn=function(e,t,n,r){var i=Fn(t);return r=e.c.periods[r],e.a.debug(i,"looking up segment:",y+n,v+r.startTime),n=Math.max(0,n-r.startTime),t=t.stream.findSegmentPosition(n),null==t&&e.a.warn(i,"cannot find segment:",v+r.startTime,"lookupTime="+n),t},An=function(e,t,n,r){var i=Fn(t);n=e.c.periods[n];var a=t.stream.getSegmentReference(r);if(!a)return e.a.debug(i,"segment does not exist:",v+n.startTime,"position="+r),null;var o=e.c.presentationTimeline;return r=s.Ln(o),o=s.Kn(o),!t.Zc&&(n.startTime+a.endTime<r||n.startTime+a.startTime>o)?(e.a.debug(i,"segment is not available:",v+n.startTime,S+a.startTime,w+a.endTime,"availabilityStart="+r,"availabilityEnd="+o),null):a},In=function(e,t,n,r,i){function o(r,a){return e.g||e.m?null:(h=!0,Pn(e,t,n,c,l,i,r,a))}var u=Fn(t),c=e.c.periods[r];e.a.debug(u,"fetchAndAppend_:",y+n,v+c.startTime,"reference.position="+i.position,S+i.startTime,w+i.endTime);var l=t.stream,f=e.c.presentationTimeline.getDuration(),d=e.c.periods[r+1];r=Cn(e,t,r,Math.max(0,c.startTime-.1),d?d.startTime+.01:f),t.ub=!0,t.gd=!1,e.a.debug(u,"fetching segment");var h=!1;r.then((function(){return e.g||e.m?null:jn(e,t,i,!1,(function(e){return o(e.data,!0)}))})).then((function(t){return h||e.g||e.m||null===t?null:o(t,!1)})).then((function(){e.g||e.m||(t.ub=!1,t.le=!1,t.Bb||e.b.jd(),Un(e,t,0),Dn(e,t,l),e.a.debug(u,"finished fetch and append"))}))["catch"]((function(n){if(!e.g&&!e.m)if(t.ub=!1,t.type==s.k&&e.h.ignoreTextStreamFailures)1001==n.code?e.a.warn(u,"Text stream failed to download. Proceeding without it."):e.a.warn(u,"Text stream failed to parse. Proceeding without it."),e.f["delete"](s.k);else if(7001==n.code)t.ub=!1,t.jb=null,Un(e,t,0);else if(3017==n.code)Mn(e,t,n);else if(t.type===s.k)n instanceof s.J&&n.ib(1),Bn(t),e.b.onError(new s.J(1,2,2010,n));else if(1001<=n.code&&1003>=n.code){var r=!0;1001===n.code&&500<=n.data.status||(r=a(e.b.Ae)===s.Bc&&!e.b.Ae(t.stream)),r&&(t.ic=!0,n.ib(s.K),Kn(e,n))}else e.a.error(u,"failed fetch and append: code="+n.code),t.ic=!0,n instanceof s.J&&n.ib(s.K),Kn(e,n)}))},Mn=function(e,t,n){var r=Fn(t);if(Array.from(e.f.values()).some((function(e){return e!=t&&e.le})))e.a.debug(r,o,"waiting for another stream to recover...");else{var i=Math.round(100*e.l);if(20<i)e.l-=.2;else{if(!(4<i))return e.a.error(r,"MediaSource threw QuotaExceededError too many times"),t.ic=!0,e.m=!0,void e.b.onError(n);e.l-=.04}e.a.warn(r,o,"reducing buffering goals by "+(100-Math.round(100*e.l))+"%"),t.le=!0}Un(e,t,4)},Cn=function(e,t,n,r,i){if(!t.gd)return Promise.resolve();var a=Fn(t);return n=e.c.periods[n].startTime-(t.stream.presentationTimeOffset||0),e.a.debug(a,"setting timestamp offset to "+n),e.a.debug(a,"setting append window start to "+r),e.a.debug(a,"setting append window end to "+i),r=Ve(e.b.M,t.type,n,r,i),t.stream.initSegmentReference?(e.a.debug(a,"fetching init segment"),i=jn(e,t,t.stream.initSegmentReference,!0).then((function(n){return e.g?null:(e.a.debug(a,"appending init segment"),Fe(e.b.M,t.type,n,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size))}))["catch"]((function(e){return t.gd=!0,Promise.reject(e)})),Promise.all([r,i])):r},Pn=function(e,t,n,r,i,a,o,u){u=void 0!==u&&u;var c=Fn(t),l=i.closedCaptions&&0<i.closedCaptions.size;null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new s.gh).W("emsg",e.C.bind(e,r,a,i.emsgSchemeIdUris)).parse(o);var f=0;return Rn(e,t,n).then((function(){if(e.g)return null;e.a.debug(c,"appending media segment");var n=a.startTime+r.startTime,s=a.endTime+r.startTime;return f=e.b.M.da(t.type)||0,Fe(e.b.M,t.type,o,n,s,l,i.id,u)})).then((function(){if(!e.g){if(e.a.debug(c,"appended media segment"),!e.c.presentationTimeline.isLive()&&t.type!==s.k){var n=(e.b.M.da(t.type)||0)-f;e.a.debug(c,"real segment duration",n);var r=a.endTime-a.startTime;n-=r,Math.abs(n)>=Math.min(.01,r)&&Math.abs(n)<=Math.min(1,r)&&(t.Zc=!0,i.adjustSegmentDurations(a.position,n))}t.jc=i,t.bb=a}}))},Rn=function(e,t,n){if(e.g)return Promise.resolve();var r=Fn(t);e.a.debug(r,"checking buffer length");var i=Math.max(e.h.bufferBehind,e.c.presentationTimeline.a),a=e.b.M.Ra(t.type);if(null==a)return e.a.debug(r,"buffer behind okay because nothing buffered:",y+n,h+i),Promise.resolve();var o=n-a,s=o-i;return 0>=s?(e.a.debug(r,"buffer behind okay:",y+n,p+o,h+i,"underflow="+-s),Promise.resolve()):(e.a.debug(r,"buffer behind too large:",y+n,p+o,h+i,"overflow="+s),e.b.M.remove(t.type,a,a+s).then((function(){e.g||e.a.debug(r,"evicted "+s+" seconds")})))},Dn=function(e,t,n){if(!e.o){var r=Fn(t);if(t=Array.from(e.f.values()),1!=t.length||t[0].type!=s.k?e.o=t.every((function(t){return!(t.type!=s.k&&!e.s)||!t.Bb&&!t.Db&&t.bb})):e.s&&(e.o=!0),e.o){for(e.a.debug(r,"startup complete"),n=Ln(e,n),e.i[n]||vn(e,n).then((function(){e.g||(e.a.debug(r,g),e.b.de())}))["catch"](s.Dk.Dc),n=0;n<e.c.periods.length;++n)vn(e,n)["catch"](s.Dk.Dc);e.b.ej&&(e.a.debug(r,"calling onStartupComplete()..."),e.b.ej())}}},Nn=function(e,t){var n=Fn(t),r=Ln(e,t.stream);if(t.eb!=r){var i=t.eb,a=Array.from(e.f.values());a.every((function(e){return e.eb==i}))?a.every(Vn)?(e.a.debug(n,"all need Period "+i),vn(e,i).then((function(){if(!e.g)if(a.every((function(t){var n=Vn(t),r=Ln(e,t.stream);return n&&t.eb==i&&r!=i}))){var t=e.c.periods[i];e.a.debug(n,"calling onChooseStreams()...");var r=e.b.ee(t);e.s=!r.variant&&!!r.text;var o=new Map;r.variant&&r.variant.video&&o.set(s.Vd,r.variant.video),r.variant&&r.variant.audio&&o.set(s.Lb,r.variant.audio),r.text&&o.set(s.k,r.text);var u=s.u(e.f.keys());for(r=u.next();!r.done;r=u.next())if(r=r.value,!o.has(r)&&r!=s.k)return e.a.error(n,"invalid Streams chosen: missing "+r+" Stream"),void e.b.onError(new s.J(s.K,5,5005));for(u=s.u(Array.from(o.keys())),r=u.next();!r.done;r=u.next())if(r=r.value,!e.f.has(r)){if(r!=s.k)return e.a.error(n,"invalid Streams chosen: unusable "+r+" Stream"),void e.b.onError(new s.J(s.K,5,5005));gn(e,null,null,o.get(s.k),t.startTime),o["delete"](r)}for(t=s.u(Array.from(e.f.keys())),r=t.next();!r.done;r=t.next())r=r.value,(u=o.get(r))?(s.vv(e,u,!1,0),Un(e,e.f.get(r),0)):e.f["delete"](r);e.a.debug(n,g),e.b.de()}else e.a.debug(n,"ignoring transition to Period",i,"since another is happening")}))["catch"](s.Dk.Dc)):e.a.debug(n,"all MediaStates need Period "+i+", but not all MediaStates are idle"):e.a.debug(n,"not all MediaStates need Period "+i)}},On=function(e,t){var n=L(e.c.periods,t+s.to);return n?e.c.periods.indexOf(n):0},Ln=function(e,t){for(var n=e.c.periods,r=0;r<n.length;r++){for(var i=n[r],a=new Set,o=s.u(i.variants),u=o.next();!u.done;u=o.next())u=u.value,u.audio&&a.add(u.audio),u.video&&a.add(u.video),u.video&&u.video.trickModeVideo&&a.add(u.video.trickModeVideo);for(i=s.u(i.textStreams),o=i.next();!o.done;o=i.next())a.add(o.value);if(a.has(t))return r}return-1},jn=function(e,t,n,r,i){r=void 0!==r&&r,i=void 0===i?null:i;var a=s.Ym(n.za(),n.ta,n.ga,e.h.attemptParameters,n.startTime,n.endTime,t.type,n.timescale);return a.type=s.lo,a.onFragment=n.ec?null:i,(i=n.a())&&(a.keyInfo=i,a.onFragment=null),r&&t.type===s.Vd&&e.h.overridePasp&&a.responseModifiers.push(e.G.bind(e)),e.a.debug("fetching: reference=",n),n=e.b.Pb.fetch(a),t.Ec=n,n.promise.then((function(n){var i=e.b.Od(),a=n.timeMs,o=n.data.byteLength;return a&&o&&!r&&i.segmentDownloaded(a,o),t.Ec=null,n.data}))},_n=function(e,t,n,r){var i,a,o,u;s.A((function(c){return 1==c.a?(i=Fn(t),t.Bb=!1,t.td=!1,t.Uc=0,t.Db=!0,e.a.debug(i,"clearing buffer"),r?(o=e.b.Xa(),u=e.b.M.getDuration(),a=e.b.M.remove(t.type,o+r,u)):a=e.b.M.clear(t.type).then((function(){return!e.g&&n?e.b.M.flush(t.type):null})),s.x(c,a,2)):e.g?c["return"]():(e.a.debug(i,"cleared buffer"),t.jc=null,t.bb=null,t.Db=!1,t.endOfStream=!1,t.Zc=!1,Un(e,t,0),void s.y(c))}))},Un=function(e,t,n){e.a.debug(Fn(t),"updating in "+n+" seconds"),t.jb=new s.Df((function(){wn(e,t)})).P(n)},Bn=function(e){null!=e.jb&&(e.jb.stop(),e.jb=null)},Kn=function(e,t){e.g||(e.b.onError(t),a(e.h.failureCallback)!==s.Bc||e.h.failureCallback(t))},Fn=function(e){return"("+e.type+":"+e.stream.id+")"},Vn=function(e){return!e.ub&&null==e.jb&&!e.Bb&&!e.Db},Hn=function(t){s.Gj.call(this,m);var n=this;this.m=qr,this.f=null,this.Dd=0,this.gf=2,this.sc=null,this.pc=!1,this.h=new s.ei,this.Nc=this.qc=this.Qa=this.i=this.s=this.g=null,this.Kd=!1,this.c=this.a=this.o=this.b=this.ua=this.B=null,this.rf=1e9,this.Rc=new Set,this.C=!0,this.R=null,this.lf=!1,this.jf=0,this.K=null,this.G=new Et,this.qf={width:1/0,height:1/0},this.v=null,this.U=s.qn,this.Pa=new Rt(this.configuration.preferredAudioLanguage,this.configuration.preferredAudioRole,this.configuration.preferredAudioChannelCount),this.pa=this.configuration.preferredTextLanguage,this.Y=this.Qc=null,this.rc=[],this.S=null,this.oc=this.configuration.preferredTextRole,t&&t(this),this.Cd=null,this.h.on(e,"online",(function(){if(n.m==Jr){var e=n.b;if(e.g)e.a.error("Unable to retry after StreamingEngine is destroyed!");else if(e.m)e.a.error("Unable to retry after StreamingEngine encountered a fatal error!");else for(var t=s.u(e.f.values()),r=t.next();!r.done;r=t.next()){r=r.value;var i=Fn(r);r.ic&&(e.a.info(i,"Retrying after failure..."),r.ic=!1,Un(e,r,.1))}}}))},Gn=function(e){return new s.Hs((function(t){if(void 0===t||null===t)return null;var n=e.getTrackManager(),r=[];return n&&n.getVideoTracks().forEach((function(e){return r.push.apply(r,s.ne(e.renditions))})),r.find((function(e){return e.id==t}))||null}))},Wn=function(e,t){if(e.U!==t)if(e.U===s.Wk&&t!==s.qn){var n=R(t,s.yn);e.log.info(s.Wr+n)}else{n=e.Dd,n=0===n?0:Date.now()-n;var r=e.U;e.U=t,e.Dd=Date.now(),e.v&&s.Hk(e.v.a,e.U),t===s.un&&(e.gf=e.xd?1:2);var i=e.gf,a={currentState:e.U,previousState:r,timeSinceLastStateChangeMS:n,reason:t===s.un||r===s.un?i:void 0},o=R(r,s.yn),u=R(t,s.yn),c=t!==s.un?"":"["+R(i,s.xn)+"]";e.log.info(s.Ia+o+" -> "+(u+c)),e.trigger(new s.O(s.Bd,{detail:a})),t===s.un?e.trigger(new s.O(s.Ub,{detail:{bufferedTimeMS:-1,reason:i}})):r===s.un&&e.trigger(new s.O(s.Tb,{detail:{bufferedTimeMS:n,reason:i}}))}},qn=function(e){var t,n=!1;return n=void 0===n||n,s.A((function(r){switch(r.a){case 1:return e.m==Wr?r["return"](Promise.reject(new s.J(s.K,7,7e3))):s.x(r,zn(e),2);case 2:return s.x(r,Xn(e),3);case 3:if(!n){r.A(0);break}return t=e.getSurface().F(),s.x(r,Jn(e,t),5);case 5:return s.x(r,Yn(e,t),0)}}))},Jn=function(e,t){return e.f||(e.h.on(t,s.yc,(function(){if(e.f.error){var t=e.f.error.code;if(1==t)t=null;else{var n=e.f.error.msExtendedCode;n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),t=new s.J(s.K,3,3016,{code:t,extendedError:n,message:e.f.error.message})}}else t=null;t&&e.onError(t)})),e.f=t),Promise.resolve()},zn=function(e){return e.f&&(e.h.off(e.f,s.yc),e.f=null),Promise.resolve()},Xn=function(e){var t;return s.A((function(n){switch(n.a){case 1:if(e.m!=Wr&&(e.m=qr),(t=e.f)&&(e.h.off(t,s.Nc),e.h.off(t,s.id),e.h.off(t,s.ed),e.h.off(t,s.xc),e.h.off(t,s.md),e.h.off(t,s.ld)),e.Qa&&(e.Qa.release(),e.Qa=null),e.Nc&&(e.Nc.stop(),e.Nc=null),!e.o){n.A(2);break}return s.x(n,e.o.stop(),3);case 3:e.o=null;case 2:if(!e.c){n.A(4);break}return s.x(n,e.c.stop(),4);case 4:if(!e.b){n.A(6);break}return s.x(n,e.b.destroy(),7);case 7:e.b=null;case 6:if(e.i&&(e.i.release(),e.i=null),!e.s){n.A(8);break}return s.x(n,e.s.destroy(),9);case 9:e.s=null;case 8:if(t&&t.src&&(t.removeAttribute("src"),t.load()),!e.g){n.A(10);break}return s.x(n,e.g.destroy(),11);case 11:e.g=null;case 10:e.G.clear(),e.B=null,e.Rc.clear(),e.a=null,e.v=null,e.C=!0,e.rc=[],e.Kd=!1,Tr(e),s.y(n)}}))},Yn=function(t,n){var r,i,a;return s.A((function(o){if(1==o.a)return r=e.muxjs?new Ce:new s.tt,i=s.Pf(t.configuration,["html",s.yd]),t.J=i.create(t),t.sc=Gn(t),t.sc.track(t),a=new s.At(n,r,t.J,t.sc,t.configuration.streaming.maxSegmentToMediaOffset),s.x(o,a.v,2);t.s=a,s.y(o)}))},$n=function(e,t){var n,r;return s.A((function(i){if(1==i.a)return n=e.getNetworkEngine(),r=e,s.x(i,s.vo.create(t.url,n,e.configuration.manifest.attemptParameters,t.type),2);r.o=i.b,e.o.configure(e.configuration.manifest),s.y(i)}))},Qn=function(e,t){var n,r,i;return s.A((function(a){return n=e.getNetworkEngine(),e.ua=new K,F(e.ua,(function(t){Rr(e,s.pi,t)})),r={networkingEngine:n,filterNewPeriod:function(t){return e.Md(t)},filterAllPeriods:function(t){return vr(e,t)},onTimelineCueAdded:function(t){var n=e.ua;e:{for(var r=s.u(n.a),i=r.next();!i.done;i=r.next())if(i=i.value,i.schemeIdUri===t.schemeIdUri&&i.startTime===t.startTime&&i.endTime===t.endTime){r=i;break e}r=null}null==r&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.Fd(t)},onError:function(t){return e.onError(t)}},i=new s.Yk(Promise.resolve().then((function(){var n;return s.A((function(i){if(1==i.a)return n=e,s.x(i,e.o.start(t.url,r),2);if(n.a=i.b,!e.a.presentationTimeline||s.C.H(e.configuration.suggestedPresentationDelay)||isNaN(e.configuration.suggestedPresentationDelay)||(e.log.info("Apply suggested presentation delay of: "+e.configuration.suggestedPresentationDelay),e.a.presentationTimeline.s=e.configuration.suggestedPresentationDelay),e.a.presentationTimeline&&(e.a.presentationTimeline.o=!!e.configuration.lowLatencyMode),0==e.a.periods.length)throw new s.J(s.K,4,4014);tr(e.a.periods),s.y(i)}))})),(function(){return e.log.info("Aborting parser step..."),e.o.stop()})),s.x(a,i.promise,0)}))},Zn=function(e){var t,n,r,i,a;return s.A((function(o){switch(o.a){case 1:if(e.g=new s.bk({Pb:e.getNetworkEngine(),onError:function(t){return e.onError(t)},fe:function(t){return Dr(e,t)},onExpirationUpdated:function(t,n){e.o&&e.o.onExpirationUpdated&&e.o.onExpirationUpdated(t,n),e.trigger(new s.O(s.pc,{expirationTime:n}))},onEvent:function(t){return e.Fd(t)},getConfiguration:function(){return e.getConfiguration()}}),e.g.f=s.Uk(e.configuration.drm),n=(t=e.configuration.drm)&&t.offlineId||"",r=[],i=s.Em(e.a.periods),!n){o.A(2);break}if(a=s.bl(s.cc),!a){o.A(2);break}return s.x(o,a.kj(t,i,e.getNetworkEngine()),4);case 4:return s.x(o,a.$h(n),5);case 5:r=o.b;case 2:return s.x(o,s.gk(e.g,i,r),6);case 6:vr(e,e.a.periods),s.y(o)}}))},er=function(e){var t,n,r,i,a,o,u,c;return s.A((function(l){return 1==l.a?(t=e.f,n=function(t){e.f&&e.B&&(t.type===s.ud&&e.Kc?(e.B.a=Hr,Tr(e)):or(e)),Er(e)},r=function(){if(e.f){var t=e.f.playbackRate;0!=t&&e.qc.set(t)}},e.h.on(t,s.id,n),e.h.on(t,s.ed,n),e.h.on(t,s.xc,n),e.h.on(t,s.ud,n),e.h.on(t,s.td,n),e.h.on(t,s.ld,n),e.h.on(t,s.md,r),e.c||(e.c=new s.wu,e.c.configure(e.configuration.abr)),mr(e,e.a.periods),e.Pa=new Rt(e.configuration.preferredAudioLanguage,e.configuration.preferredAudioRole,e.configuration.preferredAudioChannelCount),e.pa=e.configuration.preferredTextLanguage,e.oc=e.configuration.preferredTextRole,s.x(l,s.rk(e.g,t),2)):3!=l.a?(e.c.init((function(t,n,r){!e.C&&Mr(e,t,n,r)})),e.i=rr(e,e.configuration.startTime),e.Qa=ir(e),e.qc=new _t({Rd:function(){return t.playbackRate},Pf:function(e){t.playbackRate=e},pi:function(e){t.currentTime+=e}}),i=Math.max(1e-4,e.configuration.streaming.rebufferingGoal),ar(e,i),e.b=sr(e),e.b.h=e.configuration.streaming,nr(e),e.m=Jr,s.x(l,e.b.start(),3)):(e.configuration.streaming.startAtSegmentBoundary&&(a=en(e.i),o=wr(e,a),Jt(e.i.f,o)),e.a.periods.forEach(e.Md.bind(e)),Cr(e),u=jr(e),c=u.variants.some((function(e){return e.primary})),e.configuration.preferredAudioLanguage||c||e.log.warn("No preferred audio language set.  We will choose an arbitrary language initially"),xr(e,u.variants),e.h.one(t,s.Nc,(function(){e.v.i=Date.now()/1e3-(null===e.Cd?0:e.Cd)})),void s.y(l))}))},tr=function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&(s.I("Found variant with audio and video content, so filtering out audio-only content in all periods."),e.forEach((function(e){e.variants=e.variants.filter(t)})))},nr=function(e){function t(e){var t="";e.video&&(t=s.fg(e.video.codecs)[0]);var n="";return e.audio&&(n=s.fg(e.audio.codecs)[0]),t+"-"+n}var n=e.a.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);if(n=tt(n,e.configuration.preferredAudioChannelCount),1<e.a.periods.length){var r=function(e){e=e.split(".");var t=e[0];return 1<e.length&&(t+="."+e[1]),t.toLowerCase()},i=[];e.a.periods.forEach((function(e){var t=new Set;e.variants.forEach((function(e){t.add(r(e.audio.codecs))})),i.push(t)}));for(var a=i[0],o={},u=1;u<i.length;o={ud:o.ud},u++)o.ud=i[u],a=new Set(s.ne(a).concat().filter(function(e){return function(t){return e.ud.has(t)}}(o)));n=n.filter((function(e){return a.has(r(e.audio.codecs))}))}var c=new s.bi;n.forEach((function(e){var n=t(e);c.push(n,e)}));var l=null,f=1/0;c.forEach((function(t,n){var r=0,i=0;n.forEach((function(e){r+=e.bandwidth||0,++i}));var a=r/i;e.log.debug(s.gc,t,"avg bandwidth",a),a<f&&(l=t,f=a)})),e.a.periods.forEach((function(n){n.variants=n.variants.filter((function(n){return t(n)==l||(e.log.debug("Dropping Variant (better codec available)",n),!1)}))}))},rr=function(e,t){return new Zt(e.f,e.a,e.configuration.streaming,t,(function(){e.Qa&&W(e.Qa,!0),e.b&&hn(e.b)}),(function(t){return e.dispatchEvent(t)}))},ir=function(e){var t=new Lt(e.a);jt(t,(function(){Cr(e)}));var n=new V(e.ua);H(n,(function(t){Rr(e,s.qi,t)}),(function(t){Rr(e,s.ri,t)}),(function(t,n){n||(Rr(e,s.qi,t),Rr(e,s.ri,t))}));var r=new G(e.f);return r.a.add(t),r.a.add(n),r},ar=function(e,t){e.B=new Ot(t,Math.min(.5,t/2)),e.B.a=Hr,Tr(e),e.Nc=new s.Ef((function(){or(e)})).Ea(.25)},or=function(e){switch(e.m){case Jr:e:if(e.f.ended||Ue(e.s))var t=!0;else{if(e.a.presentationTimeline.isLive()){t=s.Kn(e.a.presentationTimeline);var n=e.getBufferInfo();if(null!==n&&(n=n.da(),null!==n&&n>=t)){t=!0;break e}}t=!1}break;default:t=!1}var r=0;if(e.s){var i=Be(e.s);n=i.video,i=i.audio;var a=e.f.currentTime;(n||i)&&(r=n&&i?Math.min(n.qa(a),i.qa(a)):n?n.qa(a):i.qa(a))}n=e.B,i=r,a=t;var o=n.b.get(n.a);r=n.a,i=a||i>=o?Gr:Hr,n.a=i,n=r!=i,r=Sr(e),e.log.debug("Buffering state change",n,"is buffering",r,"buffered to end",t,"state",e.getState()),n||e.getState()===s.un&&!r?Tr(e):e.Kd&&Er(e)},sr=function(e){var t={Xa:function(){return en(e.i)},M:e.s,Pb:e.getNetworkEngine(),ee:e.ah.bind(e),de:e.$g.bind(e),onError:e.onError.bind(e),xf:e.Mi.bind(e),onEvent:e.Fd.bind(e),Cf:e.bh.bind(e),jd:e.Zi.bind(e),Od:function(){return e.c},Ae:e.lg.bind(e)};return new s.kv(e.a,t)},ur=function(e){if(e.a&&e.i){var t=_r(e),n=[];e=s.u(Or(e));for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=Qe(r);i.active=r==t,n.push(i)}return n}return[]},cr=function(e,t){if(e.a&&e.b){var n=jr(e),r=n.textStreams.find((function(e){return e.id==t.id}));r?(gr(e,n,r,!1),yr(e,r),e.pa=r.language):e.log.error(s.Tr,t.id)}},lr=function(e,t,n){var r=void 0===r?0:r;if(e.a&&e.b){var i=jr(e);if(e.configuration.abr.enabled&&t)e.log.info("Disable ABR and enable manual track selection to select "+t.width+"x"+t.height+"@"+t.bandwidth),e.configuration.abr.enabled=!1,e.c.disable();else if(!e.configuration.abr.enabled&&!t)return e.log.info("Enable ABR Selection"),e.configuration.abr.enabled=!0,e.c.enable(),e.Y=null,n=xr(e,i.variants),null!=e.S&&(e.Pa=e.S,e.S=null),void(null==n||e.C||Mr(e,n));if(t){e.Y=t.id;var a=i.variants.find((function(e){return e.id==t.id}));a?(e.Y=a.video.id,et(a)?(pr(e,i,a,!1),br(e,a,n,r),null==e.S&&(e.S=e.Pa),e.Pa=new Pt(a),xr(e,i.variants)):e.log.error("Unable to switch to restricted track",t.id)):e.log.error("No variant with id",t.id)}else e.Y=null,null!=e.S&&(e.Pa=e.S,e.S=null),n=xr(e,i.variants),null==n||e.C||Mr(e,n)}},fr=function(e,t){if(e.b){var n=cn(e.b),i=un(e.b),a=L(e.a.periods,en(e.i));a=e.a.periods[a?e.a.periods.indexOf(a):0].variants.filter((function(e){return e.audio.id==t}));var o=a.find((function(e){return e.video.id==n.id}));if(!o){e.log.debug("Cannot find exact variant, looking for anything else that matches with given audioId");var s=e.getTrackManager().ja();if(s){var u=s.renditions.map((function(e){return e.id}));o=a.find((function(e){return u.find((function(t){return t==e.video.id}))}))}}if(o){if(i.codecs.split(".")[0]===o.audio.codecs.split(".")[0])return e.Qc=t,kr(e,jr(e)),void Promise.resolve();e.log.warn(r)}}Promise.reject()},dr=function(e){var t=e.pc;return e.a?e.s.getTextDisplayer().isTextVisible():t},hr=function(e,t){var n,r,i,a;return s.A((function(o){if(n=e.pc,r=t,n==r)return o["return"]();if(e.pc=r,e.m!=Jr)return o.A(0);if(e.s.getTextDisplayer().setTextVisibility(t),e.configuration.streaming.alwaysStreamText)return o.A(0);if(!t){var u=e.b;u.B=!0;var c=u.f.get(s.k);return c&&(Bn(c),u.f["delete"](s.k)),o.A(0)}return i=jr(e),a=s.Yt(i.textStreams,e.pa,e.oc),0<a.length?s.x(o,ln(e.b,a[0]),0):o.A(0)}))},pr=function(e,t,n,r){var i=e.getTrackManager();if(i){var a=e.v.j;if(n.video){yt(i,n.video,r);var o=i.Z();a.f!==o&&(a.f=o,a.a.push({timestamp:Date.now()/1e3,id:o.id,trackId:o.track.id,type:o.track.type,fromAdaptation:r,width:o.width,height:o.height,bandwidth:o.bandwidth}))}n.audio&&(yt(i,n.audio,r),i=i.ra(),a.b!==i&&(a.b=i,a.a.push({timestamp:Date.now()/1e3,id:i.id,trackId:i.track.id,type:i.track.type,fromAdaptation:r,width:null,height:null,bandwidth:i.bandwidth})))}xt(e.G,t).variant=n},gr=function(e,t,n,r){xt(e.G,t).text=n,(t=e.getTrackManager())&&(yt(t,n,r),n=t.ia(),e=e.v.j,e.c!==n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,trackId:n.track.id,type:n.track.type,fromAdaptation:r,width:null,height:null,bandwidth:null})))},mr=function(e,t){for(var n=0;n<t.length;n++){for(var r=t[n],i=new Map,a=s.u(r.variants),o=a.next();!o.done;o=a.next())if(o=o.value,o.video&&o.video.closedCaptions){o=o.video;for(var u=s.u(o.closedCaptions.keys()),c=u.next();!c.done;c=u.next())if(c=c.value,!i.has(c)){var l={id:e.rf++,originalId:c,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Cb,codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(c),label:null,type:s.k,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};i.set(c,l)}}for(i=s.u(i.values()),a=i.next();!a.done;a=i.next())r.textStreams.push(a.value)}},vr=function(e,t){var n=e.b?un(e.b):null,r=e.b?cn(e.b):null;if(t.forEach(Ye.bind(null,e.g,n,r)),n=N(t,(function(e){return e.variants.some(et)})),0==n)throw new s.J(s.K,4,4032);if(n<t.length)throw new s.J(s.K,4,4011);t.forEach((function(t){Xe(t.variants,e.configuration.restrictions,e.qf)&&e.b&&jr(e)==t&&Cr(e),Nr(e,t.variants)}))},br=function(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.C?(e.R=t,e.lf=n,e.jf=r):fn(e.b,t,n,r)},yr=function(e,t){e.C?e.K=t:s.vv(e.b,t,!0,0)},wr=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var r=un(e.b),i=cn(e.b),a=jr(e);return r=n(r,t),i=n(i,t),null!=i&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t},Sr=function(e){return!(!e.g||!e.g.m)||!!e.B&&e.B.getState()===Hr},Tr=function(e){var t=Sr(e);if(e.v&&e.B&&e.i){var n=e.qc;n.f=t,Ut(n),e.i.g.g=t,Er(e)}},Er=function(e){var t=e.getDuration(),n=e.getPosition();e.f&&e.f.ended||e.Kd&&0<n&&t<=n?Wn(e,s.wn):Sr(e)||e.Kc?Wn(e,s.un):e.f&&e.f.paused?Wn(e,s.Cn):Wn(e,s.dn)},xr=function(e,t){try{Nr(e,t)}catch(i){return e.onError(i),null}var n=t.filter((function(e){return et(e)}));n=ct(n,e.Qc);var r=e.Pa.create(n);return e.c.setVariants(Array.from(r.values())),e.configuration.abr.enabled||null===e.Y?e.c.chooseVariant():(n=n.find((function(t){return null!==t.video&&t.video.id===e.Y})),n||(e.log.warn("Selected video track not found. Falling back to ABR selection"),e.c.chooseVariant()))},kr=function(e,t){var n=xr(e,t.variants);e.Qc=n&&n.audio&&n.audio.id,n&&(pr(e,t,n,!0),br(e,n,!0)),(n=s.Yt(t.textStreams,e.pa,e.oc)[0]||null)&&(e.configuration.streaming.alwaysStreamText||dr(e))&&(gr(e,t,n,!0),yr(e,n))},Ar=function(e,t){e.C=!0,e.c.disable(),e.log.debug("Choosing new streams after period changed");var n=xr(e,t.variants),r=s.Yt(t.textStreams,e.pa,e.oc)[0]||null;return e.R&&(t.variants.includes(e.R)&&(n=e.R),e.R=null),e.K&&(t.textStreams.includes(e.K)&&(r=e.K),e.K=null),n&&e.rc.push((function(){return pr(e,t,n,!0)})),r&&e.rc.push((function(){return gr(e,t,r,!0)})),t===jr(e)&&Pr(e),!sn(e.b)&&r&&(Ir(e,r)&&(e.pc=!0),e.pc&&e.s.getTextDisplayer().setTextVisibility(!0)),e.configuration.streaming.alwaysStreamText||dr(e)?{variant:n,text:r}:{variant:n,text:null}},Ir=function(e,t){var n=s.Xm(e.configuration.preferredTextLanguage),r=s.Xm(t.language);return r=s.Xm(r),n=s.Xm(n),r.split("-")[0]==n.split("-")[0]},Mr=function(e,t,n,r){if(n=void 0!==n&&n,r=void 0===r?0:r,e.configuration.abr.enabled){e.log.debug("switch_");e:{for(var i=s.u(e.a.periods),a=i.next();!a.done;a=i.next())if(a=a.value,a.variants.includes(t)){i=a;break e}i=null}pr(e,i,t,!0),e.b&&fn(e.b,t,n,r)}},Cr=function(e){var t=e.getTrackManager();t&&e.m!=Wr&&(t.a&&(mt(t),t.a.trigger(new s.O(s.ko))),Pr(e))},Pr=function(e){for(;e.rc.length;)e.rc.shift()()},Rr=function(e,t,n){e.trigger(new s.O(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))},Dr=function(e,t){if(e.b){var n=jr(e),r=!1,i=Object.keys(t);0==i.length&&e.log.warn("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var a=1==i.length&&"00"==i[0];a&&e.log.warn("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks."),i.length&&n.variants.forEach((function(e){it(e).forEach((function(n){var i=e.allowedByKeySystem;n.keyId&&(n=t[a?"00":n.keyId],e.allowedByKeySystem=!!n&&!zr.includes(n)),i!=e.allowedByKeySystem&&(r=!0)}))})),i=un(e.b);var o=cn(e.b);(i=rt(i,o,n.variants))&&!i.allowedByKeySystem&&(e.log.debug("Choosing new streams after key status changed"),kr(e,n)),r&&(Cr(e),xr(e,n.variants))}},Nr=function(e,t){var n=e.g?s.C.xe(e.g.Y):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=[],u=[],c=s.u(t),l=c.next();!l.done;l=c.next()){l=l.value;var f=[];l.audio&&f.push(l.audio),l.video&&f.push(l.video),f=s.u(f);for(var d=f.next();!d.done;d=f.next())if(d=d.value,d.keyId){var h=n[r?"00":d.keyId];h?zr.includes(h)&&(u.includes(h)||u.push(h)):o.includes(d.keyId)||o.push(d.keyId)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new s.J(s.K,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:u})},Or=function(e){return e=jr(e),null==e?[]:e.variants.filter((function(e){return et(e)}))},Lr=function(e){var t=jr(e);return null==t?[]:t.textStreams.filter((function(t){return!e.Rc.has(t)}))},jr=function(e){var t=en(e.i),n=null;e=s.u(e.a.periods);for(var r=e.next();!r.done;r=e.next())r=r.value,r.startTime<=t&&(n=r);return n},_r=function(e){var t=jr(e);return xt(e.G,t).variant},Ur=function(){this.name=m},K.prototype.release=function(){this.b=function(){},this.a.clear()},V.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},V.prototype.h=function(e,t){for(var n={},r=s.u(this.g.a),i=r.next();!i.done;n={wd:n.wd,Lc:n.Lc},i=r.next()){i=i.value,n.wd=this.f.get(i)||null,n.Lc=e<i.startTime?1:e>i.endTime?3:2,this.f.set(i,n.Lc);var a=this.i.find(function(e){return function(t){return t.Yb===e.wd&&t.Xb===e.Lc}}(n));a&&a.Ib(i,t)}},G.prototype.release=function(){this.c.stop();for(var e=s.u(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},s.Hs.prototype.track=function(e){null!=this.a&&(this.a&&(this.a.off(s.rd,this.c),this.f&&this.a.off(s.Ld,this.c)),this.a=null),e&&(this.a=e,this.a.on(s.rd,this.c,this))},s.Hs.prototype.append=function(e,t,n){var r=this.h?this.h(n):null;r||this.log.debug("Unable to resolve rendition for id",n),n={start:e,end:t,rendition:r,width:r?r.width:0,height:r?r.height:0,bandwidth:r?r.bandwidth:0};var i=this.b.find((function(n){return n.start>=e&&n.end<=t}));i?(i.rendition=r,i.width=n.width,i.height=n.height,i.bandwidth=n.bandwidth,i.start=n.start,i.end=n.end):(this.b.forEach((function(n){e>=n.start&&e<n.end?n.end=e:t>=n.start&&t<n.end&&(n.start=t)})),this.b.push(n),this.b.sort(q)),X(this),this.c(),this.a&&this.a.trigger(new s.O(s.Yd))},s.Hs.prototype.clear=function(){this.b=[],X(this),this.a&&(this.a.trigger(new s.O(s.Yd)),this.a.trigger(new s.O(s.Ob)))},s.Hs.prototype.c=function(){if(this.a){var e=this.a.getPosition();if(0<=e){e:{for(var t=this.b.length,n=Number.MAX_SAFE_INTEGER,r=0;r<t;r++){var i=this.b[r];if(n=Math.min(i.start,n),i.start<=e&&i.end>e){e=.1>i.end-e&&r<t-1?this.b[r+1].rendition:i.rendition;break e}if(i.start>e)break}e=0<t&&n>e&&.25>n-e?this.b[0].rendition:null}e&&this.g!==e&&(this.g=e,this.a)&&(n=t=-1,e?(t=e.width||-1,n=e.height||-1):(r=this.a.getSurface().F())&&(t=r.videoWidth,n=r.videoHeight),this.a.trigger(new s.O(s.Rb,{detail:{width:t,height:n,bandwidth:e?e.bandwidth:null,rendition:e}})))}}},s.w($,s.Kf),s.r=$.prototype,s.r.append=function(e){for(var t=this,n=[],r=0;r<e.length;r++){var i=Q(e[r]);i&&n.push(i)}n.slice().sort((function(e,t){return e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime!==t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach((function(e){t.a.addCue(e)}))},s.r.remove=function(e,t){return!!this.a&&(Z(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},s.r.isTextVisible=function(){return this.a.mode==s.xd},s.r.setTextVisibility=function(e){this.a.mode=e?s.xd:s.Dc},s.r.destroy=function(){return this.a&&Z(this.a,(function(){return!0})),this.a=null,Promise.resolve()},ee.prototype.N=function(){return!0},ee.prototype.create=function(e){return new $(e)},ee.prototype.create=ee.prototype.create,ee.prototype.isSupported=ee.prototype.N,s.Of(s.yd,new ee),te.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},te.prototype.stopImmediatePropagation=function(){this.a=!0},te.prototype.stopPropagation=function(){},ne.prototype.addEventListener=function(e,t){this.h.push(e,t)},ne.prototype.removeEventListener=function(e,t){this.h.remove(e,t)},ne.prototype.dispatchEvent=function(e){for(var t=this.h.get(e.type)||[],n=0;n<t.length;++n){e.target=this.j,e.currentTarget=this.j;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(i){s.af("Uncaught exception in event handler",i,i?i.message:null,i?i.stack:null)}if(e.a)break}return e.defaultPrevented},ie.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var e=new oe(this.keySystem);return Promise.resolve(e)},ie.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.a},oe.prototype.createSession=function(e){if(s.I("PatchedMediaKeysMs.MediaKeys.createSession"),e=e||s.Hd,e!=s.Hd)throw new TypeError(s.Qa+e+s.ba);return new ue(this.a,e)},oe.prototype.setServerCertificate=function(){return s.I("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.Le(ue,ne),s.r=ue.prototype,s.r.generateRequest=function(e,t){s.I("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.a=new s.gj;try{this.c=this.g.createSession(s.Xd,s.cf(t),null),this.f.on(this.c,"mskeymessage",this.Vi.bind(this)),this.f.on(this.c,"mskeyadded",this.Ti.bind(this)),this.f.on(this.c,"mskeyerror",this.Ui.bind(this)),fe(this,s.Cd)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.I("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error(s.Ba))},s.r.update=function(e){s.I("PatchedMediaKeysMs.MediaKeySession.update"),this.b=new s.gj;try{this.c.update(s.cf(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.I("PatchedMediaKeysMs.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.hi(this.f)}catch(e){this.closed.reject(e)}return this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error(s.Ca))},s.r.Vi=function(e){s.I("PatchedMediaKeysMs.onMsKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new te(s.Rc,{messageType:void 0==this.keyStatuses.a?s.Jc:s.Ic,message:e.message.buffer}))},s.r.Ti=function(e){s.I("PatchedMediaKeysMs.onMsKeyAdded_",e),this.a?(s.I("Simulating completion for a PR persistent license."),fe(this,s.Pd),this.a.resolve(),this.a=null):this.b&&(fe(this,s.Pd),this.b.resolve(),this.b=null)},s.r.Ui=function(e){if(s.I("PatchedMediaKeysMs.onMsKeyError_",e),e=Error("EME PatchedMediaKeysMs key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:fe(this,s.bd);break;default:fe(this,s.Gc)}},s.r=de.prototype,s.r.forEach=function(e){this.a&&e(this.a,Br)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Br;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.$e("Using ms-prefixed EME v20140218"),Br=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ae,e.MediaKeys=oe,e.MediaKeySystemAccess=ie,navigator.requestMediaKeySystemAccess=re)}));var Kr,Fr="";me.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var e=new ve(this.a);return Promise.resolve(e)},me.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.b},s.r=ve.prototype,s.r.createSession=function(e){if(s.I("PatchedMediaKeysWebkit.MediaKeys.createSession"),e=e||s.Hd,e!==s.Hd&&e!==s.fd)throw new TypeError(s.Qa+e+s.ba);var t=this.b||document.createElement(s.Vd);return t.src||(t.src="about:blank"),e=new we(t,this.g,e),this.c.push(e),e},s.r.setServerCertificate=function(){return s.I("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.r.hj=function(e){s.I("PatchedMediaKeysWebkit.onWebkitNeedKey_",e);var t=document.createEvent("CustomEvent");t.initCustomEvent(s.vc,!1,!1,null),t.initDataType=s.ge,t.initData=e.initData,this.b.dispatchEvent(t)},s.r.gh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyMessage_",e);var t=ye(this,e.sessionId);t?(e=new te(s.Rc,{messageType:void 0===t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),s.I("PatchedMediaKeysWebkit.MediaKeySession.generated"),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e)):s.af("Session not found",e.sessionId)},s.r.eh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyAdded_",e),(e=ye(this,e.sessionId))&&(s.I("PatchedMediaKeysWebkit.MediaKeySession.ready"),Te(e,s.Pd),e.a&&e.a.resolve(),e.a=null)},s.r.fh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyError_",e);var t=ye(this,e.sessionId);if(t){s.I("PatchedMediaKeysWebkit.MediaKeySession.handleError",e);var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45===e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?Te(t,b):Te(t,1===n?"expired":s.Gc))}},s.Le(we,ne),s.r=we.prototype,s.r.Hd=function(e,t){if(this.a)this.a.then(this.Hd.bind(this,e,t))["catch"](this.Hd.bind(this,e,t));else{if(this.a=e,this.c===E){var n=s.ef(t),r=JSON.parse(n);"oct"!==r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=s.Oj(r.keys[0].k),r=s.Oj(r.keys[0].kid)}else n=s.cf(t),r=null;var i=he("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(u){this.a.reject(u),this.a=null}}},s.r.generateRequest=function(e,t){return s.I("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),Se(this,t,null)},s.r.load=function(e){return s.I("PatchedMediaKeysWebkit.MediaKeySession.load"),this.g===s.fd?Se(this,null,e):Promise.reject(Error(c))},s.r.update=function(e){s.I("PatchedMediaKeysWebkit.MediaKeySession.update",e);var t=new s.gj;return this.Hd(t,e),t},s.r.close=function(){if(s.I("PatchedMediaKeysWebkit.MediaKeySession.close"),this.g!==s.fd){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=he("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysWebkit.MediaKeySession.remove"),this.g!==s.fd?Promise.reject(Error(c)):this.close()},s.r=Ee.prototype,s.r.forEach=function(e){this.a&&e(this.a,Kr)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Kr;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)s.$e("Using webkit-prefixed EME v0.1b"),Fr="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;s.$e("Using nonprefixed EME v0.1b")}Kr=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=pe,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ge,e.MediaKeys=ve,e.MediaKeySystemAccess=me}})),s.ul((function(){if(s.I("MediaSource.install"),e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)s.$e("Patching Chromecast MSE bugs."),Me();else if(s.yh()){var t=navigator.appVersion;t=0<=t.indexOf("Version")?parseInt(t.match(/Version\/(\d+)/)[1],10):13,Ae(),10>=t?(s.$e("Blacklisting MSE on Safari <= 10."),e.MediaSource=null):12>=t?(s.$e("Patching Safari 11 & 12 MSE bugs."),xe(),ke()):(s.$e("Patching Safari 13 MSE bugs."),xe())}else s.xh(2)||s.xh(3)||s.xh(4)?Ie():s.$e("Using native MSE as-is.");else s.$e("No MSE implementation available.")})),Ce.prototype.init=function(e){var t=muxjs.mp4.probe;e=s.cf(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Ce.prototype.c=function(e,t){var n=s.cf(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},Ce.prototype.b=function(){this.a.resetCaptionStream()},s.tt.prototype.init=function(){},s.tt.prototype.c=function(){},s.tt.prototype.b=function(){},Pe.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Pe.prototype.j=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),e.type===s.Vd?this.h.push(t):e.type===s.Lb&&this.g.push(t)},Pe.prototype.i=function(){var e={video:s.Sj.apply(null,this.h),captions:this.c,audio:s.Sj.apply(null,this.g)};this.b.resolve(e),this.f=!1},s.r=s.At.prototype,s.r.destroy=function(){var e=this;this.w=!0;var t,n=[];for(t in this.f){var r=this.f[t],i=r[0];for(this.f[t]=r.slice(0,1),i&&n.push(i.p["catch"](s.Dk.Dc)),i=1;i<r.length;++i)r[i].p["catch"](s.Dk.Dc),r[i].p.reject()}for(var a in this.b&&n.push(this.b.destroy()),this.l&&n.push(this.l.destroy()),this.j)n.push(this.j[a].destroy());return Promise.all(n).then((function(){e.i&&(e.i.release(),e.i=null),e.g&&(e.g.removeAttribute("src"),e.g.load(),e.g=null),e.h=null,e.b=null,e.l=null,e.c={},e.j={},e.o={},e.s=null,e.B=!1,e.f={}}))},s.r.init=function(e,t){var n,r=this;return s.A((function(i){if(1==i.a)return n=s.Tk,s.x(i,r.v,2);e.forEach((function(e,i){var a=s.eg(e.mimeType,e.codecs);if(i==n.TEXT)_e(r,a);else{var o=new Map;o.set(i,a),MediaSource.isTypeSupported(a)&&t&&!e.keyInfo||!Re(a,i)||(r.j[i]=new Pe,a="aac"==a.split(";")[0].split("/")[1]?a.replace("aac",s.Uc):Ne(i,a),o=De(i,a)),je(r,o)}})),s.y(i)}))},s.r.Ra=function(e){return e===s.k?this.b.Ra():(e=Ke(this,e))?e.Ra():null},s.r.da=function(e){return e===s.k?this.b.da():(e=Ke(this,e))?e.da():null},s.r.Kb=function(e,t,n){return e===s.k?this.b.Kb(t):!!(e=Ke(this,e))&&e.Kb(t,!0,n)},s.r.qa=function(e,t){if(e===s.k)return this.b.qa(t);var n=Ke(this,e);return n?n.qa(t):0},s.r.rd=function(e){var t=this.da(s.Vd)||0;this.b.rd(e,t)},s.r.remove=function(e,t,n){var r=this;return e===s.k?this.b.remove(t,n):Ge(this,e,this.Nf.bind(this,e,t,n)).then((function(){if(e===s.Vd){var t=r.Ra(e),n=r.da(e);null!==t&&null!==n&&Y(r.m,t,n)}else e===s.Lb&&(t=r.m,t.a&&t.a.trigger(new s.O(s.Ob)))}))},s.r.clear=function(e){return e==s.k?this.b?(this.s.b(),this.b.remove(0,1/0)):Promise.resolve():Ge(this,e,this.Nf.bind(this,e,0,this.h.duration))},s.r.flush=function(e){return e==s.k?Promise.resolve():Ge(this,e,this.ef.bind(this,e))},s.r.endOfStream=function(e){var t=this;return qe(this,(function(){Ue(t)||(e?t.h.endOfStream(e):t.h.endOfStream())}))},s.r.Ab=function(e){var t=this;qe(this,(function(){t.h.duration=e}))},s.r.getDuration=function(){return this.h.duration},s.r.Gd=function(e,n){this.a.debug("Appending data to "+e+t);try{this.c[e].appendBuffer(n)}catch(r){throw this.a.warn("Failed to append data for "+e,r),r}this.a.debug("Done Appending data to "+e+t)},s.r.Nf=function(e,t,n){if(n<=t)this.kc(e);else{this.a.debug("Removing data from "+e+" range:",t,n);try{this.c[e].remove(t,n)}catch(r){throw this.a.warn("Failed to remove data from "+e+" buffer. Range:",t,n,r),r}this.a.debug("Done Removing data from "+e+" range:",t,n)}},s.r.Wf=function(e){try{this.a.debug("Aborting operations for "+e+t);var n=this.c[e].appendWindowStart,r=this.c[e].appendWindowEnd;this.c[e].abort(),this.c[e].appendWindowStart=n,this.c[e].appendWindowEnd=r}catch(i){throw this.a.warn("Failed to abort operations for "+e+t,i),i}this.a.debug("Done Aborting operations for "+e+t),this.kc(e)},s.r.ef=function(e){try{this.g.readyState>HTMLMediaElement.HAVE_NOTHING?(this.a.debug("Flushing buffer for "+e),this.g.currentTime-=.001):this.a.warn("Skip buffer flush for "+e+" with element state: "+this.g.readyState)}catch(t){throw this.a.warn("Failed to flush buffer for "+e,t),t}this.a.debug("Done Flushing buffer for "+e),this.kc(e)},s.r.Qf=function(e,t){0>t&&(t+=.001);try{this.a.debug("Setting timestamp offset for "+e,t),this.c[e].timestampOffset=t}catch(n){throw this.a.warn("Failed to set timestamp offset for "+e,t,n),n}this.a.debug("Done Setting timestamp offset for "+e,t),this.kc(e)},s.r.xj=function(e,t,n){try{this.a.debug("Setting append window for "+e,t,n),this.c[e].appendWindowStart=0,this.c[e].appendWindowEnd=n,this.c[e].appendWindowStart=t}catch(r){throw this.a.warn("Failed to set append window for "+e,t,n,r),r}this.a.debug("Done Setting append window for "+e,t,n),this.kc(e)},s.r.dh=function(e){this.f[e][0].p.reject(new s.J(s.K,3,3014,{mediaError:this.g.error?this.g.error.code:0}))},s.r.kc=function(e){var t=this.f[e][0];t&&(t.p.resolve(),this.a.debug("Update-End received for "+e),Je(this,e))},s.r.getTextDisplayer=function(){return this.l};var Vr=e.URL.createObjectURL;s.w(lt,s.S),s.r=lt.prototype,s.r.mb=function(e){this.a=e},s.r.release=function(){this.g=[],this.b.clear(),this.c.clear()},s.r.load=function(){},s.r.destroy=function(){this.release(),this.a=null},s.r.getVideoTracks=function(){return ft(this,s.vi)},s.r.getAudioTracks=function(){return ft(this,s.Q)},s.r.X=function(){return ft(this,s.P)},s.r.Z=function(){return this.b.get(s.vi)||null},s.r.ra=function(){return this.b.get(s.Q)||null},s.r.ia=function(){return this.b.get(s.P)||null},s.r.Ha=function(){return this.c.get(s.vi)||null},s.r.Fa=function(){return this.c.get(s.Q)||null},s.r.Ga=function(){return this.c.get(s.P)||null},s.r.ja=function(){return dt(this,s.vi)},s.r.ea=function(){return dt(this,s.Q)},s.r.ba=function(){return dt(this,s.P)},s.r.Da=function(e){ht(this,s.vi,e)},s.r.ma=function(e){ht(this,s.Q,e)},s.r.na=function(e){ht(this,s.P,e)},s.r.Ca=function(e,t){gt(this,s.vi,e,void 0!==t&&t)},s.r.Ka=function(e,t){gt(this,s.Q,e,void 0!==t&&t)},s.r.La=function(e,t){gt(this,s.P,e,void 0!==t&&t)},s.r.addTextTrack=function(e){var t=this;return s.A((function(n){return t.a?s.x(n,t.a.addTextTrack(e.url,e.language,e.kind,e.mimeType,e.codec,e.label),0):n.A(0)}))},s.r.ka=function(){return!!this.a&&this.a.ka()},lt.prototype.isAbrEnabled=lt.prototype.ka,lt.prototype.addTextTrack=lt.prototype.addTextTrack,lt.prototype.setTextRendition=lt.prototype.La,lt.prototype.setAudioRendition=lt.prototype.Ka,lt.prototype.setVideoRendition=lt.prototype.Ca,lt.prototype.setTextTrack=lt.prototype.na,lt.prototype.setAudioTrack=lt.prototype.ma,lt.prototype.setVideoTrack=lt.prototype.Da,lt.prototype.getTextTrack=lt.prototype.ba,lt.prototype.getAudioTrack=lt.prototype.ea,lt.prototype.getVideoTrack=lt.prototype.ja,lt.prototype.getLoadingTextRendition=lt.prototype.Ga,lt.prototype.getLoadingAudioRendition=lt.prototype.Fa,lt.prototype.getLoadingVideoRendition=lt.prototype.Ha,lt.prototype.getTextRendition=lt.prototype.ia,lt.prototype.getAudioRendition=lt.prototype.ra,lt.prototype.getVideoRendition=lt.prototype.Z,lt.prototype.getTextTracks=lt.prototype.X,lt.prototype.getAudioTracks=lt.prototype.getAudioTracks,lt.prototype.getVideoTracks=lt.prototype.getVideoTracks,s.r=s.wu.prototype,s.r.stop=function(){this.i=null,this.g=!1,this.h=[],this.f=null},s.r.init=function(e){this.i=e},s.r.chooseVariant=function(){var e=Tt(this.a.restrictions,this.h),t=St(this.c,this.a.defaultBandwidthEstimate);this.h.length&&!e.length&&(this.b.warn("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),e=Tt(null,this.h),e=[e[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],a=i.bandwidth/this.a.bandwidthDowngradeTarget,o=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;this.b.debug("Bandwidth ranges:",(i.bandwidth/1e6).toFixed(3),(a/1e6).toFixed(3),(o/1e6).toFixed(3)),t>=a&&t<=o&&(n=i)}return this.f=Date.now(),n},s.r.enable=function(){this.g=!0},s.r.disable=function(){this.g=!1},s.r.segmentDownloaded=function(e,t){this.b.debug("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.f,"enabled="+this.g);var n=this.c;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,s.bn(n.b,i,r),s.bn(n.c,i,r)}if(null!=this.f&&this.g)e:{if(this.b.debug("Suggesting Streams..."),this.j){if(Date.now()-this.f<1e3*this.a.switchInterval){this.b.debug("Still within switch interval...");break e}}else{if(!(128e3<=this.c.a)){this.b.debug("Still waiting for a good estimate...");break e}if(this.j=!0,this.a.useSwitchIntervalForInitialSwitch&&Date.now()-this.f<1e3*this.a.switchInterval){this.b.debug("Skipping initial estimation switch due to switch interval...");break e}}n=this.chooseVariant(),this.b.debug("Calling switch_(), bandwidth="+Math.round(St(this.c,this.a.defaultBandwidthEstimate)/1e3)+" kbps"),this.i(n)}},s.r.getBandwidthEstimate=function(){return St(this.c,this.a.defaultBandwidthEstimate)},s.r.setVariants=function(e){this.h=e},s.r.configure=function(e){this.a=e},s.r.reset=function(){this.j=!1,this.c=new wt;var e=this.chooseVariant();e&&this.i(e)},Et.prototype.clear=function(){this.a.clear()},At.prototype.add=function(e){return It(this.b,e)?(this.a.add(e),!0):(s.G("Rejecting variant - not compatible with root."),!1)},At.prototype.values=function(){return this.a.values()},Pt.prototype.create=function(e){var t=this,n=e.filter((function(e){return It(t.a,e)}));return n.length?new At(n[0],n):this.b.create(e)},Rt.prototype.create=function(e){var t=[];t=Dt(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&(e=Nt(t,this.b),e.length?t=e:s.G("No exact match for variant role could be found.")),this.a&&(e=tt(t,this.a),e.length?t=e:s.G("No exact match for the channel count could be found.")),e=new At(t[0]),t=s.u(t),n=t.next();!n.done;n=t.next())n=n.value,It(e.b,n)&&e.add(n);return e},Ot.prototype.getState=function(){return this.a};var Hr=0,Gr=1;Lt.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Lt.prototype.h=function(e){var t=this.a,n=this.c.periods;e=L(n,e)||n[0],t!=e&&this.b(e),this.a=e},_t.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},_t.prototype.set=function(e){this.c=e,Ut(this)},Bt.prototype.release=function(){this.c=null,this.a=function(){}},Ht.prototype.release=function(){this.c&&(this.c.release(),this.c=null),null!=this.h&&(this.h.stop(),this.h=null),this.b&&(this.b.release(),this.b=null),this.a=this.o=this.m=null,this.g=!1},Ht.prototype.jd=function(){this.i=!0,Gt(this)},Wt.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.h=function(){},this.a=null,this.f=function(){},this.g=!1},$t.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Zt.prototype.release=function(){this.f&&(this.f.release(),this.f=null),this.g&&(this.g.release(),this.g=null),this.i&&(this.i.stop(),this.i=null),this.c=this.f=this.a=this.h=null,this.l=function(){}},s.kv.prototype.destroy=function(){for(var e=s.u(this.f.values()),t=e.next();!t.done;t=e.next())Bn(t.value);return this.f.clear(),this.j.clear(),this.h=this.i=this.v=this.c=this.b=null,this.g=!0,Promise.resolve()},s.kv.prototype.start=function(){var e,t,n,r=this;return s.A((function(i){if(1==i.a){if(e=r.b.Xa(),t=On(r,e),n=r.b.ee(r.c.periods[t]),!n.variant&&!n.text)throw r.a.error("init: no Streams chosen"),new s.J(s.K,5,5005);return r.s=!n.variant&&!!n.text,s.x(i,gn(r,n.variant?n.variant.audio:null,n.variant?n.variant.video:null,n.text,e),2)}if(r.g)return i["return"]();r.a.debug("init: completed initial Stream setup"),r.b&&r.b.Oi&&(r.a.debug("init: calling onInitialStreamsSetup()..."),r.b.Oi()),s.y(i)}))},s.kv.prototype.C=function(e,t,n,r){var i=A(r.u),a=A(r.u),o=s.bh(r.u),u=s.bh(r.u),c=s.bh(r.u),l=s.bh(r.u);r=s.eh(r.u,r.u.ha()-r.u.getPosition()),e=e.startTime+t.startTime+u/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.b.Cf():this.b.onEvent(new te("emsg",{detail:{startTime:e,endTime:e+c/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:u,eventDuration:c,id:l,messageData:r}})))},s.kv.prototype.G=function(e){var t=this,n=!1,r=0;(new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("encv",(function(e){e.u.skip(78),s.hh(e)})).I("pasp",(function(e){r=e.start+e.Td;var i=s.bh(e.u),a=s.bh(e.u);n=i!==a,t.a.debug("hSpacing="+i+", vSpacing="+a+", updatePASP="+n),e.gb.stop()})).parse(e.data),n&&(e=new s.Ug(new DataView(e.data)),e.seek(r),s.N(e,1),s.N(e,1))},s.w(Hn,s.Gj),s.r=Hn.prototype,s.r.init=function(e,t){var n=e.F();s.Gj.prototype.init.call(this,e,t),Jn(this,n)},s.r.namespace=function(){return m},s.r.Ve=function(){return new lt},s.r.getState=function(){return this.U},s.r.getDrmInfo=function(){return this.g?this.g.getDrmInfo():null},s.r.unload=function(){var e=this;if(this.j){var t=this.getTrackManager();return t&&t.release(),this.m==Wr?Promise.resolve():qn(this).then((function(){e.log.debug(s.Ma,e.j),e.j=null,e.Dd=0,e.Qc=null,e.Y=null}))}return Promise.resolve()},s.r.release=function(){var e=this;return s.Gj.prototype.release.call(this).then((function(){return e.unload()})).then((function(){return Wn(e,s.qn)}))},s.r.getBufferInfo=function(e){if(this.s){var t=Be(this.s),n=new s.Ri(void 0,e);switch(e){case s.vi:return t.video?t.video:n;case s.Q:return t.audio?t.audio:n;case s.P:return t.text?t.text:n}return t.total?t.total:n}return this.sc?(t=J(this.sc),O(t,e)):s.Gj.prototype.getBufferInfo.call(this,e)},s.r.getPosition=function(){return this.i?en(this.i):s.Gj.prototype.getPosition.call(this)},s.r.getPresentationStartTime=function(){return this.a&&this.a.presentationTimeline.getPresentationStartTime()||0},s.r.getDuration=function(){return this.a?this.a.presentationTimeline.getDuration():1/0},s.r.destroy=function(){var e=this;return s.A((function(t){return 1==t.a?s.x(t,s.Gj.prototype.destroy.call(e),2):3!=t.a?e.m==Wr?t["return"]():(e.log.debug("Destroying player..."),e.m=Wr,s.x(t,zn(e),3)):(e.h&&(e.h.release(),e.h=null),e.c=null,void s.y(t))}))},s.r.load=function(e){var t,n,r,i,a=this;return s.A((function(o){switch(o.a){case 1:if(a.m==Wr)return o["return"](Promise.reject(new s.J(s.K,7,7e3)));if(a.v=new s.Mk,a.Cd=Date.now()/1e3,Wn(a,s.Bn),a.j=s.ql(e),s.Fj(e)&&(a.configuration=s.Ej(a.Oc,e)),a.log.info(s.xa,a.configuration),a.log.info(s.Ha,a.j),(t=a.getTrackManager())&&t.load(),n=a.getSurface().F(),n.loop=!!a.configuration.loop,s.C.H(a.configuration.volume)||a.setVolume(a.configuration.volume),s.C.H(a.configuration.muted)||a.setMuted(a.configuration.muted),a.o&&a.o.configure(a.configuration.manifest),a.g&&(a.g.f=s.Uk(a.configuration.drm)),a.b){a.b.h=a.configuration.streaming;try{a.a.periods.forEach(a.Md.bind(a))}catch(f){a.onError(f)}var u=un(a.b),c=cn(a.b),l=jr(a);u=rt(u,c,l.variants),a.c&&u&&u.allowedByApplication&&u.allowedByKeySystem?xr(a,l.variants):(a.log.debug("Choosing new streams after changing configuration"),kr(a,l))}return a.c&&(a.c.configure(a.configuration.abr),a.configuration.abr.enabled&&!a.C?a.c.enable():a.c.disable()),r=a.j[a.getSourceIndex()],s.Ae(o,2),s.x(o,Jn(a,n),4);case 4:return s.x(o,Yn(a,n),5);case 5:return s.x(o,$n(a,r),6);case 6:return s.x(o,Qn(a,r),7);case 7:return s.x(o,Zn(a),8);case 8:return s.x(o,er(a),9);case 9:s.Be(o,0);break;case 2:i=s.Ce(o),a.onError(i),s.y(o)}}))},s.r.isLive=function(){return!!this.a&&this.a.presentationTimeline.isLive()},s.r.Hf=function(){this.log.debug("User seeking finished"),or(this),Er(this)},s.r.getSeekRange=function(){if(this.a){var e=this.a.presentationTimeline;return{start:P(e,0),end:C(e)}}return{start:0,end:0}},s.r.getPlaybackRate=function(){if(this.qc){var e=this.qc;e=e.f?0:e.c}else e=0;return e},s.r.X=function(){if(this.a&&this.i){var e=jr(this);if(null==e)e=null;else{if(!xt(this.G,e).text){var t=s.Yt(e.textStreams,this.pa,this.oc);t.length&&(t=t[0],xt(this.G,e).text=t)}e=xt(this.G,e).text}t=[];for(var n=s.u(Lr(this)),r=n.next();!r.done;r=n.next()){r=r.value;var i=Ze(r);i.active=r==e,t.push(i)}return t}return[]},s.r.getThumbnailStreams=function(){if(this.a&&this.i){var e=jr(this);return e?e.thumbStreams:[]}return[]},s.r.getStats=function(){if(this.m!=Jr)return s.Nk();Er(this);var e=this.f;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.v,n=Number(e.totalVideoFrames);t.g=Number(e.droppedVideoFrames),t.f=n}return this.m==Jr&&((e=_r(this))&&(this.v.l=e.bandwidth),e&&e.video&&(t=this.v,n=e.video.height||NaN,t.c=e.video.width||NaN,t.b=n),e=this.c.getBandwidthEstimate(),this.v.h=e),this.v.getStats()},s.r.getTimelineCues=function(){return this.ua?Array.from(this.ua.a):[]},s.r.resetAbr=function(){this.c&&this.c.reset()},s.r.addTextTrack=function(e,t,n,r,i,a){var o,u,c,l,f,d,h,p,g,m=this;return s.A((function(v){if(1==v.a){if(m.m!=Jr)throw m.log.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");if(o=jr(m),u=s.Tk,c=m.a.periods.indexOf(o),l=c+1,f=l>=m.a.periods.length?m.a.presentationTimeline.getDuration():m.a.periods[l].startTime,d=f-o.startTime,1/0==d)throw new s.J(1,4,4040);return h=new s.Fn(1,0,d,(function(){return[e]}),0,null),p={id:m.rf++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?h:null},adjustSegmentDurations:function(){},getDuration:function(){return d},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:u.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},m.Rc.add(p),o.textStreams.push(p),s.x(v,ln(m.b,p),2)}return(g=s.mv(m.b,s.k))&&(xt(m.G,o).text=g),m.Rc["delete"](p),m.log.debug("Choosing new streams after adding a text stream"),kr(m,o),Cr(m),v["return"](Ze(p))}))},s.r.Md=function(e){var t=this.b?un(this.b):null,n=this.b?cn(this.b):null;if(Ye(this.g,t,n,e),t=e.variants,!t.some(et))throw new s.J(s.K,4,4011);if(Nr(this,e.variants),Xe(t,this.configuration.restrictions,this.qf)&&this.b&&jr(this)==e&&Cr(this),e=this.g?this.g.getDrmInfo():null)for(t=s.u(t),n=t.next();!n.done;n=t.next()){n=s.u(n.value.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==e.keySystem){r=s.u(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,s.qk(this.g,i.initDataType,i.initData)}}},s.r.ah=function(e){this.log.debug(s.ds,e);try{this.log.debug("onChooseStreams_, choosing variant from ",e.variants),this.log.debug("onChooseStreams_, choosing text from ",e.textStreams);var t=Ar(this,e);return this.log.debug("onChooseStreams_, chose variant ",t.variant),this.log.debug("onChooseStreams_, chose text ",t.text),t}catch(n){return this.onError(n),{variant:null,text:null}}},s.r.$g=function(){this.log.debug("canSwitch_"),this.C=!1,this.configuration.abr.enabled&&this.c.enable(),this.R&&(fn(this.b,this.R,this.lf,this.jf),this.R=null),this.K&&(s.vv(this.b,this.K,!0,0),this.K=null)},s.r.bh=function(){this.o&&this.o.update&&this.o.update()},s.r.Zi=function(){this.i&&this.i.g.jd()},s.r.lg=function(e){var t=jr(this),n=t.variants.some((function(t){return(t=t[e.type])&&t.id!==e.id}))&&this.ka();if(n){for(var r=s.u(t.variants),i=r.next();!i.done;i=r.next()){i=i.value;var a=i[e.type];a&&a.id===e.id&&(i.allowedByApplication=!1)}Cr(this),kr(this,t)}return n},s.r.Mi=function(){this.log.debug("endOfStream called by streaming engine")},s.r.onError=function(e){if(this.m!==Wr){var t=new s.O(s.yc,{detail:e});e.a===s.K&&Wn(this,s.Wk),this.trigger(t),t.defaultPrevented&&(t.b=!0)}},s.r.Fd=function(e){e.type===s.sc?this.dispatchEvent(new s.O(s.sc,{keySystem:this.g.keySystem(),Lh:s.vk(this.g)})):"largegap"!==e.type&&(e.type===s.be?Tr(this):"emsg"!==e.type&&(e instanceof s.O?this.dispatchEvent(e):this.log.debug("Unhandled/ignored event",e.type)))},s.r.ka=function(){return this.configuration.abr.enabled};var Wr=0,qr=1,Jr=2,zr=[b,s.Gc];Ur.prototype.canPlay=function(e){if(s.wh("CrKey"))return!1;var t=e.type||"",n=a(e.fc)!==s.Sb||e.fc;return(t!==s.ml||!n||!s.yh())&&(n=s.th(),e=s.vo.N(e.url,t),!(!n||!e))},Ur.prototype.create=function(){return new Hn},Ur.prototype.create=Ur.prototype.create,Ur.prototype.canPlay=Ur.prototype.canPlay,s.ai(new Ur)};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else r=[n("3f2b")],i=function(e){return s=e._,u.call(o,this),o}.apply(t,r),void 0===i||(e.exports=i)})()},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5cc6":function(e,t,n){var r=n("74e8");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5db7":function(e,t,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("1c0b"),u=n("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=o(n.length);return s(e),t=u(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"5f96":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(i(this),arguments)}))},"5fb2":function(e,t,n){"use strict";var r=2147483647,i=36,a=1,o=26,s=38,u=700,c=72,l=128,f="-",d=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=i-a,m=Math.floor,v=String.fromCharCode,b=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},y=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?m(e/u):e>>1,e+=m(e/t);e>g*o>>1;r+=i)e=m(e/g);return m(r+(g+1)*e/(e+s))},S=function(e){var t=[];e=b(e);var n,s,u=e.length,d=l,h=0,g=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(v(s));var S=t.length,T=S;S&&t.push(f);while(T<u){var E=r;for(n=0;n<e.length;n++)s=e[n],s>=d&&s<E&&(E=s);var x=T+1;if(E-d>m((r-h)/x))throw RangeError(p);for(h+=(E-d)*x,d=E,n=0;n<e.length;n++){if(s=e[n],s<d&&++h>r)throw RangeError(p);if(s==d){for(var k=h,A=i;;A+=i){var I=A<=g?a:A>=g+o?o:A-g;if(k<I)break;var M=k-I,C=i-I;t.push(v(y(I+M%C))),k=m(M/C)}t.push(v(y(k))),g=w(h,x,T==S),h=0,++T}}++h,++d}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(h,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(d.test(n)?"xn--"+S(n):n);return r.join(".")}},6062:function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"60bd":function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("e260"),o=n("b622"),s=o("iterator"),u=r.Uint8Array,c=a.values,l=a.keys,f=a.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,p=u&&u.prototype[s],g=!!p&&("values"==p.name||void 0==p.name),m=function(){return c.call(d(this))};h("entries",(function(){return f.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",m,!g),h(s,m,!g)},"621a":function(e,t,n){"use strict";var r=n("da84"),i=n("83ab"),a=n("a981"),o=n("9112"),s=n("e2cc"),u=n("d039"),c=n("19aa"),l=n("a691"),f=n("50c4"),d=n("0b25"),h=n("77a7"),p=n("e163"),g=n("d2bb"),m=n("241c").f,v=n("9bf2").f,b=n("81d5"),y=n("d44e"),w=n("69f3"),S=w.get,T=w.set,E="ArrayBuffer",x="DataView",k="prototype",A="Wrong length",I="Wrong index",M=r[E],C=M,P=r[x],R=P&&P[k],D=Object.prototype,N=r.RangeError,O=h.pack,L=h.unpack,j=function(e){return[255&e]},_=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},K=function(e){return O(e,23,4)},F=function(e){return O(e,52,8)},V=function(e,t){v(e[k],t,{get:function(){return S(this)[t]}})},H=function(e,t,n,r){var i=d(n),a=S(e);if(i+t>a.byteLength)throw N(I);var o=S(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+t);return r?u:u.reverse()},G=function(e,t,n,r,i,a){var o=d(n),s=S(e);if(o+t>s.byteLength)throw N(I);for(var u=S(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(a){if(!u((function(){M(1)}))||!u((function(){new M(-1)}))||u((function(){return new M,new M(1.5),new M(NaN),M.name!=E}))){C=function(e){return c(this,C),new M(d(e))};for(var W,q=C[k]=M[k],J=m(M),z=0;J.length>z;)(W=J[z++])in C||o(C,W,M[W]);q.constructor=C}g&&p(R)!==D&&g(R,D);var X=new P(new C(2)),Y=R.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(R,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){c(this,C,E);var t=d(e);T(this,{bytes:b.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},P=function(e,t,n){c(this,P,x),c(e,C,x);var r=S(e).byteLength,a=l(t);if(a<0||a>r)throw N("Wrong offset");if(n=void 0===n?r-a:f(n),a+n>r)throw N(A);T(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(V(C,"byteLength"),V(P,"buffer"),V(P,"byteLength"),V(P,"byteOffset")),s(P[k],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){G(this,1,e,j,t)},setUint8:function(e,t){G(this,1,e,j,t)},setInt16:function(e,t){G(this,2,e,_,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){G(this,2,e,_,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){G(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){G(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){G(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){G(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});y(C,E),y(P,x),e.exports={ArrayBuffer:C,DataView:P}},"649e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").some,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6566:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),u=n("2266"),c=n("7dd0"),l=n("2626"),f=n("83ab"),d=n("f183").fastKey,h=n("69f3"),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[c],e,n)})),h=g(t),m=function(e,t,n){var r,i,a=h(e),o=v(e,t);return o?o.value=n:(a.last=o={index:i=d(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=v(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),a(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},6993:function(e,t,n){"use strict";var r=n("3314"),i=n.n(r);i.a},"6d61":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),u=n("2266"),c=n("19aa"),l=n("861d"),f=n("d039"),d=n("1c7e"),h=n("d44e"),p=n("7156");e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",b=i[e],y=b&&b.prototype,w=b,S={},T=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(m||y.forEach&&!f((function(){(new b).entries().next()})))))w=n.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var E=new w,x=E[v](m?{}:-0,1)!=E,k=f((function(){E.has(1)})),A=d((function(e){new b(e)})),I=!m&&f((function(){var e=new b,t=5;while(t--)e[v](t,t);return!e.has(-0)}));A||(w=t((function(t,n){c(t,w,e);var r=p(new b,t,w);return void 0!=n&&u(n,r[v],r,g),r})),w.prototype=y,y.constructor=w),(k||I)&&(T("delete"),T("has"),g&&T("get")),(I||x)&&T(v),m&&y.clear&&delete y.clear}return S[e]=w,r({global:!0,forced:w!=b},S),h(w,e),m||n.setStrong(w,e,g),w}},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=a(t),u=i(s),c=u.length,l=0,f=[];while(c>l)n=u[l++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=r},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},"72f7":function(e,t,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,i=n("d039"),a=n("da84"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,c=[].join;i((function(){u.call({})}))&&(u=function(){return c.call(this)});var l=s.toString!=u;r("toString",u,l)},"735e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("81d5"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("fill",(function(e){return i.apply(a(this),arguments)}))},"73d9":function(e,t,n){var r=n("44d2");r("flatMap")},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},"74e8":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("83ab"),o=n("8aa7"),s=n("ebb5"),u=n("621a"),c=n("19aa"),l=n("5c6c"),f=n("9112"),d=n("50c4"),h=n("0b25"),p=n("182d"),g=n("c04e"),m=n("5135"),v=n("f5df"),b=n("861d"),y=n("7c73"),w=n("d2bb"),S=n("241c").f,T=n("a078"),E=n("b727").forEach,x=n("2626"),k=n("9bf2"),A=n("06cf"),I=n("69f3"),M=n("7156"),C=I.get,P=I.set,R=k.f,D=A.f,N=Math.round,O=i.RangeError,L=u.ArrayBuffer,j=u.DataView,_=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,B=s.TypedArray,K=s.TypedArrayPrototype,F=s.aTypedArrayConstructor,V=s.isTypedArray,H="BYTES_PER_ELEMENT",G="Wrong length",W=function(e,t){var n=0,r=t.length,i=new(F(e))(r);while(r>n)i[n]=t[n++];return i},q=function(e,t){R(e,t,{get:function(){return C(this)[t]}})},J=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},z=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return z(e,t=g(t,!0))?l(2,e[t]):D(e,t)},Y=function(e,t,n){return!(z(e,t=g(t,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};a?(_||(A.f=X,k.f=Y,q(K,"buffer"),q(K,"byteOffset"),q(K,"byteLength"),q(K,"length")),r({target:"Object",stat:!0,forced:!_},{getOwnPropertyDescriptor:X,defineProperty:Y}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,l="set"+e,g=i[s],m=g,v=m&&m.prototype,k={},A=function(e,t){var n=C(e);return n.view[u](t*a+n.byteOffset,!0)},I=function(e,t,r){var i=C(e);n&&(r=(r=N(r))<0?0:r>255?255:255&r),i.view[l](t*a+i.byteOffset,r,!0)},D=function(e,t){R(e,t,{get:function(){return A(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};_?o&&(m=t((function(e,t,n,r){return c(e,m,s),M(function(){return b(t)?J(t)?void 0!==r?new g(t,p(n,a),r):void 0!==n?new g(t,p(n,a)):new g(t):V(t)?W(m,t):T.call(m,t):new g(h(t))}(),e,m)})),w&&w(m,B),E(S(g),(function(e){e in m||f(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,r){c(e,m,s);var i,o,u,l=0,f=0;if(b(t)){if(!J(t))return V(t)?W(m,t):T.call(m,t);i=t,f=p(n,a);var g=t.byteLength;if(void 0===r){if(g%a)throw O(G);if(o=g-f,o<0)throw O(G)}else if(o=d(r)*a,o+f>g)throw O(G);u=o/a}else u=h(t),o=u*a,i=new L(o);P(e,{buffer:i,byteOffset:f,byteLength:o,length:u,view:new j(i)});while(l<u)D(e,l++)})),w&&w(m,B),v=m.prototype=y(K)),v.constructor!==m&&f(v,"constructor",m),U&&f(v,U,s),k[s]=m,r({global:!0,forced:m!=g,sham:!_},k),H in m||f(m,H,a),H in v||f(v,H,a),x(s)}):e.exports=function(){}},"77a7":function(e,t){var n=1/0,r=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,u=function(e,t,u){var c,l,f,d=new Array(u),h=8*u-t-1,p=(1<<h)-1,g=p>>1,m=23===t?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,b=0;for(e=r(e),e!=e||e===n?(l=e!=e?1:0,c=p):(c=a(o(e)/s),e*(f=i(2,-c))<1&&(c--,f*=2),e+=c+g>=1?m/f:m*i(2,1-g),e*f>=2&&(c++,f/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*f-1)*i(2,t),c+=g):(l=e*i(2,g-1)*i(2,t),c=0));t>=8;d[b++]=255&l,l/=256,t-=8);for(c=c<<t|l,h+=t;h>0;d[b++]=255&c,c/=256,h-=8);return d[--b]|=128*v,d},c=function(e,t){var r,a=e.length,o=8*a-t-1,s=(1<<o)-1,u=s>>1,c=o-7,l=a-1,f=e[l--],d=127&f;for(f>>=7;c>0;d=256*d+e[l],l--,c-=8);for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;r=256*r+e[l],l--,c-=8);if(0===d)d=1-u;else{if(d===s)return r?NaN:f?-n:n;r+=i(2,t),d-=u}return(f?-1:1)*r*i(2,d-t)};e.exports={pack:u,unpack:c}},"78fe":function(e,t,n){var r,i;n("99af"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("a434"),n("b0c0"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="BANDWIDTH",n="CLOSED-CAPTIONS",r="EXT-X-BYTERANGE",i="EXT-X-ENDLIST",a="EXT-X-MEDIA-SEQUENCE",s="EXT-X-PLAYLIST-TYPE",u="EXT-X-STREAM-INF",c="EXT-X-TARGETDURATION",l="GROUP-ID",f="Guessing audio-only",d="SUBTITLES",h="URI",p="application/mp4",g=function(e,t){var n=new o.He(new o.De(t));return o.pe&&(0,o.pe)(n,e.prototype),n},m=function(e,t){return t=void 0===t?0:t,t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]},v=function(e,t,n,r){this.c=e,this.type=t,this.a=n,this.b=r||null},b=function(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r},y=function(e,t){this.name=e,this.value=t},w=function(e,t,n){return(e=e.getAttribute(t))?e.value:n||null},S=function(e,t){var n=e.getAttribute(t);if(!n)throw new o.J(o.K,4,4023,t);return n.value},T=function(e,t){this.b=t,this.a=e},E=function(){this.a=0},x=function(e,t,n){t=o.ef(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var r=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new o.J(o.K,4,4015);t=0;for(var i=!0,a=o.u(r),s=a.next();!s.done;s=a.next())if(s=s.value,s=s.trim(),!s.length||le.Wd(s)||i)i=!1;else{if(s=A(e,s),--e.a,fe.includes(s.name)){t=1;break}s.name==u&&(i=!0)}a=[],i=!0,s=o.u(ce(r));for(var c=s.next();!c.done;c=s.next()){var l=c.value;c=l.kf;var f=l.item;if(l=l.next,f=f.trim(),!f.length||le.Wd(f)||i)i=!1;else{if(f=A(e,f),de.includes(f.name)){if(1!=t)throw new o.J(o.K,4,4017);return r=r.splice(c,r.length-c),e=k(e,n,r,a),new v(n,t,a,e)}a.push(f),f.name==u&&(f.a.push(new y(h,l)),i=!0)}}return new v(n,t,a)},k=function(e,t,n,r){var i=[],a=[];return n.forEach((function(n){/^(#EXT)/.test(n)?(n=A(e,n),fe.includes(n.name)?r.push(n):a.push(n)):le.Wd(n)||(n=le.Yc(t,n.trim()),i.push(new T(n,a)),a=[])})),i},A=function(e,t){var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new o.J(o.K,4,4016,{invalidTag:t});var i,a=r[1],s=r[2];if(r=[],s){var u;s=new o.jg(s),(u=o.kg(s,/^([^,=]+)(?:,|$)/g))&&(i=u[1]);for(var c=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;u=o.kg(s,c);)r.push(new y(u[1],u[2]||u[3]))}return new b(n,a,r,i)},I=function(){var e=this;this.f=this.h=null,this.Y=1,this.j=new Map,this.U=new Set,this.b=new Map,this.c=null,this.m="",this.C=new E,this.S=0,this.l=new o.Ef((function(){ae(e)})),this.g=me,this.w=null,this.J=0,this.K=1/0,this.o=new o.xj,this.R=[],this.B=new Map,this.v=!1,this.i=new Map,this.G=null,this.a=new o.H("clpp.hls.HlsParser"),this.s=new Map},M=function(e,t){var n,r,s,u,c,l,f,d,h,p;return o.A((function(g){if(1==g.a)return n=le,r=ye,s=t.Xf,o.x(g,re(e,s),2);if(3!=g.a){if(u=g.b,c=x(e.C,u.data,u.uri),1!=c.type)throw new o.J(o.K,4,4017);return f=(l=n.Gb(c.a,a))?Number(l.value):0,d=t.stream,o.x(g,q(e,t.sd,c,f,d.type,d.mimeType,d.codecs,d.keyInfo),3)}h=g.b,t.yb.replace(h),p=h[h.length-1],n.Gb(c.a,i)&&(oe(e,r.VOD),e.c.Ab(p.endTime)),o.y(g)}))},C=function(e,n){var r,i,a,s,c,l,f,d,p,g,m,w,S,T,E,k,A,I,M,C,R;return o.A((function(D){if(1==D.a){if(r=x(e.C,n,e.m),1===r.type){e.s.set(e.m,r),i=r.b[0].a,a=o.Tk,s=new o.kj(i),c=s.fa.split(".").pop(),l=pe[a.AUDIO][c],f=pe[a.VIDEO][c],d=[],f&&d.push("avc1.42E01E"),l&&d.push("mp4a.40.2");var N=e.C,O=e.m,L=d.join(","),j=[],_=[];_.push(new y(t,"0")),_.push(new y(h,O)),L.length&&_.push(new y("CODECS",L)),j.push(new b(N.a++,u,_)),r=new v(O,0,j)}return o.x(D,P(e,r.a),2)}if(p=D.b,!e.h)throw new o.J(o.K,7,7001);for(e.h.filterAllPeriods([p]),g=1/0,m=0,w=1/0,S=o.u(e.b.values()),T=S.next();!T.done;T=S.next())E=T.value,g=Math.min(g,E.ae),m=Math.max(m,E.ae),E.stream.type!=o.k&&(w=Math.min(w,E.duration));if(e.g!=me?(e.c=new o.Gn(0,3*e.J,!0),e.c.b=!1):(e.c=new o.Gn(null,0,!0),e.c.b=!0),W(e),e.g!=me){for(e.S=e.K,k=ye,e.g!==k.LIVE||isNaN(e.f.availabilityWindowOverride)||(e.c.Sb=e.f.availabilityWindowOverride),A=0;95443.7176888889<=m;)A+=95443.7176888889,m-=95443.7176888889;if(A)for(e.a.debug("Offsetting live streams by",A,"to compensate for rollover"),I=o.u(e.b.values()),T=I.next();!T.done;T=I.next())M=T.value,95443.7176888889>M.ae?(e.a.debug("Offset applied to",M.stream.type),M.stream.presentationTimeOffset=-A,M.yb.offset(A)):e.a.debug("Offset NOT applied to",M.stream.type)}else for(e.c.Ab(w),e.c.offset(-g),C=o.u(e.b.values()),T=C.next();!T.done;T=C.next())R=T.value,R.stream.presentationTimeOffset=g,R.yb.offset(-g),o.On(R.yb,w);e.w={presentationTimeline:e.c,periods:[p],offlineSessionIds:[],minBufferTime:0},o.y(D)}))},P=function(e,t){var r,i,a,s,c;return o.A((function(f){switch(f.a){case 1:r=le,i=r.yc(t,"EXT-X-MEDIA"),a=r.yc(t,u);for(var h=o.u(a),p=h.next();!p.done;p=h.next()){var g=p.value,m=w(g,"AUDIO");p=w(g,"VIDEO");var v=w(g,d);if(g=B(e,g),v){var b=Z(o.k,g);e.i.set(v,b),o.vg(g,b)}m&&(v=ee(o.Lb,g),e.i.set(m,v)),p&&(m=ee(o.Vd,g),e.i.set(p,m))}return o.x(f,D(e,i),2);case 2:for(h=le.bf(i,n),h=o.u(h),p=h.next();!p.done;p=h.next())p=p.value,m=w(p,"LANGUAGE")||o.Md,m=o.Xm(m),v=S(p,l),p=S(p,"INSTREAM-ID"),e.B.get(v)||e.B.set(v,new Map),e.B.get(v).set(p,m);return o.x(f,N(e,a),3);case 3:return s=f.b,o.x(f,R(e,i),4);case 4:return c=f.b,f["return"]({startTime:0,variants:s,textStreams:c,thumbStreams:[]})}}))},R=function(e,t){var n,r,i,a,s,u,c,f,h,p,g,m;return o.A((function(v){if(1==v.a)return n=le.bf(t,d),r=n.map((function(t){var n,r;return o.A((function(i){if(1==i.a)return o.Ae(i,2),o.x(i,U(e,t),4);if(2!=i.a)return n=i.b,i["return"](n.stream);throw r=o.Ce(i),r}))})),o.x(v,Promise.all(r),2);for(i=v.b,a=o.u(n),s=a.next();!s.done;s=a.next())if(u=s.value,c=S(u,l),(f=e.i.get(c))&&(h=e.j.get(c)))for(p=o.u(h),g=p.next();!g.done;g=p.next())m=g.value,m.stream.codecs=f;return v["return"](i.filter((function(e){return e})))}))},D=function(e,t){var n;return o.A((function(r){return 1==r.a?(t=t.filter((function(e){var t=w(e,h)||"";return w(e,"TYPE")!==d&&""!==t})),t.length?o.x(r,U(e,t[0]),2):r.A(2)):(n=t.slice(1).map((function(t){return U(e,t)})),o.x(r,Promise.all(n),0))}))},N=function(e,n){var r,i,a,s,u,c,l;return o.A((function(f){if(1==f.a)return r=o.Dk,n.sort((function(e,n){var r=Number(S(e,t)),i=Number(S(n,t));return r-i})),i=function(n){var r,i,a,s,u,c,l;return o.A((function(f){return 1==f.a?(r=w(n,"FRAME-RATE"),i=Number(S(n,t)),a=w(n,"RESOLUTION"),s=o.u(a?a.split("x"):[null,null]),u=s.next().value,c=s.next().value,o.x(f,O(e,n,a,r),2)):(l=f.b)?f["return"](j(e,l.audio,l.video,i,u,c,r)):f["return"]([])}))},o.x(f,i(n[0]),2);if(3!=f.a){for(a=f.b,s=[],u=1;u<n.length;u++)s.push(i(n[u]));return o.x(f,Promise.all(s),3)}return c=f.b,l=c.reduce(r.Jd,a),l=l.filter((function(e){return null!=e})),f["return"](l)}))},O=function(e,t,n,r){var i,a,s,u,c,l,d,p,g,m,v,b,y,T;return o.A((function(E){if(1==E.a)return i=o.Tk,a=B(e,t),s=w(t,"AUDIO"),u=w(t,"VIDEO"),l=(c=s||u)&&e.j.has(c)?e.j.get(c):[],d={audio:s?l:[],video:u?l:[]},e.a.debug("Guessing stream type for",t.toString()),g=!1,m=S(t,h),v=d.audio.find((function(e){return e.sd===m})),b=Z(i.VIDEO,a),y=n||r||b,1!==a.length||y?!l.length&&1<a.length?(e.a.debug("Guessing multiplexed audio+video"),p=i.VIDEO,a=[a.join(",")]):d.audio.length&&v?(e.a.debug(f),p=i.AUDIO,g=!0):d.video.length?(e.a.debug(f),p=i.AUDIO):(e.a.debug("Guessing video-only"),p=i.VIDEO):(p=i.AUDIO,e.a.debug(f)),g?E.A(2):o.x(E,K(e,t,a,p),3);if(2!=E.a&&(T=E.b),T)d[T.stream.type]=[T];else if(null===T)return e.a.debug("streamInfo is null"),E["return"](null);return L(d),E["return"](d)}))},L=function(e){e=o.u(e.audio.concat(e.video));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}},j=function(e,t,n,r,i,a,s){n.forEach((function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(s)||void 0)})),t.length||(t=[null]),n.length||(n=[null]);var u=[];t=o.u(t);for(var c=t.next();!c.done;c=t.next()){c=c.value;for(var l=o.u(n),f=l.next();!f.done;f=l.next()){var d=f.value;f=c?c.stream:null;var h=d?d.stream:null,p=c?c.drmInfos:null,g=d?d.drmInfos:null;d=(d?d.sd:"")+" - "+(c?c.sd:"");var m=void 0;if(f&&h){if(!o.Ck(p,g)){e.a.warn("Incompatible DRM info in HLS variant.  Skipping.");continue}m=o.Bk(p,g)}else f?m=p:h&&(m=g);e.U.has(d)?e.a.debug("Skipping variant which only differs in text streams."):(f=_(e,f,h,r,m),u.push(f),e.U.add(d))}}return u},_=function(e,t,n,r,i){return{id:e.Y++,language:t?t.language:o.Md,primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}},U=function(e,t){var n,r,i,a,s,u,c,f,d,p,g,m,v;return o.A((function(b){return 1==b.a?(n=S(t,l),r="",i=S(t,"TYPE").toLowerCase(),a=o.Tk,i==o.Gd&&(i=a.TEXT),i!==a.TEXT&&n&&e.i.has(n)&&(r=e.i.get(n)),s=S(t,h),e.b.has(s)?b["return"](e.b.get(s)):(u=o.Xm(w(t,"LANGUAGE",o.Md)),c=w(t,"NAME"),f=t.getAttribute("DEFAULT"),d=t.getAttribute("AUTOSELECT"),p=w(t,"CHANNELS"),g=i==o.Lb&&p?parseInt(p.split("/")[0],10):null,m=!!f&&!!d,o.x(b,F(e,s,r,i,u,m,c,g,null),2))):(v=b.b,null==v?b["return"](null):(e.j.has(n)?e.j.get(n).push(v):e.j.set(n,[v]),e.b.has(s)?b["return"](e.b.get(s)):(e.b.set(s,v),b["return"](v))))}))},B=function(e,t){var n=w(t,"CODECS","avc1.42E01E,mp4a.40.2").split(/\s*,\s*/),r=new Set,i=[];n=o.u(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var s=o.fg(a)[0];r.has(s)?e.a.debug("Ignoring duplicate codec"):(i.push(a),r.add(s))}return i},K=function(e,t,r,i){var a,s,u,c,l,f;return o.A((function(d){return 1==d.a?(a=o.Tk,s=S(t,h),e.b.has(s)?d["return"](e.b.get(s)):(u=w(t,n),c=null,i==a.VIDEO&&u&&"NONE"!=u&&(c=e.B.get(u)),l=ee(i,r),o.x(d,F(e,s,l,i,o.Md,!1,null,null,c),2))):(f=d.b,null==f?d["return"](null):e.b.has(s)?d["return"](e.b.get(s)):(e.b.set(s,f),d["return"](f)))}))},F=function(e,t,n,r,i,s,u,c,l){var f,d,p,g,m,v,b,y,T,E,k,A,I,M,C,P,R,D,N,O,L,j,_,U,B,K,F,G,W;return o.A((function(J){switch(J.a){case 1:if(f=le,d=f.Yc(e.m,t),e.g==me&&e.s.has(d)){p=e.s.get(d),e.s["delete"](d),J.A(2);break}return o.x(J,re(e,d),3);case 3:m=J.b,d=m.uri,p=x(e.C,m.data,d);case 2:if(1!=p.type)throw new o.J(o.K,4,4017);for(v=[],p.b.forEach((function(e){e=f.yc(e.b,"EXT-X-KEY"),v.push.apply(v,e)})),b=!1,y=[],T=null,E=o.u(v),k=E.next();!k.done;k=E.next())A=k.value,I=S(A,"METHOD"),M=w(A,"KEYFORMAT","identity"),"NONE"!=I&&("AES-128"==I?(C=w(A,"IV",""),P=f.Yc(e.m,S(A,h)),g={method:"AES-128",url:P,iv:C?o.Pj((C||"0x").slice(2)):null},e.v=!0):(b=!0,(D=(R=ge[M])?R(A):null)?(D.keyIds.length&&(T=D.keyIds[0]),y.push(D)):e.a.warn("Unsupported HLS KEYFORMAT",M)));if(b&&!y.length&&!e.v)throw new o.J(o.K,4,4026);return V(e,p),o.x(J,te(e,r,n,p),4);case 4:return N=J.b,L=(O=f.Gb(p.a,a))?Number(O.value):0,o.x(J,q(e,t,p,L,r,N,n,g),5);case 5:return j=J.b,_=j[0].startTime,U=j[j.length-1].endTime,B=U-_,K=new o.Mn(j),F=H(p,g),G=void 0,r==o.k&&(G=o.Fd),W={id:e.Y++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:K.find.bind(K),getSegmentReference:K.get.bind(K),adjustSegmentDurations:K.ac.bind(K),getDuration:K.getDuration.bind(K),initSegmentReference:F,presentationTimeOffset:0,mimeType:N,codecs:n,kind:G,encrypted:b,keyId:T,language:i,label:u,type:r,primary:s,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:c,closedCaptions:l,keyInfo:g},J["return"]({stream:W,yb:K,drmInfos:y,sd:t,Xf:d,ae:_,$j:U,duration:B})}}))},V=function(e,t){var n=le.Gb(t.a,s),r=le.Gb(t.a,i);r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r?oe(e,me):(oe(e,n?be:ve),r=ne(t.a,c),r=Number(r.value),e.J=Math.max(r,e.J),e.K=Math.min(r,e.K))},H=function(e,t){var n=le.yc(e.a,"EXT-X-MAP");if(!n.length)return null;if(1<n.length)throw new o.J(o.K,4,4020);var r=n[0];n=S(r,h);var i=le.Yc(e.c,n);n=0;var a=null;return(r=w(r,"BYTERANGE"))&&(n=r.split("@"),r=Number(n[0]),n=Number(n[1]),a=n+r-1),new o.En((function(){return[i]}),n,a,t)},G=function(e,t,n,i,a){var s=t.b,u=t.a;t=ne(s,"EXTINF").value.split(","),t=i+Number(t[0]);var c=0,l=null;return(s=le.Gb(s,r))&&(c=s.value.split("@"),s=Number(c[0]),c=c[1]?Number(c[1]):e.ga+1,l=c+s-1),a&&!a.iv&&(a.iv=o.Sj(new Uint8Array(12),new Uint8Array([n>>24&255,n>>16&255,n>>8&255,255&n]))),new o.Fn(n,i,t,(function(){return[u]}),c,l,a)},W=function(e){e.c&&(e.R.forEach((function(t){o.In(e.c,t,0)})),e.R=[])},q=function(e,t,n,r,i,a,s,u){var c,l,f,d,h,p,g,m,v,b,y,w;return o.A((function(S){if(1==S.a)return c=n.b,l=[],f=c[0].a,d=G(null,c[0],r,0,u||null),h=H(n,u||null),o.x(S,J(e,t,h,d,i,a,s),2);for(p=S.b,e.a.debug("First segment",f.split("/").pop(),"starts at",p),g=0;g<c.length;++g)m=c[g],v=l[l.length-1],b=0==g?p:v.endTime,y=r+g,w=G(v,m,y,b,u||null),l.push(w);return e.R.push(l),W(e),S["return"](l)}))},J=function(e,t,n,r,i,a,s){var u;return o.A((function(c){return 1==c.a?null!==e.G?(e.a.debug("Reusing cached start time for",i),c.A(2)):(u=e,o.x(c,X(e,t,n,r,a,s),3)):(2!=c.a&&(u.G=c.b,e.a.debug("Fetched start time for",i)),c["return"](e.G))}))},z=function(e,t){var n,r,i,a,s,u,c;return o.A((function(l){switch(l.a){case 1:return n=t.a(),r=o.Ym(t.za(),t.ta,t.ta+2048-1,e.f.attemptParameters),r.type=o.lo,i=o.Ym(t.za(),t.ta,t.ga,e.f.attemptParameters),i.type=o.lo,n&&(i.keyInfo=n),o.Ae(l,2),a=e.v?i:r,o.x(l,se(e,a),4);case 4:return s=l.b,l["return"](s);case 2:if(u=o.Ce(l),7001==u.code||e.v)throw u;return e.a.warn("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),o.x(l,se(e,i),5);case 5:return c=l.b,l["return"](c)}}))},X=function(e,t,n,r,i,a){var s,u,c,l,f,d,h,p,g,v,b;return o.A((function(y){switch(y.a){case 1:if(e.w){if(s=e.b.get(t),u=s.yb,c=u.get(r.position))return e.a.debug("Found segment start time in previous manifest"),y["return"](c.startTime);e.a.debug("Unable to find segment start time in previous manifest!")}if(e.a.debug("Fetching segment to find start time"),"audio/mpeg"==i)return y["return"](0);if("audio/aac"!=i){y.A(2);break}return o.x(y,z(e,r),3);case 3:return l=y.b,f=o.cf(l.data),m(f)?y["return"](Q(f)):y["return"]($(l.data));case 2:if(i!=o.Xd&&i!=o.Mb){y.A(4);break}return d=[z(e,r)],n&&d.push(z(e,n)),o.x(y,Promise.all(d),5);case 5:return h=y.b,p=h[0],g=h[1]||h[0],y["return"](Y(e,p.data,g.data));case 4:if(i!=o.Wd){y.A(6);break}return o.x(y,z(e,r),7);case 7:return v=y.b,y["return"]($(v.data));case 6:if("audio/eac3"===i||"audio/ac3"===i)return y["return"](0);if(b=ie,!b(i,a))return y["return"](0);throw new o.J(o.K,4,4030)}}))},Y=function(e,t,n){var r=0;if((new o.gh).I("moov",o.hh).I("trak",o.hh).I("mdia",o.hh).W("mdhd",(function(e){e.u.skip(0==e.version?8:16),r=o.bh(e.u),e.gb.stop()})).parse(n,!0),!r)throw e.a.error("Unable to find timescale in init segment!"),new o.J(o.K,4,4030);var i=0,a=!1;if((new o.gh).I("moof",o.hh).I("traf",o.hh).W("tfdt",(function(e){i=(0==e.version?o.bh(e.u):o.dh(e.u))/r,a=!0,e.gb.stop()})).parse(t,!0),!a)throw new o.J(o.K,4,4030);return i},$=function(e){function t(){r.seek(i+188),a=o.$g(r),71!=a&&(r.seek(i+192),a=o.$g(r)),71!=a&&(r.seek(i+204),a=o.$g(r)),71!=a&&n(),o.fh(r)}function n(){throw new o.J(o.K,4,4030)}for(var r=new o.Xg(new DataView(e),!1),i=0,a=0;;)if(i=r.getPosition(),a=o.$g(r),71!=a&&n(),e=o.ah(r),8191===(8191&e))t();else if(16384&e){if(e=(48&o.$g(r))>>4,0!=e&&2!=e||n(),3==e&&(e=o.$g(r),r.skip(e)),1==o.bh(r)>>8){r.skip(3),e=o.$g(r)>>6,0!=e&&1!=e||n(),0==o.$g(r)&&n(),e=o.$g(r);var s=o.ah(r),u=o.ah(r);return(1073741824*((14&e)>>1)+((65534&s)<<14|(65534&u)>>1))/9e4}t()}else t()},Q=function(e){function t(e,t,n){for(var r="";t<n;t++)r+="%"+("00"+e[t].toString(16)).slice(-2);return r}function n(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}function r(){throw new o.J(o.K,4,4030)}m(e)||r();var i=10;64&e[5]&&(i=i+4+n(e.subarray(10,14)));do{var a=n(e.subarray(i+4,i+8));1>a&&r();var s=String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]);if("PRIV"===s){s=e.subarray(i+10,i+a+10);for(var u=0;u<s.byteLength;u++)if(0===s[u]){if("com.apple.streaming.transportStreamTimestamp"===unescape(t(s,0,u)))return e=s.subarray(u+1),a=(1&e[3])<<30|e[4]<<22|e[5]<<14|e[6]<<6|e[7]>>>2,a*=4,a+=3&e[7],Math.round(a/9e4);break}}m(e,i)||r(),i+=10,i+=a}while(i<e.byteLength);return r()},Z=function(e,t){for(var n=he[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return e==o.k?"":null},ee=function(e,t){if(1==t.length)return t[0];var n=Z(e,t);if(null!=n)return n;throw new o.J(o.K,4,4025,{codecList:t})},te=function(e,t,n,r){var i,a,s,u,c,l,f,d,h;return o.A((function(g){if(1==g.a)return i=o.Tk,a=r.b[0].a,s=new o.kj(a),u=s.fa.split(".").pop(),c=pe[t],(l=c[u])?g["return"](l):t==i.TEXT?n&&"vtt"!=n?g["return"](p):g["return"](o.Id):(f=o.Ci([a],e.f.attemptParameters),f.method="HEAD",f.type=o.lo,o.x(g,se(e,f),2));if(d=g.b,h=d.headers["content-type"],!h)throw new o.J(o.K,4,4021,u);return g["return"](h.split(";")[0])}))},ne=function(e,t){var n=le.Gb(e,t);if(!n)throw new o.J(o.K,4,4024,{missingTag:t});return n},re=function(e,t){var n=o.Ci([t],e.f.attemptParameters);return n.type=1,se(e,n)},ie=function(e,t){return MediaSource.isTypeSupported((e.split("/")[0]||"")+'/mp4;codecs="'+t+'"')},ae=function(e){var t,n;o.A((function(r){return 1==r.a?(e.a.info(o.$a),e.h?(o.Ae(r,2),o.x(r,e.update(),4)):r["return"]()):2!=r.a?(t=e.S,e.l.P(t),o.Be(r,0)):(n=o.Ce(r),n.ib(1),e.h.onError(n),e.l.P(.1),void o.y(r))}))},oe=function(e,t){e.g=t,e.c&&(e.c.b=e.g==me),e.g!=me||e.l.stop()},se=function(e,t){if(!e.o)throw new o.J(o.K,7,7001);var n=e.h.networkingEngine.fetch(t);return o.Vm(e.o,n),n.promise},ue=function(){},ce=function e(t){var n,r,i,a,s,u;return g(e,(function(e){return 1==e.a&&(n=-1,i=r=void 0,a=o.u(t),s=a.next()),5!=e.a?s.done?-1===n?e.A(0):o.x(e,{kf:n,mj:r,item:i,next:void 0},0):(u=s.value,0<=n?o.x(e,{kf:n,item:i,mj:r,next:u},5):e.A(5)):(n++,r=i,i=u,s=a.next(),e.A(2))}))};b.prototype.toString=function(){function e(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}var t="#"+this.name,n=this.a?this.a.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},b.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var le={yc:function(e,t){return e.filter((function(e){return e.name==t}))},bf:function(e,t){return e.filter((function(e){return S(e,"TYPE")===t}))},Gb:function(e,t){var n=le.yc(e,t);return n.length?n[0]:null},Xj:function(e,t,n){return e.filter((function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute(l),r.value==t&&e.value==n}))},Yc:function(e,t){return o.Ek([e],[t])[0]},Wd:function(e){return/^#(?!EXT)/m.test(e)}},fe=[c,a,"EXT-X-DISCONTINUITY-SEQUENCE",s,"EXT-X-MAP","EXT-X-I-FRAMES-ONLY",i],de=["EXTINF",r,"EXT-X-DISCONTINUITY","EXT-X-PROGRAM-DATE-TIME","EXT-X-KEY","EXT-X-DATERANGE"];o.r=I.prototype,o.r.configure=function(e){this.f=e},o.r.start=function(e,t){var n,r,i=this;return o.A((function(a){return 1==a.a?(i.h=t,o.x(a,re(i,e),2)):3!=a.a?(n=a.b,i.m=n.uri,o.x(a,C(i,n.data),3)):(r=i.S,0<r&&i.l.P(r),a["return"](i.w))}))},o.r.stop=function(){this.l&&(this.l.stop(),this.l=null);var e=[];return this.o&&(e.push(this.o.destroy()),this.o=null),this.f=this.h=null,this.U.clear(),this.b.clear(),this.s.clear(),this.w=null,this.j.clear(),this.i.clear(),Promise.all(e)},o.r.update=function(){var e,t,n,r=this;return o.A((function(i){if(1==i.a)return r.g==me?i["return"]():(e=[],r.G=null,t=Array.from(r.b.values()),t.length?o.x(i,M(r,t[0]),2):i.A(2));for(n=1;n<t.length;++n)e.push(M(r,t[n]));return o.x(i,Promise.all(e),0)}))},o.r.onExpirationUpdated=function(){};var he={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},pe={audio:{mp4:o.Mb,m4s:o.Mb,m4i:o.Mb,m4a:o.Mb,cmfa:o.Mb,ts:o.Wd,aac:"audio/aac",ec3:"audio/eac3",ac3:"audio/ac3"},video:{mp4:o.Xd,m4s:o.Xd,m4i:o.Xd,m4v:o.Xd,cmfv:o.Xd,ts:o.Wd},text:{mp4:p,m4s:p,m4i:p,cmft:p,vtt:o.Id,ttml:o.Fb}},ge={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=S(e,"METHOD"),n=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return n.includes(t)?(t=S(e,h),t=o.Ti.parse(t),t=o.cf(t.data),t=o.Fk(o.kc,[{initDataType:o.Zb,initData:t}]),(e=w(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):(o.af("Widevine in HLS is only supported with [",n.join(", "),"], not",t),null)}},me="VOD",ve="EVENT",be="LIVE",ye={VOD:me,Jj:ve,LIVE:be};o.w(ue,o.fl),ue.prototype.rb=function(){o.vo.od("m3u8",I),o.vo.Gc(o.ml,I),o.vo.Gc(o.Gb,I)},ue.prototype.hb=function(){o.vo.ne("m3u8"),o.vo.pd(o.ml),o.vo.pd(o.Gb)},ue.prototype.id=function(){return"clpp.component.hls"},o.B("clpp.hls.HlsComponent",ue)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else r=[n("3f2b")],i=function(e){return o=e._,s.call(a,this),a}.apply(t,r),void 0===i||(e.exports=i)}()},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,a=n("44d2"),o=n("ae40"),s="find",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4");e.exports=function(e){var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)t[s++]=e;return t}},"82f8":function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},"84c3":function(e,t,n){var r=n("74e8");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"8a79":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".endsWith,f=Math.min,d=u("endsWith"),h=!c&&!d&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!d},{endsWith:function(e){var t=String(s(this));o(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:f(a(n),r),u=String(e);return l?l.call(t,u,i):t.slice(i-u.length,i)===u}})},"8aa7":function(e,t,n){var r=n("da84"),i=n("d039"),a=n("1c7e"),o=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},9129:function(e,t,n){var r=n("23e7");r({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},"92fa":function(e,t){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,t){var i,a,o,s,u;for(o in t)if(i=e[o],a=t[o],i&&n.test(o))if("class"===o&&("string"===typeof i&&(u=i,e[o]=i={},i[u]=!0),"string"===typeof a&&(u=a,t[o]=a={},a[u]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in a)i[s]=r(i[s],a[s]);else if(Array.isArray(i))e[o]=i.concat(a);else if(Array.isArray(a))e[o]=[i].concat(a);else for(s in a)i[s]=a[s];else e[o]=t[o];return e}),{})}},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),a=n("0d3b"),o=n("6eeb"),s=n("e2cc"),u=n("d44e"),c=n("9ed3"),l=n("69f3"),f=n("19aa"),d=n("5135"),h=n("0366"),p=n("f5df"),g=n("825a"),m=n("861d"),v=n("7c73"),b=n("5c6c"),y=n("9a1f"),w=n("35a1"),S=n("b622"),T=i("fetch"),E=i("Headers"),x=S("iterator"),k="URLSearchParams",A=k+"Iterator",I=l.set,M=l.getterFor(k),C=l.getterFor(A),P=/\+/g,R=Array(4),D=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(D(n--),N);return t}},L=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},_=function(e){return j[e]},U=function(e){return encodeURIComponent(e).replace(L,_)},B=function(e,t){if(t){var n,r,i=t.split("&"),a=0;while(a<i.length)n=i[a++],n.length&&(r=n.split("="),e.push({key:O(r.shift()),value:O(r.join("="))}))}},K=function(e){this.entries.length=0,B(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){I(this,{type:A,iterator:y(M(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),H=function(){f(this,H,k);var e,t,n,r,i,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(I(l,{type:k,entries:h,updateURL:function(){},updateSearchParams:K}),void 0!==c)if(m(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(i=y(g(r.value)),a=i.next,(o=a.call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}}else for(u in c)d(c,u)&&h.push({key:u,value:c[u]+""});else B(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},G=H.prototype;s(G,{append:function(e,t){F(arguments.length,2);var n=M(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);var t=M(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){F(arguments.length,1);var t=M(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,r=M(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)n=i[u],n.key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=M(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=M(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(G,x,G.entries),o(G,"toString",(function(){var e,t=M(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(U(e.key)+"="+U(e.value));return n.join("&")}),{enumerable:!0}),u(H,k),r({global:!0,forced:!a},{URLSearchParams:H}),a||"function"!=typeof T||"function"!=typeof E||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,p(n)===k&&(r=t.headers?new E(t.headers):new E,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:b(0,String(n)),headers:b(0,r)}))),i.push(t)),T.apply(this,i)}}),e.exports={URLSearchParams:H,getState:M}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),u=n("50c4"),c=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),h=n("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=f("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},w=!v||!b;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,a,o=s(this),f=l(o,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],y(a)){if(i=u(a.length),d+i>g)throw TypeError(m);for(n=0;n<i;n++,d++)n in a&&c(f,d,a[n])}else{if(d>=g)throw TypeError(m);c(f,d++,a)}return f.length=d,f}})},"9a1f":function(e,t,n){var r=n("825a"),i=n("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9a8c":function(e,t,n){"use strict";var r=n("ebb5"),i=n("145e"),a=r.aTypedArray,o=r.exportTypedArrayMethod;o("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},a078:function(e,t,n){var r=n("7b0b"),i=n("50c4"),a=n("35a1"),o=n("e95a"),s=n("0366"),u=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,l,f,d,h=r(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=a(h);if(void 0!=v&&!o(v)){f=v.call(h),d=f.next,h=[];while(!(l=d.call(f)).done)h.push(l.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),n=i(h.length),c=new(u(this))(n),t=0;n>t;t++)c[t]=m?g(h[t],t):h[t];return c}},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,u=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a2bf:function(e,t,n){"use strict";var r=n("e8b5"),i=n("50c4"),a=n("0366"),o=function(e,t,n,s,u,c,l,f){var d,h=u,p=0,g=!!l&&a(l,f,3);while(p<s){if(p in n){if(d=g?g(n[p],p,t):n[p],c>0&&r(d))h=o(e,t,d,i(d.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}p++}return h};e.exports=o},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),u=n("65f0"),c=n("8418"),l=n("1dde"),f=n("ae40"),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var n,r,l,f,d,h,b=s(this),y=o(b.length),w=i(e,y),S=arguments.length;if(0===S?n=r=0:1===S?(n=0,r=y-w):(n=S-2,r=g(p(a(t),0),y-w)),y+n-r>m)throw TypeError(v);for(l=u(b,r),f=0;f<r;f++)d=w+f,d in b&&c(l,f,b[d]);if(l.length=r,n<r){for(f=w;f<y-r;f++)d=f+r,h=f+n,d in b?b[h]=b[d]:delete b[h];for(f=y;f>y-r+n;f--)delete b[f-1]}else if(n>r)for(f=y-r;f>w;f--)d=f+r-1,h=f+n-1,d in b?b[h]=b[d]:delete b[h];for(f=0;f<n;f++)b[f+w]=arguments[f+2];return b.length=y-r+n,l}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),s=n("83ab"),u=n("4930"),c=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),h=n("861d"),p=n("825a"),g=n("7b0b"),m=n("fc6a"),v=n("c04e"),b=n("5c6c"),y=n("7c73"),w=n("df75"),S=n("241c"),T=n("057f"),E=n("7418"),x=n("06cf"),k=n("9bf2"),A=n("d1e7"),I=n("9112"),M=n("6eeb"),C=n("5692"),P=n("f772"),R=n("d012"),D=n("90e3"),N=n("b622"),O=n("e538"),L=n("746f"),j=n("d44e"),_=n("69f3"),U=n("b727").forEach,B=P("hidden"),K="Symbol",F="prototype",V=N("toPrimitive"),H=_.set,G=_.getterFor(K),W=Object[F],q=i.Symbol,J=a("JSON","stringify"),z=x.f,X=k.f,Y=T.f,$=A.f,Q=C("symbols"),Z=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[F]||!re[F].findChild,ae=s&&l((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=z(W,t);r&&delete W[t],X(e,t,n),r&&e!==W&&X(W,t,r)}:X,oe=function(e,t){var n=Q[e]=y(q[F]);return H(n,{type:K,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ue=function(e,t,n){e===W&&ue(Z,t,n),p(e);var r=v(t,!0);return p(n),f(Q,r)?(n.enumerable?(f(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:b(0,!1)})):(f(e,B)||X(e,B,b(1,{})),e[B][r]=!0),ae(e,r,n)):X(e,r,n)},ce=function(e,t){p(e);var n=m(t),r=w(n).concat(pe(n));return U(r,(function(t){s&&!fe.call(n,t)||ue(e,t,n[t])})),e},le=function(e,t){return void 0===t?y(e):ce(y(e),t)},fe=function(e){var t=v(e,!0),n=$.call(this,t);return!(this===W&&f(Q,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,B)&&this[B][t])||n)},de=function(e,t){var n=m(e),r=v(t,!0);if(n!==W||!f(Q,r)||f(Z,r)){var i=z(n,r);return!i||!f(Q,r)||f(n,B)&&n[B][r]||(i.enumerable=!0),i}},he=function(e){var t=Y(m(e)),n=[];return U(t,(function(e){f(Q,e)||f(R,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Y(t?Z:m(e)),r=[];return U(n,(function(e){!f(Q,e)||t&&!f(W,e)||r.push(Q[e])})),r};if(u||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===W&&n.call(Z,e),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),ae(this,t,b(1,e))};return s&&ie&&ae(W,t,{configurable:!0,set:n}),oe(t,e)},M(q[F],"toString",(function(){return G(this).tag})),M(q,"withoutSetter",(function(e){return oe(D(e),e)})),A.f=fe,k.f=ue,x.f=de,S.f=T.f=he,E.f=pe,O.f=function(e){return oe(N(e),e)},s&&(X(q[F],"description",{configurable:!0,get:function(){return G(this).description}}),o||M(W,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),U(w(ne),(function(e){L(e)})),r({target:K,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(g(e))}}),J){var ge=!u||l((function(){var e=q();return"[null]"!=J([e])||"{}"!=J({a:e})||"{}"!=J(Object(e))}));r({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,J.apply(null,i)}})}q[F][V]||I(q[F],V,q[F].valueOf),j(q,K),R[B]=!0},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-primary is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-5-tablet is-4-desktop is-3-widescreen"},[n("div",{staticClass:"box"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Email")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:"e.g. bobsmith@gmail.com"},domProps:{value:e.input.email},on:{input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),e._m(0)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Password")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._m(1)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Platform")]),n("div",{staticClass:"control has-icons-right"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.platform,expression:"platform"}],staticClass:"input",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.platform=t.target.multiple?n:n[0]}}},[n("option",[e._v("prod")]),n("option",[e._v("preprod")])]),e._m(2)])]),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-success",on:{click:function(t){return e.login()}}},[e._v(" Login ")])])])])])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-envelope"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])}],a=(n("99af"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),o=n("5530"),s=n("2f62"),u={name:"Login",data:function(){return{input:{email:"",password:""}}},computed:{platform:{get:function(){return localStorage.getItem("platform")},set:function(e){localStorage.setItem("platform",e)}}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["fetchWishList","fetchMovieRentals"])),{},{getAuthToken:function(e){var t=this;return new Promise((function(n,r){var i=new Headers;i.append("Authorization","Basic ".concat(t.$parent.raaAuth)),i.append("Content-Type","application/x-www-form-urlencoded");var a=new URLSearchParams;a.append("raa_token",e),a.append("grant_type","raa_token");var o={method:"POST",headers:i,body:a,redirect:"follow"};fetch("https://hfozhlnmfh.execute-api.ap-southeast-2.amazonaws.com/v1/auth/tokens",o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},signIn:function(){var e=this;return new Promise((function(t,n){var r=new Headers;r.append("Authorization","Basic ".concat(e.$parent.basicAuth));var i={method:"POST",headers:r,redirect:"follow"};fetch("https://services.bigpond.com/rest/v1/AuthenticationService/authenticate?authToken=".concat(e.input.password,"&userIdentifier=").concat(e.input.email,"&userIdentifierType=EMAIL"),i).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.signIn();case 3:return n=t.sent,t.next=6,e.getAuthToken(n.data.artifactValue);case 6:r=t.sent,console.log(r),r.access_token&&(localStorage.setItem("authData",JSON.stringify(r)),e.$parent.authenticated=!0,e.fetchMovieRentals({authData:r}),e.$router.replace({name:"Assets"})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$parent.authenticated=!1;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}})},c=u,l=(n("d6db"),n("2877")),f=Object(l["a"])(c,r,i,!1,null,null,null);t["default"]=f.exports},a623:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").every,a=n("a640"),o=n("ae40"),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},a965:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showModal&&e.asset.images?n("div",{staticClass:"is-active modal",style:"--hero-image: url("+e.asset.images[0].url+");"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-content"},[n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container is-fullhd"},[n("h1",{staticClass:"has-text-light is-size-1 title has-text-left"},[e._v(" "+e._s(e.asset.displayTitle)+" ")]),n("h2",{staticClass:"has-text-light is-size-5 sub-title has-text-left"},[e._v(" "+e._s(e.asset.descriptionShort)+" ")]),n("div",{staticClass:"pt-5 has-text-left"},[e.asset.availability?n("button",{staticClass:"button is-white mr-4",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.availability.embedCode,posterImg:e.asset.images[0].url},query:{offerId:e.asset.availability.offerId}})}}},[e._v(" Watch ")]):e._e(),e.asset.trailer?n("button",{staticClass:"button is-white",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.trailer.embedCode,posterImg:e.asset.images[0].url}})}}},[e._v(" Watch Trailer ")]):e._e()])])])])]),n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){return e.closeModal()}}})]):e._e()},i=[],a=(n("99af"),n("4de4"),n("d3b7"),{props:["assetId"],data:function(){return{asset:Object,showModal:!1,authData:null}},watch:{$route:function(e,t){var n=this;this.asset=e.params.assetId,this.getAsset(this.assetId,this.authData).then((function(e){n.asset=e[0];var t=e[0].availability.filter((function(e){return e.isEntitled}));n.asset.availability=t[0]})),this.showModal=e.meta&&t.meta.showModal}},mounted:function(){var e=this;this.authData=JSON.parse(localStorage.getItem("authData")),this.asset=this.assetId,this.getAsset(this.assetId,this.authData).then((function(t){e.asset=t[0];var n=t[0].availability.filter((function(e){return e.isEntitled}));e.asset.availability=n[0]})),this.showModal=!0},methods:{closeModal:function(){this.showModal=!1},getAsset:function(e,t){return new Promise((function(n,r){var i=new Headers;i.append("Authorization","Bearer ".concat(t.access_token)),i.append("Content-Type","application/json");var a={method:"GET",headers:i,redirect:"follow"};fetch("https://hfozhlnmfh.execute-api.ap-southeast-2.amazonaws.com/v1/ttvbo/assets/".concat(e,"?attributes=*&uuid=").concat(t.uuid),a).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))}}}),o=a,s=(n("ecda"),n("2877")),u=Object(s["a"])(o,r,i,!1,null,null,null);t["default"]=u.exports},a975:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").every,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9e3:function(e,t,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),f=n("d039"),d=n("7c73"),h=n("241c").f,p=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,v="Number",b=i[v],y=b.prototype,w=u(d(y))==v,S=function(e){var t,n,r,i,a,o,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>i)return NaN;return parseInt(a,r)}return+c};if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var T,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(w?f((function(){y.valueOf.call(n)})):u(n)!=v)?c(new b(S(t)),n,E):S(t)},x=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)s(b,T=x[k])&&!s(E,T)&&g(E,T,p(b,T));E.prototype=y,y.constructor=E,o(i,v,E)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},aff5:function(e,t,n){var r=n("23e7");r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b39a:function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("d039"),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!o&&a((function(){c.call(new o(1))})),d=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),d)},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),o=n("d039"),s=o((function(){a(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return a(i(e))}})},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("a691"),a=n("408a"),o=n("1148"),s=n("d039"),u=1..toFixed,c=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},d=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,n,r,s,u=a(this),d=i(e),h=[0,0,0,0,0,0],p="",g="0",m=function(e,t){var n=-1,r=t;while(++n<6)r+=e*h[n],h[n]=r%1e7,r=c(r/1e7)},v=function(e){var t=6,n=0;while(--t>=0)n+=h[t],h[t]=c(n/e),n=n%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(t=f(u*l(2,69,1))-69,n=t<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),r=d;while(r>=7)m(1e7,0),r-=7;m(l(10,r,1),0),r=t-1;while(r>=23)v(1<<23),r-=23;v(1<<r),m(1,1),v(2),g=b()}else m(0,n),m(1<<-t,0),g=b()+o.call("0",d);return d>0?(s=g.length,g=p+(s<=d?"0."+o.call("0",d-s)+g:g.slice(0,s-d)+"."+g.slice(s-d))):g=p+g,g}})},baa5:function(e,t,n){var r=n("23e7"),i=n("e58c");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c19f:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("621a"),o=n("2626"),s="ArrayBuffer",u=a[s],c=i[s];r({global:!0,forced:c!==u},{ArrayBuffer:u}),o(s)},c1ac:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").filter,a=n("4840"),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod;u("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,u=t.length,c=new(s(n))(u);while(u>r)c[r]=t[r++];return c}))},c1c5:function(e,t,n){var r,i;n("fb6a"),n("c19f"),n("d3b7"),n("143c"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t=function(e){var t=void 0===t?1/0:t;return s.bf(e,t,Int32Array)},n=function(){this.l=[0,1,2,4,8,16,32,64,128,27,54],this.m=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.g=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.j=new Uint32Array(256),this.h=new Uint32Array(256),this.i=new Uint32Array(0),this.c=this.a=this.f=this.b=null;var e=this.j,t=this.h,n=this.m,r=n[0],i=n[1],a=n[2];n=n[3];var o=this.g,s=o[0],u=o[1],c=o[2];o=o[3];var l,f=new Uint32Array(256),d=0,h=0;for(l=0;256>l;l++)f[l]=128>l?l<<1:l<<1^283;for(l=0;256>l;l++){var p=h^h<<1^h<<2^h<<3^h<<4;p=p>>>8^255&p^99,e[d]=p,t[p]=d;var g=f[d],m=f[g],v=f[m],b=257*f[p]^16843008*p;r[d]=b<<24|b>>>8,i[d]=b<<16|b>>>16,a[d]=b<<8|b>>>24,n[d]=b,b=16843009*v^65537*m^257*g^16843008*d,s[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,c[p]=b<<8|b>>>24,o[p]=b,d?(d=g^f[f[f[v^g]]],h^=f[f[h]]):d=h=1}},r=function(e){e=new DataView(e);for(var t=new Uint32Array(4),n=0;4>n;n++)t[n]=e.getUint32(4*n);return t},i=function(){this.a=null},o=function(){this.b=this.c=null,this.h=this.uj.bind(this),this.g={},this.a=null,this.f=new s.H("clpp.crypto")},u=function(e,t){var n,r;return s.A((function(i){return 1==i.a?e.g[t]?i["return"](e.g[t]):(n=s.Ci(t),s.x(i,e.b.fetch(n).promise,2)):(r=i.b,e.g[t]=r.data,i["return"](r.data))}))},c=function(e,t,n){var r,i,a,o;return s.A((function(c){switch(c.a){case 1:return r=new ArrayBuffer(0),s.Ae(c,2),s.x(c,u(e,n.url),4);case 4:r=c.b,s.Be(c,3);break;case 2:return i=s.Ce(c),e.f.debug("Could not fetch key"),e.c.onError(new s.J(1,7,7104,null,i)),c["return"](t);case 3:return s.Ae(c,5),s.x(c,e.a.importKey(r),7);case 7:return s.x(c,e.a.decrypt(t,n.iv.buffer),8);case 8:return a=c.b,c["return"](a);case 5:return o=s.Ce(c),e.f.warn("Could not decrypt segment data!",o),e.c.onError(new s.J(1,3,3103,null,o)),c["return"](t)}}))};n.prototype.importKey=function(e){e=r(e);for(var t=!0,n=0;n<e.length&&t;)t=e[n]===this.i[n],n++;if(t)return new Promise((function(e){return e()}));if(this.i=e,this.a=e.length,4!==this.a&&6!==this.a&&8!==this.a)throw Error("Invalid aes key size="+this.a);this.c=4*(this.a+7),this.b=new Uint32Array(this.c),this.f=new Uint32Array(this.c),t=this.j;var i=this.l,a=this.g;n=a[0];var o=a[1],s=a[2],u=a[3];for(a=0;a<this.c;a++)if(a<this.a)var c=this.b[a]=e[a];else 0===a%this.a?(c=c<<8|c>>>24,c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c],c^=i[a/this.a|0]<<24):6<this.a&&4===a%this.a&&(c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c]),c=(this.b[a-this.a]^c)>>>0,this.b[a]=c;for(e=0;e<this.c;e++)a=this.c-e,c=3&e?this.b[a]:this.b[a-4],this.f[e]=4>e||4>=a?c:n[t[c>>>24]]^o[t[c>>>16&255]]^s[t[c>>>8&255]]^u[t[255&c]],this.f[e]>>>=0;return new Promise((function(e){return e()}))},n.prototype.decrypt=function(e,n){var i=0,a=this.a+6,o=this.f,s=this.h,u=this.g,c=u[0],l=u[1],f=u[2];u=u[3];var d=r(n),h=d[0],p=d[1],g=d[2];d=d[3];for(var m,v,b,y,w,S,T,E,x,k,A,I,M,C=t(e),P=new Int32Array(C.length),R=this.o.bind(this);i<C.length;){for(E=R(C[i]),x=R(C[i+1]),k=R(C[i+2]),A=R(C[i+3]),w=E^o[0],S=A^o[1],T=k^o[2],y=x^o[3],I=4,M=1;M<a;M++)m=c[w>>>24]^l[S>>16&255]^f[T>>8&255]^u[255&y]^o[I],v=c[S>>>24]^l[T>>16&255]^f[y>>8&255]^u[255&w]^o[I+1],b=c[T>>>24]^l[y>>16&255]^f[w>>8&255]^u[255&S]^o[I+2],y=c[y>>>24]^l[w>>16&255]^f[S>>8&255]^u[255&T]^o[I+3],w=m,S=v,T=b,I+=4;m=s[w>>>24]<<24^s[S>>16&255]<<16^s[T>>8&255]<<8^s[255&y]^o[I],v=s[S>>>24]<<24^s[T>>16&255]<<16^s[y>>8&255]<<8^s[255&w]^o[I+1],b=s[T>>>24]<<24^s[y>>16&255]<<16^s[w>>8&255]<<8^s[255&S]^o[I+2],y=s[y>>>24]<<24^s[w>>16&255]<<16^s[S>>8&255]<<8^s[255&T]^o[I+3],I+=3,P[i]=R(m^h),P[i+1]=R(y^p),P[i+2]=R(b^g),P[i+3]=R(v^d),h=E,p=x,g=k,d=A,i+=4}return new Promise((function(e){var t=P.buffer,n=t.byteLength,r=n&&new DataView(t).getUint8(n-1);t=r?t.slice(0,n-r):t,e(t)}))},n.prototype.destroy=function(){return this.l=this.f=this.b=this.g=this.m=this.h=this.j=this.c=this.a=this.i=null,new Promise((function(e){return e()}))},n.prototype.o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},i.prototype.importKey=function(e){var t,n=this;return s.A((function(r){if(1==r.a)return t=n,s.x(r,crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"]),2);t.a=r.b,s.y(r)}))},i.prototype.decrypt=function(e,t){var n,r=this;return s.A((function(i){return 1==i.a?s.x(i,crypto.subtle.decrypt({name:"AES-CBC",iv:t},r.a,e),2):(n=i.b,i["return"](n))}))},i.prototype.destroy=function(){return this.a=null,new Promise((function(e){return e()}))},s.w(o,s.fl),s.r=o.prototype,s.r.rb=function(e){this.c=e},s.r.hb=function(){this.c=null},s.r.vc=function(){if(e.crypto&&e.crypto.subtle){var t=e.crypto.subtle.decrypt;t=a(e.crypto.subtle.importKey)===s.Bc&&a(t)===s.Bc}else t=!1;t?this.a=new i:(this.f.warn("No WebCrypto APIs found. Will fallback to software AES"),this.a=new n),this.b=this.c.getNetworkEngine(),this.b.zd(this.h)},s.r.release=function(){this.b&&this.b.oe(this.h),this.a&&(this.a.destroy(),this.a=null),this.b=null,this.g={}},s.r.id=function(){return"clpp.component.crypto"},s.r.uj=function(e){var t,n,r=this;return s.A((function(i){return 1==i.a?(t=e.request||null,t&&t.type===s.lo&&t.keyInfo&&e.data?(r.f.debug("Decrypt data"),n=e,s.x(i,c(r,e.data,t.keyInfo),4)):i.A(2)):(2!=i.a&&(n.data=i.b),i["return"](e))}))},s.B("clpp.crypto.CryptoComponent",o)};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else r=[n("3f2b")],i=function(e){return s=e._,u.call(o,this),o}.apply(t,r),void 0===i||(e.exports=i)})()},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,a=n("44d2"),o=n("ae40"),s="findIndex",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},ca91:function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").left,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,n){var r=n("23e7"),i=n("81d5"),a=n("44d2");r({target:"Array",proto:!0},{fill:i}),a("fill")},cd26:function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=i(t).length,r=o(n/2),a=0;while(a<r)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},d139:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").find,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d28b:function(e,t,n){var r=n("746f");r("iterator")},d570:function(e,t,n){var r,i;n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="Channel parsing failure! Ignoring scheme and value",n="ContentProtection",r="EssentialProperty",i="SegmentBase does not contain sufficient segment information:",a="SegmentList does not contain sufficient segment information:",u="SegmentTemplate does not contain sufficient segment information:",c="SegmentTimeline",l='The last "S" element cannot have a negative repeat',f="duration",d='ignoring the remaining "S" elements.',h="presentationTimeOffset",p="schemeIdUri",g="static",m="timescale",v="urn:microsoft:playready",b="urn:mpeg:cenc:2013",y="urn:mpeg:dash:utc:http-head:2014",w="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",S="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",T=function(e){return new o.Yk(Promise.reject(e),(function(){return Promise.resolve()}))},E=function(e){return new o.Yk(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},x=function(e,t){return e.find((function(e){return Se.get(e.xb)===t}))},k=function(e){var t=o.M.cd(e.node,v,"pro");return t?(e=o.Oj(t.textContent),e=o.lm(e),e=o.hm(e.a),{keyId:null,xb:S,node:document.createElement("null"),init:[{initData:o.em(e),initDataType:o.Zb,keyId:null}]}):(o.G("Missing <ms:pro/> node in ContentProtection element",e),null)},A=function(e){var t=o.M.cd(e.node,b,"pssh");if(!t)return o.G("Missing <cenc:pssh/> node in ContentProtection element",e),null;e=o.Oj(t.textContent),e=new o.Xg(new DataView(e.buffer),!1),e.skip(12),e.skip(16),e.skip(4),t=o.$g(e),o.fh(e),8===t&&e.skip(2),o.$g(e),t=o.$g(e);for(var n=new Uint8Array(t),r=0;r<t;r++)n[r]=o.$g(e);return e=o.Qj(n),e=o.hm(e).a,t=o.Pj(e),t=o.jm(t),n=o.mf(t),t=o.cf(o.of('<WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"><DATA><PROTECTINFO><KEYLEN>'+t.byteLength+"</KEYLEN><ALGID>AESCTR</ALGID></PROTECTINFO><KID>"+n+"</KID></DATA></WRMHEADER>",!0)),e=new o.im(o.km,e,null,t),{keyId:null,xb:w,node:document.createElement("null"),init:[{initData:o.em(e),initDataType:o.Zb,keyId:null}]}},I=function(e,t){var n=P(e),r=null,i=[],a=[],s=x(n,o.kc),u=x(n,o.jc);if(u&&!s){var c=k(u);c&&n.push(c)}if(s&&!u&&(s=A(s))&&n.push(s),s=new Set(n.map((function(e){return e.keyId}))),s["delete"](null),1<s.size)throw new o.J(o.K,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.xb||(r=e.init||r,!1)})),a.length&&(i=C(r,a),0==i.length&&(i=[o.Fk("",r)]))),n.length&&(t||!a.length))for(i=[],n=o.u(Se.values()),a=n.next();!a.done;a=n.next())a=a.value,a!=o.ad&&i.push(o.Fk(a,r));if(n=Array.from(s)[0]||null)for(a=o.u(i),s=a.next();!s.done;s=a.next())for(s=o.u(s.value.initData),u=s.next();!u.done;u=s.next())u.value.keyId=n;return{We:n,Vj:r,drmInfos:i,df:!0}},M=function(e,t,n){var r=I(e,n);if(t.df)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==r.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=r.drmInfos),t.df=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return r.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new o.J(o.K,4,4008);return r.We||t.We},C=function(e,t){for(var n=[],r=o.u(t),i=r.next();!i.done;i=r.next()){i=i.value;var a=Se.get(i.xb);if(a){var s=o.Fk(a,i.init||e);(a=Te.get(a))&&(s.licenseServerUri=a(i)),n.push(s)}}return n},P=function(e){var t=[];e=o.u(e);for(var n=e.next();!n.done;n=e.next())(n=R(n.value))&&t.push(n);return t},R=function(e){var t=e.getAttribute(p),n=o.M.getAttributeNS(e,b,"default_KID"),r=o.M.cf(e,b,"pssh").map(o.M.Fb);if(!t)return o.af("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new o.J(o.K,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:o.Zb,initData:o.Oj(e),keyId:null}}))}catch(s){throw new o.J(o.K,4,4007)}return{node:e,xb:t,keyId:n,init:0<i.length?i:null}},D=function(e,t,n,r){var i,a=(new o.gh).W("sidx",(function(e){i=N(t,r,n,e)}));if(e&&a.parse(e),i)return i;throw o.af('Invalid box type, expected "sidx".'),new o.J(o.K,3,3004)},N=function(e,t,n,r){var i=[];r.u.skip(4);var a=o.bh(r.u);if(0==a)throw o.af("Invalid timescale."),new o.J(o.K,3,3005);if(0==r.version)var s=o.bh(r.u),u=o.bh(r.u);else s=o.dh(r.u),u=o.dh(r.u);r.u.skip(2);var c=o.ah(r.u);for(e=e+r.size+u,u=0;u<c;u++){var l=o.bh(r.u),f=(2147483648&l)>>>31;l&=2147483647;var d=o.bh(r.u);if(r.u.skip(4),1==f)throw o.af("Heirarchical SIDXs are not supported."),new o.J(o.K,3,3006);i.push(new o.Fn(i.length,s/a-t,(s+d)/a-t,(function(){return n}),e,e+l-1)),s+=d,e+=l}return r.gb.stop(),i},O=function(e){this.b=e,this.a=new o.Xg(e,!1)},L=function(e){var t=j(e);if(7<t.length)throw new o.J(o.K,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=j(e);e:{r=o.u(xe);for(var i=r.next();!i.done;i=r.next())if(o.Rj(n,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.getPosition();else{if(8==n.length&&224&n[1])throw new o.J(o.K,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.getPosition()+n<=e.b.byteLength?n:e.b.byteLength-e.a.getPosition(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.getPosition(),n),e.a.skip(n),new _(t,r)},j=function(e){var t,n=o.$g(e.a);for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new o.J(o.K,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=o.$g(e.a);return r},_=function(e,t){this.id=e,this.a=t},U=function(e){if(8<e.a.byteLength)throw new o.J(o.K,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new o.J(o.K,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){var r=e.a.getUint8(n);t=256*t+r}return t},B=function(){},K=function(e,t,n,r,i,a){function s(){return i}var u=[];e=new O(e.a);for(var c=null,l=null;o.Yg(e.a);){var f=L(e);if(187==f.id){var d=F(f);d&&(f=n*d.Dj,d=t+d.oj,null!=c&&u.push(new o.Fn(u.length,c-a,f-a,s,l,d-1)),c=f,l=d)}}return null!=c&&u.push(new o.Fn(u.length,c-a,r-a,s,l,null)),u},F=function(e){var t=new O(e.a);if(e=L(t),179!=e.id)throw o.G("Not a CueTime element."),new o.J(o.K,3,3013);if(e=U(e),t=L(t),183!=t.id)throw o.G("Not a CueTrackPositions element."),new o.J(o.K,3,3012);t=new O(t.a);for(var n=0;o.Yg(t.a);){var r=L(t);if(241==r.id){n=U(r);break}}return{Dj:e,oj:n}},V=function(e,t){var n=Ee.Vd(e,t,"Initialization");if(!n)return null;var r=e.D.va,i=n.getAttribute("sourceURL");i&&(r=o.Ek(e.D.va,[i])),i=0;var a=null;return(n=o.M.O(n,"range",o.M.md))&&(i=n.start,a=n.end),new o.En((function(){return r}),i,a)},H=function(e,t){var n=Number(Ee.Aa(e,W,h))||0,r=Ee.Aa(e,W,m),a=1;if(r&&(a=o.M.ld(r)||1),n=n/a||0,r=V(e,W),a=e.D.mimeType.split("/")[1],e.D.contentType!=o.k&&a!=o.Uc&&a!=o.ge)throw o.af("SegmentBase specifies an unsupported container type.",e.D),new o.J(o.K,4,4006);if(a==o.ge&&!r)throw o.af(i,"the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.D),new o.J(o.K,4,4005);var s=Ee.Vd(e,W,"RepresentationIndex"),u=Ee.Aa(e,W,"indexRange"),c=e.D.va;if(u=o.M.md(u||""),s){var l=s.getAttribute("sourceURL");l&&(c=o.Ek(e.D.va,[l])),u=o.M.O(s,"range",o.M.md,u)}if(!u)throw o.af(i,"the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.D),new o.J(o.K,4,4002);return a=G(e,t,r,c,u.start,u.end,a,n),{createSegmentIndex:a.createSegmentIndex,findSegmentPosition:a.findSegmentPosition,getSegmentReference:a.getSegmentReference,adjustSegmentDurations:a.adjustSegmentDurations,getDuration:a.getDuration,initSegmentReference:r,sa:n}},G=function(e,t,n,r,i,a,s,u){var c=e.presentationTimeline,l=!e.gc||!e.T.Xd,f=e.T.start,d=e.T.duration,h=t,p=null;return{createSegmentIndex:function(){var e,t,g,m,v,b;return o.A((function(y){return 1==y.a?(e=[h(r,i,a),s==o.ge?h(n.za(),n.ta,n.ga):null],h=null,o.x(y,Promise.all(e),2)):(t=y.b,g=t[0],m=t[1]||null,v=null,s==o.Uc?v=D(g,i,r,u):(b=new B,v=b.parse(g,m,r,u)),o.In(c,v,f),p=new o.Mn(v),l&&o.On(p,d),y["return"](t))}))},findSegmentPosition:function(e){return p.find(e)},getSegmentReference:function(e){return p.get(e)},adjustSegmentDurations:function(e,t){return p.ac(e,t)},getDuration:function(){return p.getDuration()}}},W=function(e){return e.Ic},q=function(e,t){var n=V(e,J),r=X(e),i=Ee.Jf(e,J),s=i.Vb;0==s&&(o.G("SegmentList@startNumber must be > 0"),s=1);var u=0;if(i.ca?u=i.ca*(s-1):i.timeline&&0<i.timeline.length&&(u=i.timeline[0].start),r={ca:i.ca,startTime:u,Vb:s,sa:i.sa,timeline:i.timeline,Ob:r},!r.ca&&!r.timeline&&1<r.Ob.length)throw o.G(a,"the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.D),new o.J(o.K,4,4002);if(!r.ca&&!e.T.duration&&!r.timeline&&1==r.Ob.length)throw o.G(a,"the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.D),new o.J(o.K,4,4002);if(r.timeline&&0==r.timeline.length)throw o.G(a,"the SegmentList has an empty timeline.",e.D),new o.J(o.K,4,4002);return s=i=null,e.la.id&&e.D.id&&(s=e.la.id+","+e.D.id,i=t[s]),u=z(e.T.duration,r.Vb,e.D.va,r),i?(i.cb(u),s=o.Ln(e.presentationTimeline),o.Nn(i,s-e.T.start)):(o.In(e.presentationTimeline,u,e.T.start),i=new o.Mn(u),s&&e.gc&&(t[s]=i)),e.gc&&e.T.Xd||o.On(i,e.T.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),adjustSegmentDurations:i.ac.bind(i),getDuration:i.getDuration.bind(i),initSegmentReference:n,sa:r.sa}},J=function(e){return e.zb},z=function(e,t,n,r){var i=r.Ob.length;r.timeline&&r.timeline.length!=r.Ob.length&&(i=Math.min(r.timeline.length,r.Ob.length),o.G("The number of items in the segment timeline and the number of segment","URLs do not match, truncating",r.Ob.length,"to",i));for(var a=[],s=r.startTime,u={},c=0;c<i;u={vd:u.vd},c++){var l=r.Ob[c];u.vd=o.Ek(n,[l.oi]);var f=void 0;f=null!=r.ca?s+r.ca:r.timeline?r.timeline[c].end:s+e,a.push(new o.Fn(c+t,s,f,function(e){return function(){return e.vd}}(u),l.start,l.end)),s=f}return a},X=function(e){return[e.D.zb,e.aa.zb,e.la.zb].filter(o.Dk.ab).map((function(e){return o.M.L(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){t.getAttribute("indexRange")&&!e.Ud&&(e.Ud=!0,o.G("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate."));var n=t.getAttribute("media");return t=o.M.O(t,"mediaRange",o.M.md,{start:0,end:null}),{oi:n,start:t.start,end:t.end}}))},Y=function(e,t,n,r){var i=ee(e),a=Ee.Jf(e,$),s=Ee.Aa(e,$,"media"),c=Ee.Aa(e,$,"index");if(a={ca:a.ca,timescale:a.timescale,Vb:a.Vb,sa:a.sa,te:a.te,timeline:a.timeline,$d:s,Ac:c,Bd:a.Bd},s=a.Ac?1:0,s+=a.timeline?1:0,s+=a.ca?1:0,0==s)throw o.af("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.D),new o.J(o.K,4,4002);if(1!=s&&(o.G("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.D),a.Ac?(o.$e("Using the index URL template by default."),a.timeline=null):o.$e("Using the SegmentTimeline by default."),a.ca=null),!a.Ac&&!a.$d)throw o.af(u,"the SegmentTemplate's media URL template is missing.",e.D),new o.J(o.K,4,4002);if(a.Ac){if(n=e.D.mimeType.split("/")[1],n!=o.Uc&&n!=o.ge)throw o.af("SegmentTemplate specifies an unsupported container type.",e.D),new o.J(o.K,4,4006);if(n==o.ge&&!i)throw o.af(u,"the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",e.D),new o.J(o.K,4,4005);r=Ee.bd(a.Ac,e.D.id,null,e.bandwidth||null,null),r=o.Ek(e.D.va,[r]),e=G(e,t,i,r,0,null,n,a.sa)}else a.ca?(r||(n=e.presentationTimeline,n.i=Math.max(n.i,a.Bd),n.l.debug("notifyAvailabilityTimeOffset: maxAvailabilityTimeOffset="+n.i),o.Jn(e.presentationTimeline,a.ca),o.Hn(e.presentationTimeline,e.T.start)),e=Q(e,a)):(s=t=null,e.la.id&&e.D.id&&(s=e.la.id+","+e.D.id,t=n[s]),c=Z(e,a),r=!e.gc||!e.T.Xd,t?(r&&o.On(new o.Mn(c),e.T.duration),t.cb(c),n=o.Ln(e.presentationTimeline),o.Nn(t,n-e.T.start)):(o.In(e.presentationTimeline,c,e.T.start),t=new o.Mn(c),s&&e.gc&&(n[s]=t)),r&&o.On(t,e.T.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),adjustSegmentDurations:t.ac.bind(t),getDuration:t.getDuration.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,adjustSegmentDurations:e.adjustSegmentDurations,getDuration:e.getDuration,initSegmentReference:i,sa:a.sa}},$=function(e){return e.Tb},Q=function(e,t){var n=e.T.duration,r=t.ca,i=t.Vb,a=t.timescale,s=t.$d,u=e.bandwidth||null,c=e.D.id,l=e.D.va;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,f=t+r;return n&&(f=Math.min(f,n)),0>f||n&&t>=n?null:new o.Fn(e,t,f,(function(){var n=Ee.bd(s,c,e+i,u,t*a);return o.Ek(l,[n])}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return n}}},Z=function(e,t){for(var n=[],r=0;r<t.timeline.length;r++){var i=r+t.Vb;n.push(new o.Fn(i,t.timeline[r].start,t.timeline[r].end,function(e,t,n,r,i,a){return e=Ee.bd(e,t,i,n,a),o.Ek(r,[e]).map((function(e){return e.toString()}))}.bind(null,t.$d,e.D.id,e.bandwidth||null,e.D.va,i,t.timeline[r].Cj+t.te),0,null))}return n},ee=function(e){var t=Ee.Aa(e,$,"initialization");if(!t)return null;var n=e.D.id,r=e.bandwidth||null,i=e.D.va;return new o.En((function(){var e=Ee.bd(t,n,null,r,null);return o.Ek(i,[e])}),0,null)},te=function(){var e=this;this.b=this.c=null,this.g=[],this.f=null,this.o=[],this.h=1,this.s={},this.l=0,this.v=new o.an(5),this.j=new o.Ef((function(){le(e)})),this.i=new o.xj,this.a=new o.H("clpp.dash.DashParser"),this.w=this.m=null},ne=function(e){var t,n,r,i,a,s,u;return o.A((function(c){return 1==c.a?(t=o.Ci(e.g,e.c.attemptParameters),t.type=1,n=e.b.networkingEngine,r=Date.now(),i=n.fetch(t),o.Vm(e.i,i),o.x(c,i.promise,2)):3!=c.a?(a=c.b,e.b?(a.uri&&!e.g.includes(a.uri)&&e.g.unshift(a.uri),o.x(c,re(e,a.data,a.uri),3)):c["return"](0)):(s=Date.now(),u=(s-r)/1e3,o.bn(e.v,1,u),c["return"](u))}))},re=function(e,t,n){var r,i,a,s,u;return o.A((function(c){if(1==c.a){if(r=Ee,i=o.M.Kf(t,"MPD"),!i)throw new o.J(o.K,4,4001,n);return a=e.c.xlinkFailGracefully,s=r.nd(i,e.c.attemptParameters,a,n,e.b.networkingEngine),o.Vm(e.i,s),o.x(c,s.promise,2)}return u=c.b,c["return"](ie(e,u,n))}))},ie=function(e,t,n){var r,i,a,s,u,c,l,d,h,p,m,v,b,y,w,S,T,E,x,k,A,I,M;return o.A((function(C){if(1==C.a){r=o.Dk,i=o.M,a=[n],s=i.L(t,"Location").map(i.Fb).filter(r.ab),0<s.length&&(u=o.Ek(a,s),a=e.g=u),c=i.L(t,"BaseURL").map(i.Fb),l=o.Ek(a,c),d=i.O(t,"minBufferTime",i.fb,0),e.l=i.O(t,"minimumUpdatePeriod",i.fb,-1),h=i.O(t,"availabilityStartTime",i.jj),p=i.O(t,"timeShiftBufferDepth",i.fb),m=i.O(t,"suggestedPresentationDelay",i.fb),v=i.O(t,"maxSegmentDuration",i.fb),b=t.getAttribute("type")||g,"dynamic"===b&&(e.m=b,e.w=h),(y=b===g&&"dynamic"===e.m)&&(e.a.info("MPD dynamic to static transition."),b=e.m,h=e.w),e.f?w=e.f.presentationTimeline:(S=3*d,T=null!=m?m:S,w=new o.Gn(h,T,!!e.c.autoCorrectDrift)),E={gc:b!=g,Nb:y,presentationTimeline:w,la:null,T:null,aa:null,D:null,bandwidth:0,Ud:!1};for(var P=o.M.O(t,"mediaPresentationDuration",o.M.fb),R=[],D=0,N=o.M.L(t,"Period"),O=0;O<N.length;O++){var L=N[O];D=o.M.O(L,o.Ad,o.M.fb,D);var j=o.M.O(L,f,o.M.fb),_=null;if(O!=N.length-1){var U=o.M.O(N[O+1],o.Ad,o.M.fb);null!=U&&(_=U-D)}else null!=P&&(_=P-D);if(U=o.to,_&&j&&Math.abs(_-j)>U&&e.a.warn("There is a gap/overlap between Periods",L),null==_&&(_=j),L=ae(e,E,l,{start:D,duration:_,node:L,Xd:null==_||O==N.length-1}),R.push(L),j=E.la.id,e.o.includes(j)||(e.o.push(j),e.f&&(e.b.filterNewPeriod(L),e.f.periods.push(L))),null==_){O!=N.length-1&&e.a.warn("Skipping Period",O+1,"and any subsequent Periods:","Period",O+1,"does not have a valid start time.",R[O+1]),D=null;break}D+=_}return null==e.f&&e.b.filterAllPeriods(R),null!=P?(D!=P&&e.a.warn("@mediaPresentationDuration does not match the total duration of ","all Periods."),P={periods:R,duration:P,Xe:!1}):P={periods:R,duration:D,Xe:!0},x=P,k=x.duration,A=x.periods,w.b=b==g,y&&!w.Nb()&&e.b.onEvent(new o.O(o.Vc)),w.m=y,b!=g&&x.Xe||w.Ab(k||1/0),w.isLive()&&e.c.availabilityWindowOverride&&!isNaN(e.c.availabilityWindowOverride)&&(p=e.c.availabilityWindowOverride),null==p&&(p=1/0),w.Sb=p,o.Jn(w,v||1),e.f?C.A(0):(e.f={presentationTimeline:w,periods:A,offlineSessionIds:[],minBufferTime:d||0},null==w.h||null!=w.c?C.A(0):(I=i.L(t,"UTCTiming"),o.x(C,me(e,l,I),4)))}if(M=C.b,!e.b)return C["return"]();w.j=M,o.y(C)}))},ae=function(e,t,n,r){t.la=de(e,r.node,null,n),t.T=r,t.la.id||(e.a.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),t.la.id="__clpp_period_"+r.start),n=o.M.L(r.node,"EventStream"),n=o.u(n);for(var i=n.next();!i.done;i=n.next())ve(e,r.start,r.duration,i.value);if(i=o.M.L(r.node,o.fa).map((function(n){return ue(e,t,n)})).filter(o.Dk.ab),t.gc){n=[];for(var a=o.u(i),s=a.next();!s.done;s=a.next()){s=o.u(s.value.sj);for(var u=s.next();!u.done;u=s.next())n.push(u.value)}if(n.length!=new Set(n).size)throw new o.J(o.K,4,4018)}for(n=i.filter((function(e){return!e.se})),i=i.filter((function(e){return e.se})),i=o.u(i),a=i.next();!a.done;a=i.next()){s=a.value,a=s.streams[0],s=s.se,u=o.u(n);for(var c=u.next();!c.done;c=u.next())if(c=c.value,c.id==s){c=o.u(c.streams);for(var l=c.next();!l.done;l=c.next())l.value.trickModeVideo=a}}if(a=oe(n,o.Vd),s=oe(n,o.Lb),!a.length&&!s.length)throw new o.J(o.K,4,4004);for(s.length||(s=[null]),a.length||(a=[null]),i=[],s=o.u(s),u=s.next();!u.done;u=s.next())for(u=u.value,c=o.u(a),l=c.next();!l.done;l=c.next())se(e,t.la.id,u,l.value,i);for(s=oe(n,o.k),a=[],s=o.u(s),u=s.next();!u.done;u=s.next())a.push.apply(a,u.value.streams);for(s=oe(n,"image"),n=[],s=o.u(s),u=s.next();!u.done;u=s.next())n.push.apply(n,u.value.streams);return{startTime:r.start,textStreams:a,thumbStreams:n,variants:i}},oe=function(e,t){return e.filter((function(e){return e.contentType==t}))},se=function(e,t,n,r,i){var a=null!=t?t:e.h+++"";if(n||r)if(n&&r){if(o.Ck(n.drmInfos,r.drmInfos)){var s=o.Bk(n.drmInfos,r.drmInfos);s.forEach((function(e){e.periodId=a}));var u=o.u(n.streams);for(t=u.next();!t.done;t=u.next()){var c=t.value,l=o.u(r.streams);for(t=l.next();!t.done;t=l.next()){var f=t.value;t=(f.bandwidth||0)+(c.bandwidth||0),t={id:e.h++,language:n.language,primary:n.Zd||r.Zd,audio:c,video:f,bandwidth:t,drmInfos:s,allowedByApplication:!0,allowedByKeySystem:!0},i.push(t)}}}}else for(s=n||r,u=o.u(s.streams),t=u.next();!t.done;t=u.next())c=t.value,t=c.bandwidth||0,t={id:e.h++,language:s.language||o.Md,primary:s.Zd,audio:n?c:null,video:r?c:null,bandwidth:t,drmInfos:s.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},i.push(t)},ue=function(e,t,i){t.aa=de(e,i,t.la,null);var a=!1,s=o.M.L(i,"Role"),u=s.map((function(e){return e.getAttribute(o.Sd)})).filter(o.Dk.ab),c=null,l=o.M.L(i,"Label").map((function(e){return e.textContent})).filter(o.Dk.ab);l&&0<l.length&&(c=l[l.length-1]);var f=void 0;(l=t.aa.contentType==o.k)&&(f=o.Fd),s=o.u(s);for(var d=s.next();!d.done;d=s.next()){d=d.value;var h=d.getAttribute(p);if(null==h||"urn:mpeg:dash:role:2011"===h||"urn:mpeg:dash:role"===h)switch(d=d.getAttribute(o.Sd),d){case"main":a=!0;break;case"caption":case o.Fd:f=d}}h=o.M.L(i,r),s=null,d=!1,h=o.u(h);for(var g=h.next();!g.done;g=h.next())g=g.value,"http://dashif.org/guidelines/trickmode"==g.getAttribute(p)?s=g.getAttribute(o.Sd):d=!0;h=o.M.L(i,"Accessibility");var m=new Map;for(h=o.u(h),g=h.next();!g.done;g=h.next()){var v=g.value;if(g=v.getAttribute(p),"urn:scte:dash:cc:cea-608:2015"==g||"urn:scte:dash:cc:cea-708:2015"==g)if(g=1,v=v.getAttribute(o.Sd),null!=v){v=o.u(v.split(";"));for(var b=v.next();!b.done;b=v.next()){var y=b.value,w=b=void 0;y.includes("=")?(y=y.split("="),b=y[0].startsWith("CC")?y[0]:"CC"+y[0],w=y[1].split(",")[0].split(":").pop()):(b="CC"+g,g+=2,w=y),m.set(b,o.Xm(w))}}else m.set("CC1",o.Md)}if(d)return null;d=o.M.L(i,n);var S=I(d,e.c.ignoreDrmInfo),T=o.Xm(i.getAttribute("lang")||o.Md);if(null==c&&(c=i.getAttribute("label")),d=o.M.L(i,o.Na),i=d.map((function(n){return ce(e,t,S,f,T,c,a,u,m,n)})).filter((function(e){return!!e})),0==i.length){if(l)return null;throw new o.J(o.K,4,4003)}if(!t.aa.contentType||t.aa.contentType==o.Bb)for(t.aa.contentType=ye(i[0].mimeType,i[0].codecs),l=o.u(i),h=l.next();!h.done;h=l.next())h.value.type=t.aa.contentType;for(l=o.u(i),h=l.next();!h.done;h=l.next())for(h=h.value,g=o.u(S.drmInfos),v=g.next();!v.done;v=g.next())v=v.value,h.keyId&&v.keyIds.push(h.keyId);return l=d.map((function(e){return e.getAttribute("id")})).filter(o.Dk.ab),{id:t.aa.id||"__fake__"+e.h++,contentType:t.aa.contentType,language:T,Zd:a,streams:i,drmInfos:S.drmInfos,se:s,sj:l}},ce=function(e,t,i,a,s,u,c,l,d,h){var g=o.M.Qb;if(t.D=de(e,h,t.aa,null),!pe(e,t.D))return e.a.warn("Skipping Representation",t.D),null;t.bandwidth=o.M.O(h,"bandwidth",o.M.ld)||0;var m=t.D.contentType,v=m==o.k||m==o.Bb,b="image"==m;try{if(m=function(t,n,r){return be(e,t,n,r)},t.D.Ic)var y=H(t,m);else if(t.D.zb)y=q(t,e.s);else if(t.D.Tb)y=Y(t,m,e.s,!!e.f);else{var w=t.D.va,S=t.T.duration||0;y={createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return 0<=e&&e<S?1:null},getSegmentReference:function(e){return 1!=e?null:new o.Fn(1,0,S,(function(){return w}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return S},initSegmentReference:null,sa:0}}}catch(T){if(v&&4002==T.code)return null;throw T}return v=o.M.L(h,n),v=M(v,i,e.c.ignoreDrmInfo),m=void 0,b&&(b=(h=o.M.zc(h,r))&&h.getAttribute(p),Ee.ji(b||"")&&(h=(h=h.getAttribute(o.Sd))&&h.split("x").map((function(e){return parseInt(e,10)})))&&2==h.length&&(y.horizontalTiles=h[0],y.verticalTiles=h[1],h=y.horizontalTiles*y.verticalTiles,null!==t.aa.Tb&&(m=(g=o.M.O(t.aa.Tb,f,g)||0)?g/h:void 0))),{id:e.h++,originalId:t.D.id,createSegmentIndex:y.createSegmentIndex,findSegmentPosition:y.findSegmentPosition,getSegmentReference:y.getSegmentReference,initSegmentReference:y.initSegmentReference,adjustSegmentDurations:y.adjustSegmentDurations,getDuration:y.getDuration,presentationTimeOffset:y.sa,mimeType:t.D.mimeType,codecs:t.D.codecs,frameRate:t.D.frameRate,bandwidth:t.bandwidth,width:t.D.width,height:t.D.height,kind:a,encrypted:0<i.drmInfos.length,keyId:v,language:s,label:u,type:t.aa.contentType,primary:c,trickModeVideo:null,emsgSchemeIdUris:t.D.emsgSchemeIdUris,roles:l,channelsCount:t.D.be,closedCaptions:d,horizontalTiles:y.horizontalTiles,verticalTiles:y.verticalTiles,durationPerTile:m}},le=function(e){var t,n;o.A((function(r){switch(r.a){case 1:return e.a.info(o.$a),t=0,o.Ae(r,2),o.x(r,ne(e),4);case 4:t=r.b,o.Be(r,3);break;case 2:n=o.Ce(r),e.b&&n.ib&&(n.ib(1),e.b.onError(n));case 3:if(!e.b)return r["return"]();fe(e,t),o.y(r)}}))},fe=function(e,t){0>e.l||e.j.P(Math.max(3,e.l-t,o.cn(e.v)))},de=function(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,be:null},r=r||n.va;var i=o.M.Qb,a=o.M.Kh,s=o.M.L(t,"BaseURL").map(o.M.Fb),u=t.getAttribute("contentType")||n.contentType,c=t.getAttribute(o.Tc)||n.mimeType,l=t.getAttribute(o.gc)||n.codecs;a=o.M.O(t,o.zc,a)||n.frameRate;var f=o.M.L(t,"InbandEventStream"),d=n.emsgSchemeIdUris.slice();f=o.u(f);for(var h=f.next();!h.done;h=f.next())h=h.value.getAttribute(p),d.includes(h)||d.push(h);return f=o.M.L(t,"AudioChannelConfiguration"),e=he(e,f)||n.be,u||(u=ye(c,l)),{va:o.Ek(r,s),Ic:o.M.zc(t,"SegmentBase")||n.Ic,zb:o.M.zc(t,"SegmentList")||n.zb,Tb:o.M.zc(t,"SegmentTemplate")||n.Tb,width:o.M.O(t,o.he,i)||n.width,height:o.M.O(t,o.Cc,i)||n.height,contentType:u,mimeType:c,codecs:l,frameRate:a,emsgSchemeIdUris:d,id:t.getAttribute("id"),be:e}},he=function(e,n){for(var r=o.u(n),i=r.next();!i.done;i=r.next()){var a=i.value;if((i=a.getAttribute(p))&&(a=a.getAttribute(o.Sd)))switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return a.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var s=parseInt(a,10);if(!s){e.a.warn(t,i,a);continue}return s;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(s=parseInt(a,16),!s){e.a.warn(t,i,a);continue}for(r=0;s;)1&s&&++r,s>>=1;return r;default:e.a.warn("Unrecognized audio channel scheme:",i,a)}}return null},pe=function(e,t){var n=t.Ic?1:0;return n+=t.zb?1:0,n+=t.Tb?1:0,0==n?t.contentType==o.k||t.contentType==o.Bb||(e.a.warn("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',t),!1):(1!=n&&(e.a.warn("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",t),t.Ic?(e.a.info("Using SegmentBase by default."),t.zb=null):e.a.info("Using SegmentList by default."),t.Tb=null),!0)},ge=function(e,t,n,r){var i,a,s,u,c,l;return o.A((function(f){if(1==f.a)return i=o.Ek(t,[n]),a=o.Ci(i,e.c.attemptParameters),a.type=5,a.method=r,s=e.b.networkingEngine.fetch(a),o.Vm(e.i,s),o.x(f,s.promise,2);if(u=f.b,"HEAD"==r){if(!u.headers||!u.headers.date)return e.a.warn("UTC timing response is missing","expected date header"),f["return"](0);c=u.headers.date}else c=o.ef(u.data);return l=Date.parse(c),isNaN(l)?(e.a.warn("Unable to parse date from UTC timing response"),f["return"](0)):f["return"](l-Date.now())}))},me=function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute(p),value:e.getAttribute(o.Sd)}}));var r=e.c.clockSyncUri;return!n.length&&r&&n.push({scheme:y,value:r}),o.Dk.Gh(n,(function(n){var r=n.scheme;switch(n=n.value,r){case y:case"urn:mpeg:dash:utc:http-head:2012":return ge(e,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return ge(e,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return r=Date.parse(n),Promise.resolve(isNaN(r)?0:r-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return e.a.warn("NTP UTCTiming scheme is not supported"),Promise.reject();default:return e.a.warn("Unrecognized scheme in UTCTiming element",r),Promise.reject()}}))["catch"]((function(){return e.a.warn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))},ve=function(e,t,n,r){var i=o.M.Qb,a=r.getAttribute(p)||"",s=r.getAttribute(o.Sd)||"",u=o.M.O(r,m,i)||1;r=o.u(o.M.L(r,"Event"));for(var c=r.next();!c.done;c=r.next()){c=c.value;var l=o.M.O(c,"presentationTime",i)||0,d=o.M.O(c,f,i)||0;l=l/u+t,d=l+d/u,null!=n&&(l=Math.min(l,t+n),d=Math.min(d,t+n));var h=a.startsWith("urn:scte:scte35"),g=o.uo;c={schemeIdUri:a,value:s,startTime:l,endTime:d,id:c.getAttribute("id")||"",type:h?g.Nj:g.UNKNOWN,eventElement:c},e.b.onTimelineCueAdded(c)}},be=function(e,t,n,r){var i,a,s,u;return o.A((function(c){return 1==c.a?(i=o.Ym(t,n,r,e.c.attemptParameters),i.type=o.lo,a=e.b.networkingEngine,s=a.fetch(i),o.Vm(e.i,s),o.x(c,s.promise,2)):(u=c.b,c["return"](u.data))}))},ye=function(e,t){return o.ig(o.eg(e,t))?o.k:e.split("/")[0]},we=function(){},Se=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",o.ad).set(S,o.kc).set(w,o.jc).set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95",o.jc).set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),Te=(new Map).set(o.kc,(function(e){return(e=o.M.cd(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set(o.jc,(function(e){return e=o.M.cd(e.node,v,"pro"),e?(e=o.Oj(e.textContent),o.lm(e).f||""):""})),Ee={ve:"http://www.w3.org/1999/xlink",Uf:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],ji:function(e){return 0<=Ee.Uf.indexOf(e)},bd:function(t,n,r,i,a){var s={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(n,r,i,a){if("$$"==n)return"$";var u=s[r];if(null==u)return o.G("URL template does not have an available substitution for identifier",'"'+r+'":',t),n;switch("RepresentationID"==r&&i&&(o.G("URL template should not contain a width specifier for identifier",'"RepresentationID":',t),i=void 0),"Time"==r&&(u=Math.round(u)),a){case void 0:case"d":case"i":case"u":n=u.toString();break;case"o":n=u.toString(8);break;case"x":n=u.toString(16);break;case"X":n=u.toString(16).toUpperCase();break;default:n=u.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-n.length)+1).join("0")+n}))},Hh:function(e,t,n,r){e=o.M.L(e,"S");for(var i=[],a=0,s=0;s<e.length;++s){var u=e[s],c=o.M.O(u,"t",o.M.Qb),f=o.M.O(u,"d",o.M.Qb),h=o.M.O(u,"r",o.M.parseInt);if(null!=c&&(c-=n),!f){o.G('"S" element must have a duration:',d,u);break}if(c=null!=c?c:a,h=h||0,0>h)if(s+1<e.length){if(h=o.M.O(e[s+1],"t",o.M.Qb),null==h){o.G('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:',d,u);break}if(c>=h){o.G('An "S" element cannot have a negative repeatif its start ','time exceeds the next "S" element\'s start time:',d,u);break}h=Math.ceil((h-c)/f)-1}else{if(1/0==r){o.G(l,"if the Period has an infinite duration:",'ignoring the last "S" element.',u);break}if(c/t>=r){o.G(l,"if its start time exceeds the Period's duration:",'igoring the last "S" element.',u);break}h=Math.ceil((r*t-c)/f)-1}for(0<i.length&&c!=a&&(Math.abs((c-a)/t)>=o.to&&o.G("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",u),i[i.length-1].end=c/t),u=0;u<=h;++u)a=c+f,i.push({start:c/t,end:a/t,Cj:c}),c=a}return i},Jf:function(e,t){var n=Ee.Aa(e,t,m),r=1;n&&(r=o.M.ld(n)||1),n=Ee.Aa(e,t,f),(n=o.M.ld(n||""))&&(n/=r);var i=Ee.Aa(e,t,"startNumber"),a=0;e.Nb||(a=Number(Ee.Aa(e,t,h))||0);var s=o.M.Qb(i||"");null!=i&&null!=s||(s=1);var u=Ee.Vd(e,t,c);i=null,u&&(i=Ee.Hh(u,r,a,e.T.duration||1/0)),u=a/r||0;var l=Ee.Aa(e,t,"availabilityTimeOffset"),d=o.M.parseFloat(l||"");return null!=l&&null!=d||(d=0),{timescale:r,ca:n,Vb:s,sa:u,te:a,timeline:i,Bd:d}},Aa:function(e,t,n){return[t(e.D),t(e.aa),t(e.la)].filter(o.Dk.ab).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))},Vd:function(e,t,n){return[t(e.D),t(e.aa),t(e.la)].filter(o.Dk.ab).map((function(e){return o.M.zc(e,n)})).reduce((function(e,t){return e||t}))},fi:function(e,t,n,r,i,a){for(var s=Ee.ve,u=o.M.getAttributeNS(e,s,"href"),c=o.M.getAttributeNS(e,s,"actuate")||"onRequest",l=0;l<e.attributes.length;l++){var f=e.attributes[l];f.namespaceURI==s&&(e.removeAttributeNS(f.namespaceURI,f.localName),--l)}if(5<=a)return T(new o.J(o.K,4,4028));if("onLoad"!=c)return T(new o.J(o.K,4,4027));var d=o.Ek([r],[u]);return r=o.Ci(d,t),r.type=1,i.fetch(r).Tc((function(r){if(r=o.M.Kf(r.data,e.tagName),!r)return T(new o.J(o.K,4,4001,{uri:u}));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var c=r.attributes[s].nodeName,l=r.getAttribute(c);e.setAttribute(c,l)}return Ee.nd(e,t,n,d[0],i,a+1)}))},nd:function(e,t,n,r,i,a){a=void 0===a?0:a;var s=Ee.ve;if(o.M.getAttributeNS(e,s,"href"))return s=Ee.fi(e,t,n,r,i,a),n&&(s=s.Tc(void 0,(function(){return Ee.nd(e,t,n,r,i,a)}))),s;for(var u=[],l=0;l<e.childNodes.length;l++){var f=e.childNodes[l];f instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==o.M.getAttributeNS(f,s,"href")?(e.removeChild(f),--l):f.tagName!=c&&u.push(Ee.nd(f,t,n,r,i,a)))}return E(u).Tc((function(){return e}))}},xe=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];B.prototype.parse=function(e,t,n,r){if(t=new O(new DataView(t)),440786851!=L(t).id)throw o.af("Not an EBML element."),new o.J(o.K,3,3008);var i=L(t);if(408125543!=i.id)throw o.af("Not a Segment element."),new o.J(o.K,3,3009);t=i.a.byteOffset,i=new O(i.a);for(var a=null;o.Yg(i.a);){var s=L(i);if(357149030==s.id){a=s;break}}if(!a)throw o.af("Not an Info element."),new o.J(o.K,3,3010);for(a=new O(a.a),s=1e6,i=null;o.Yg(a.a);){var u=L(a);if(2807729==u.id)s=U(u);else if(17545==u.id)if(4==u.a.byteLength)i=u.a.getFloat32(0);else{if(8!=u.a.byteLength)throw new o.J(o.K,3,3003);i=u.a.getFloat64(0)}}if(null==i)throw new o.J(o.K,3,3011);if(a=s/1e9,i*=a,e=L(new O(new DataView(e))),475249515!=e.id)throw o.af("Not a Cues element."),new o.J(o.K,3,3007);return K(e,t,a,i,n,r)},o.r=te.prototype,o.r.configure=function(e){this.c=e},o.r.start=function(e,t){var n,r=this;return o.A((function(i){if(1==i.a)return r.g=[e],r.b=t,o.x(i,ne(r),2);if(n=i.b,r.b&&fe(r,n),!r.b)throw new o.J(o.K,7,7001);return i["return"](r.f)}))},o.r.stop=function(){return this.c=this.b=null,this.g=[],this.f=null,this.o=[],this.s={},null!=this.j&&(this.j.stop(),this.j=null),this.i.destroy()},o.r.update=function(){var e=this;ne(this)["catch"]((function(t){e.b&&t&&e.b.onError(t)}))},o.r.onExpirationUpdated=function(){},o.w(we,o.fl),o.r=we.prototype,o.r.rb=function(){o.vo.od("mpd",te),o.vo.Gc(o.ll,te)},o.r.hb=function(){o.vo.ne("mpd"),o.vo.pd(o.ll)},o.r.vc=function(){},o.r.release=function(){},o.r.id=function(){return"clpp.component.dash"},o.B("clpp.dash.DashComponent",we)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else r=[n("3f2b")],i=function(e){return o=e._,s.call(a,this),a}.apply(t,r),void 0===i||(e.exports=i)}()},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),o=n("50c4"),s=function(e){return function(t,n,s,u){r(n);var c=i(t),l=a(c),f=o(c.length),d=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(d in l){u=l[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in l&&(u=n(u,l[d],d,c));return u}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").forEach,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d6db:function(e,t,n){"use strict";var r=n("e67a"),i=n.n(r);i.a},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=s.f,c=a(r),l={},f=0;while(c.length>f)n=i(r,t=c[f++]),void 0!==n&&u(l,t,n);return l}})},dca8:function(e,t,n){var r=n("23e7"),i=n("bb2f"),a=n("d039"),o=n("861d"),s=n("f183").onFreeze,u=Object.freeze,c=a((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[u]!==l)try{o(h,u,l)}catch(g){h[u]=l}if(h[c]||o(h,c,f),i[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(g){h[p]=a[p]}}}},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("da84"),o=n("5135"),s=n("861d"),u=n("9bf2").f,c=n("e893"),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,g="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e04d:function(e,t,n){},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),u=i((function(){o(1)})),c=!s||u;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e58c:function(e,t,n){"use strict";var r=n("fc6a"),i=n("a691"),a=n("50c4"),o=n("a640"),s=n("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=l||!f||!d;e.exports=h?function(e){if(l)return c.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},e67a:function(e,t,n){},e91f:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").indexOf,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,n){"use strict";var r,i=n("a981"),a=n("83ab"),o=n("da84"),s=n("861d"),u=n("5135"),c=n("f5df"),l=n("9112"),f=n("6eeb"),d=n("9bf2").f,h=n("e163"),p=n("d2bb"),g=n("b622"),m=n("90e3"),v=o.Int8Array,b=v&&v.prototype,y=o.Uint8ClampedArray,w=y&&y.prototype,S=v&&h(v),T=b&&h(b),E=Object.prototype,x=E.isPrototypeOf,k=g("toStringTag"),A=m("TYPED_ARRAY_TAG"),I=i&&!!p&&"Opera"!==c(o.opera),M=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){var t=c(e);return"DataView"===t||u(C,t)},R=function(e){return s(e)&&u(C,c(e))},D=function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},N=function(e){if(p){if(x.call(S,e))return e}else for(var t in C)if(u(C,r)){var n=o[t];if(n&&(e===n||x.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},O=function(e,t,n){if(a){if(n)for(var r in C){var i=o[r];i&&u(i.prototype,e)&&delete i.prototype[e]}T[e]&&!n||f(T,e,n?t:I&&b[e]||t)}},L=function(e,t,n){var r,i;if(a){if(p){if(n)for(r in C)i=o[r],i&&u(i,e)&&delete i[e];if(S[e]&&!n)return;try{return f(S,e,n?t:I&&v[e]||t)}catch(s){}}for(r in C)i=o[r],!i||i[e]&&!n||f(i,e,t)}};for(r in C)o[r]||(I=!1);if((!I||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},I))for(r in C)o[r]&&p(o[r],S);if((!I||!T||T===E)&&(T=S.prototype,I))for(r in C)o[r]&&p(o[r].prototype,T);if(I&&h(w)!==T&&p(w,T),a&&!u(T,k))for(r in M=!0,d(T,k,{get:function(){return s(this)?this[A]:void 0}}),C)o[r]&&l(o[r],A,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:M&&A,aTypedArray:D,aTypedArrayConstructor:N,exportTypedArrayMethod:O,exportTypedArrayStaticMethod:L,isView:P,isTypedArray:R,TypedArray:S,TypedArrayPrototype:T}},ecda:function(e,t,n){"use strict";var r=n("003c"),i=n.n(r);i.a},f183:function(e,t,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),u=n("bb2f"),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},p=function(e,t){if(!a(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},g=function(e){return u&&m.REQUIRED&&f(e)&&!a(e,c)&&d(e),e},m=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:g};r[c]=!0},f8cd:function(e,t,n){var r=n("a691");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fb2c:function(e,t,n){var r=n("74e8");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),u=n("fc6a"),c=n("8418"),l=n("b622"),f=n("1dde"),d=n("ae40"),h=f("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,l,f=u(this),d=s(f.length),h=o(e,d),p=o(void 0===t?d:t,d);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,h,p);for(r=new(void 0===n?Array:n)(v(p-h,0)),l=0;h<p;h++,l++)h in f&&c(r,l,f[h]);return r.length=l,r}})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=about.c67f5721.js.map