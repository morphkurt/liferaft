(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"003c":function(e,t,n){},"057f":function(e,t,n){var i=n("fc6a"),r=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):r(i(e))}},"07ac":function(e,t,n){var i=n("23e7"),r=n("6f53").values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},"0b25":function(e,t,n){var i=n("a691"),r=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"0d3b":function(e,t,n){var i=n("d039"),r=n("b622"),a=n("c430"),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t["delete"]("b"),n+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1148:function(e,t,n){"use strict";var i=n("a691"),r=n("1d80");e.exports="".repeat||function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1276:function(e,t,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,p=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,a);var s,u,c,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,f+"g");while(s=d.call(m,i)){if(u=m.lastIndex,u>p&&(l.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&h.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===i.length?!c&&m.test("")||l.push(""):l.push(i.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var d=a(e),f=String(this),h=s(d,RegExp),v=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),y=new h(m?d:"^(?:"+d.source+")",b),w=void 0===r?g:r>>>0;if(0===w)return[];if(0===f.length)return null===l(y,f)?[f]:[];var T=0,S=0,k=[];while(S<f.length){y.lastIndex=m?S:0;var E,A=l(y,m?f:f.slice(S));if(null===A||(E=p(c(y.lastIndex+(m?0:S)),f.length))===T)S=u(f,S,v);else{if(k.push(f.slice(T,S)),k.length===w)return k;for(var x=1;x<=A.length-1;x++)if(k.push(A[x]),k.length===w)return k;S=T=E}}return k.push(f.slice(T)),k}]}),!m)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,n){"use strict";var i=n("23e7"),r=n("d58f").left,a=n("a640"),o=n("ae40"),s=a("reduce"),u=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"143c":function(e,t,n){var i=n("74e8");i("Int32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},"145e":function(e,t,n){"use strict";var i=n("7b0b"),r=n("23cb"),a=n("50c4"),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),s=a(n.length),u=r(e,s),c=r(t,s),l=arguments.length>2?arguments[2]:void 0,d=o((void 0===l?s:r(l,s))-c,s-u),f=1;c<u&&u<c+d&&(f=-1,c+=d-1,u+=d-1);while(d-- >0)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},"159b":function(e,t,n){var i=n("da84"),r=n("fdbc"),a=n("17c2"),o=n("9112");for(var s in r){var u=i[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(l){c.forEach=a}}},"170b":function(e,t,n){"use strict";var i=n("ebb5"),r=n("50c4"),a=n("23cb"),o=n("4840"),s=i.aTypedArray,u=i.exportTypedArrayMethod;u("subarray",(function(e,t){var n=s(this),i=n.length,u=a(e,i);return new(o(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,r((void 0===t?i:a(t,i))-u))}))},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,r=n("a640"),a=n("ae40"),o=r("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"182d":function(e,t,n){var i=n("f8cd");e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},"1b05":function(e,t,n){"use strict";var i=n("e04d"),r=n.n(i);r.a},"219c":function(e,t,n){"use strict";var i=n("ebb5"),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(r(this),e)}))},2532:function(e,t,n){"use strict";var i=n("23e7"),r=n("5a34"),a=n("1d80"),o=n("ab13");i({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(e,t,n){"use strict";var i=n("ebb5"),r=n("d58f").right,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("reduceRight",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25f0":function(e,t,n){"use strict";var i=n("6eeb"),r=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(l||d)&&i(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),n=e.flags,i=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+i}),{unsafe:!0})},2954:function(e,t,n){"use strict";var i=n("ebb5"),r=n("4840"),a=n("d039"),o=i.aTypedArray,s=i.aTypedArrayConstructor,u=i.exportTypedArrayMethod,c=[].slice,l=a((function(){new Int8Array(1).slice()}));u("slice",(function(e,t){var n=c.call(o(this),e,t),i=r(this,this.constructor),a=0,u=n.length,l=new(s(i))(u);while(u>a)l[a]=n[a++];return l}),l)},"2b3d":function(e,t,n){"use strict";n("3ca3");var i,r=n("23e7"),a=n("83ab"),o=n("0d3b"),s=n("da84"),u=n("37e8"),c=n("6eeb"),l=n("19aa"),d=n("5135"),f=n("60da"),h=n("4df4"),p=n("6547").codeAt,g=n("5fb2"),m=n("d44e"),v=n("9861"),b=n("69f3"),y=s.URL,w=v.URLSearchParams,T=v.getState,S=b.set,k=b.getterFor("URL"),E=Math.floor,A=Math.pow,x="Invalid authority",I="Invalid scheme",C="Invalid host",M="Invalid port",P=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,N=/\d/,D=/^(0x|0X)/,O=/^[0-7]+$/,L=/^\d+$/,j=/^[\dA-Fa-f]+$/,_=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,U=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,K=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return C;if(n=V(t.slice(1,-1)),!n)return C;e.host=n}else if(Q(e)){if(t=g(t),_.test(t))return C;if(n=H(t),null===n)return C;e.host=n}else{if(U.test(t))return C;for(n="",i=h(t),r=0;r<i.length;r++)n+=X(i[r],G);e.host=n}},H=function(e){var t,n,i,r,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],i=0;i<t;i++){if(r=u[i],""==r)return e;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=D.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?L:8==a?O:j).test(r))return e;o=parseInt(r,a)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=A(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*A(256,3-i);return s},V=function(e){var t,n,i,r,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c++,l=c}while(f()){if(8==c)return;if(":"!=f()){t=n=0;while(n<4&&j.test(f()))t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;i=0;while(f()){if(r=null,i>0){if(!("."==f()&&i<4))return;d++}if(!N.test(f()))return;while(N.test(f())){if(a=parseInt(f(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;d++}u[c]=256*u[c]+r,i++,2!=i&&4!=i||c++}if(4!=i)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!=c&&o>0)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s}else if(8!=c)return;return u},q=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t},W=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=q(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},G={},J=f({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),z=f({},J,{"#":1,"?":1,"{":1,"}":1}),Y=f({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return d($,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ie=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},ce={},le={},de={},fe={},he={},pe={},ge={},me={},ve={},be={},ye={},we={},Te={},Se={},ke={},Ee={},Ae={},xe={},Ie=function(e,t,n,r){var a,o,s,u,c=n||oe,l=0,f="",p=!1,g=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(B,"")),t=t.replace(K,""),a=h(t);while(l<=a.length){switch(o=a[l],c){case oe:if(!o||!P.test(o)){if(n)return I;c=ue;continue}f+=o.toLowerCase(),c=se;break;case se:if(o&&(R.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return I;f="",c=ue,l=0;continue}if(n&&(Q(e)!=d($,f)||"file"==f&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Q(e)&&$[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=ye:Q(e)&&r&&r.scheme==e.scheme?c=ce:Q(e)?c=he:"/"==a[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Ee)}break;case ue:if(!r||r.cannotBeABaseURL&&"#"!=o)return I;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=xe;break}c="file"==r.scheme?ye:de;continue;case ce:if("/"!=o||"/"!=a[l+1]){c=de;continue}c=pe,l++;break;case le:if("/"==o){c=ge;break}c=ke;continue;case de:if(e.scheme=r.scheme,o==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&Q(e))c=fe;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Ae;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=ke;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=xe}break;case fe:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=ke;continue}c=ge}else c=pe;break;case he:if(c=pe,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case pe:if("/"!=o&&"\\"!=o){c=ge;continue}break;case ge:if("@"==o){p&&(f="%40"+f),p=!0,s=h(f);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var y=X(b,Y);m?e.password+=y:e.username+=y}else m=!0}f=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(p&&""==f)return x;l-=h(f).length+1,f="",c=me}else f+=o;break;case me:case ve:if(n&&"file"==e.scheme){c=Te;continue}if(":"!=o||g){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==f)return C;if(n&&""==f&&(Z(e)||null!==e.port))return;if(u=F(e,f),u)return u;if(f="",c=Se,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),f+=o}else{if(""==f)return C;if(u=F(e,f),u)return u;if(f="",c=be,n==ve)return}break;case be:if(!N.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return M;e.port=Q(e)&&w===$[e.scheme]?null:w,f=""}if(n)return;c=Se;continue}return M}f+=o;break;case ye:if(e.scheme="file","/"==o||"\\"==o)c=we;else{if(!r||"file"!=r.scheme){c=ke;continue}if(o==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=Ae;else{if("#"!=o){ne(a.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),ie(e)),c=ke;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=xe}}break;case we:if("/"==o||"\\"==o){c=Te;break}r&&"file"==r.scheme&&!ne(a.slice(l).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=ke;continue;case Te:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(f))c=ke;else if(""==f){if(e.host="",n)return;c=Se}else{if(u=F(e,f),u)return u;if("localhost"==e.host&&(e.host=""),n)return;f="",c=Se}continue}f+=o;break;case Se:if(Q(e)){if(c=ke,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(c=ke,"/"!=o))continue}else e.fragment="",c=xe;else e.query="",c=Ae;break;case ke:if(o==i||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(ae(f)?(ie(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):re(f)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==i||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=Ae):"#"==o&&(e.fragment="",c=xe)}else f+=X(o,z);break;case Ee:"?"==o?(e.query="",c=Ae):"#"==o?(e.fragment="",c=xe):o!=i&&(e.path[0]+=X(o,G));break;case Ae:n||"#"!=o?o!=i&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":X(o,G)):(e.fragment="",c=xe);break;case xe:o!=i&&(e.fragment+=X(o,J));break}l++}},Ce=function(e){var t,n,i=l(this,Ce,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(i,{type:"URL"});if(void 0!==r)if(r instanceof Ce)t=k(r);else if(n=Ie(t={},String(r)),n)throw TypeError(n);if(n=Ie(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new w,c=T(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(i.href=Pe.call(i),i.origin=Re.call(i),i.protocol=Ne.call(i),i.username=De.call(i),i.password=Oe.call(i),i.host=Le.call(i),i.hostname=je.call(i),i.port=_e.call(i),i.pathname=Ue.call(i),i.search=Be.call(i),i.searchParams=Ke.call(i),i.hash=Fe.call(i))},Me=Ce.prototype,Pe=function(){var e=k(this),t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==r?(c+="//",Z(e)&&(c+=n+(i?":"+i:"")+"@"),c+=W(r),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Re=function(){var e=k(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&Q(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Ne=function(){return k(this).scheme+":"},De=function(){return k(this).username},Oe=function(){return k(this).password},Le=function(){var e=k(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},je=function(){var e=k(this).host;return null===e?"":W(e)},_e=function(){var e=k(this).port;return null===e?"":String(e)},Ue=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=k(this).query;return e?"?"+e:""},Ke=function(){return k(this).searchParams},Fe=function(){var e=k(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Me,{href:He(Pe,(function(e){var t=k(this),n=String(e),i=Ie(t,n);if(i)throw TypeError(i);T(t.searchParams).updateSearchParams(t.query)})),origin:He(Re),protocol:He(Ne,(function(e){var t=k(this);Ie(t,String(e)+":",oe)})),username:He(De,(function(e){var t=k(this),n=h(String(e));if(!ee(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=X(n[i],Y)}})),password:He(Oe,(function(e){var t=k(this),n=h(String(e));if(!ee(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=X(n[i],Y)}})),host:He(Le,(function(e){var t=k(this);t.cannotBeABaseURL||Ie(t,String(e),me)})),hostname:He(je,(function(e){var t=k(this);t.cannotBeABaseURL||Ie(t,String(e),ve)})),port:He(_e,(function(e){var t=k(this);ee(t)||(e=String(e),""==e?t.port=null:Ie(t,e,be))})),pathname:He(Ue,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],Ie(t,e+"",Se))})),search:He(Be,(function(e){var t=k(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ie(t,e,Ae)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:He(Ke),hash:He(Fe,(function(e){var t=k(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ie(t,e,xe)):t.fragment=null}))}),c(Me,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),c(Me,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),y){var Ve=y.createObjectURL,qe=y.revokeObjectURL;Ve&&c(Ce,"createObjectURL",(function(e){return Ve.apply(y,arguments)})),qe&&c(Ce,"revokeObjectURL",(function(e){return qe.apply(y,arguments)}))}m(Ce,"URL"),r({global:!0,forced:!o,sham:!a},{URL:Ce})},"2ca0":function(e,t,n){"use strict";var i=n("23e7"),r=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,d=Math.min,f=u("startsWith"),h=!c&&!f&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(s(this));o(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return l?l.call(t,i,n):t.slice(n,n+i.length)===i}})},3280:function(e,t,n){"use strict";var i=n("ebb5"),r=n("e58c"),a=i.aTypedArray,o=i.exportTypedArrayMethod;o("lastIndexOf",(function(e){return r.apply(a(this),arguments)}))},3314:function(e,t,n){},"3a7b":function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").findIndex,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("findIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,n){"use strict";var i=n("ebb5"),r=n("50c4"),a=n("182d"),o=n("7b0b"),s=n("d039"),u=i.aTypedArray,c=i.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));c("set",(function(e){u(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=o(e),s=r(i.length),c=0;if(s+t>n)throw RangeError("Wrong length");while(c<s)this[t+c]=i[c++]}),l)},"3ca3":function(e,t,n){"use strict";var i=n("6547").charAt,r=n("69f3"),a=n("7dd0"),o="String Iterator",s=r.set,u=r.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},"3f2b":function(e,t,n){(function(i){var r;n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a623"),n("cb29"),n("4de4"),n("7db0"),n("c740"),n("5db7"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("a434"),n("73d9"),n("c19f"),n("b0c0"),n("4ec9"),n("a9e3"),n("9129"),n("b680"),n("dca8"),n("e439"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("5377"),n("25f0"),n("6062"),n("8a79"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("84c3"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s={};(function(e){var t,n,r,u,c,l,d,f,h,p,g,m,v,b,y,w,T,S,k,E,A,x,I,C,M,P,R,N,D,O,L,j,_,U,B,K,F,H,V,q,W,G,J,z,Y,X,$,Q,Z,ee,te,ne,ie,re,ae,oe,se,ue,ce,le,de,fe,he,pe,ge,me,ve,be,ye,we,Te,Se,ke,Ee,Ae,xe,Ie,Ce,Me,Pe,Re,Ne,De,Oe,Le,je,_e,Ue,Be,Ke,Fe,He,Ve,qe,We,Ge,Je,ze,Ye,Xe,$e,Qe,Ze,et,tt,nt,it,rt,at,ot,st,ut,ct,lt,dt,ft,ht,pt,gt,mt,vt,bt,yt,wt,Tt,St,kt,Et,At,xt,It,Ct,Mt,Pt,Rt,Nt,Dt,Ot,Lt,jt,_t,Ut,Bt,Kt,Ft,Ht,Vt,qt,Wt,Gt,Jt,zt,Yt,Xt,$t,Qt,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,dn,fn,hn,pn,gn,mn,vn,bn,yn,wn,Tn,Sn,kn,En,An,xn,In,Cn,Mn,Pn,Rn,Nn,Dn,On,Ln,jn,_n,Un,Bn,Kn,Fn,Hn,Vn,qn,Wn,Gn,Jn,zn,Yn,Xn,$n,Qn,Zn,ei,ti,ni,ii,ri,ai,oi,si,ui,ci,li,di,fi,hi,pi,gi,mi,vi,bi,yi,wi,Ti,Si,ki,Ei,Ai,xi,Ii,Ci,Mi,Pi,Ri,Ni,Di,Oi,Li,ji,_i,Ui,Bi,Ki,Fi,Hi,Vi,qi,Wi,Gi,Ji,zi,Yi,Xi,$i,Qi,Zi,er,tr,nr,ir,rr,ar,or,sr,ur,cr,lr,dr,fr,hr,pr,gr,mr,vr,br,yr,wr,Tr,Sr,kr,Er,Ar,xr,Ir,Cr,Mr,Pr,Rr,Nr,Dr,Or,Lr,jr,_r,Ur,Br,Kr,Fr,Hr,Vr,qr;if(t=" The setting will be ignored.",s.ba=" is unsupported on this platform.",n=" to a log level. Falling back to default!",s.da="'6.1.1'",r=".clpp-subtitle-container",s.fa="AdaptationSet",s.ha="Autoplay is not allowed due to browser policy.",u="Can not set volume to ",s.ja="Cannot retrieve buffer information due to platform limitations",s.ka="CastlabsPlayer",c="Content-Length",l="Content-Type",d="DRMtoday",f="DRMtodayOnboard",h="Destroying player",s.ra="Disable track type ",p="HW_SECURE_CRYPTO",g="HW_SECURE_DECODE",m="Ignoring duplicate init data.",v="Illegal constructor.",b="Invalid track type: ",s.xa="Loading player with configuration",s.ya="MaxHeight",s.Aa="MaxWidth",s.Ba="MediaKeySession.load not yet supported",s.Ca="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform",y="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!",w="No event provided!",T="No track data attached to the event, unable to add track!",s.Ga="NotSupportedError",s.Ha="Player sources",s.Ia="Player state change: ",s.Ka="QualityLevel",s.Ma="Releasing player with source",s.Na="Representation",S="SW_SECURE_CRYPTO",k="SW_SECURE_DECODE",s.Qa="Session type ",E="Signature Verification failed",s.Sa="SmoothStreamingMedia",A="The index is not in the allowed range.",x="Unable to translate ",s.Ya="Unregistering listeners",s.Za="Unsupported keySystem",s.$a="Updating manifest...",I="Using VTTCue polyfill from 3 argument TextTrackCue.",C="VTT parser encountered an invalid VTT setting: ",s.cb="ad-break-started",s.db="ad-break-stopped",s.eb="ad-buffering",s.gb="ad-clicked",s.hb="ad-completed",s.ib="ad-first-quartile",s.kb="ad-impression",s.lb="ad-loaded",s.mb="ad-midpoint",s.nb="ad-paused",s.ob="ad-progress",s.pb="ad-resumed",s.qb="ad-skipped",s.sb="ad-started",s.tb="ad-stopped",s.ub="ad-third-quartile",M="addtrack",s.xb="ads-timeline-changed",s.yb="airplay-casting-ended",s.zb="airplay-casting-started",s.Ab="airplay-status-changed",s.Bb="application",s.Cb="application/cea-608",P="application/dash+xml",s.Fb="application/ttml+xml",s.Gb="application/vnd.apple.mpegurl",R="application/vnd.ms-sstr+xml",N="application/x-mpegurl",D="application/x-subrip",O="application/x-www-form-urlencoded",s.Lb="audio",s.Mb="audio/mp4",s.Ob="audiobufferchanged",s.Qb="autoplaynotallowed",s.Rb="bitratechanged",s.Sb="boolean",s.Tb="bufferingended",s.Ub="bufferingstarted",L="canplay",j="canplaythrough",s.Xb="castingstarted",s.Yb="caststatuschanged",s.Zb="cenc",s.$b="center",_="change",s.bc="clpp.cast.CastSender",s.cc="clpp.component.persistent",U="clpp.native.Player",B="clpp.utils.Platform",K="clpp_html5_cast",s.gc="codecs",F="com.apple.fps",H="com.chromecast.playready",s.jc="com.microsoft.playready",s.kc="com.widevine.alpha",V="crossorigin",q="cuechange",s.nc="disabled",s.oc="div",s.pc="drmexpirationupdate",W="drmrenewalstarted",s.rc="drmsessionpersisted",s.sc="drmsessionupdate",G="dt-custom-data",J="durationchange",s.vc="encrypted",s.wc="end",s.xc="ended",s.yc="error",s.zc="frameRate",z="fullscreenElement",s.Bc="function",s.Cc="height",s.Dc="hidden",Y="http://www.w3.org/ns/ttml#parameter",X="http://www.w3.org/ns/ttml#styling",s.Gc="internal-error",s.Hc="keystatuseschange",s.Ic="license-renewal",s.Jc="license-request",$="line-left",Q="line-right",Z="lineThrough",s.Nc="loadeddata",s.Oc="loadedmetadata",ee="loadstart",s.Qc="mdat",s.Rc="message",te="metadata",s.Tc="mimeType",s.Uc="mp4",s.Vc="mpd-type-changed",s.Wc="native",s.Xc="number",s.Yc="object",s.Zc="onContentLoaded",s.$c="optional",s.ad="org.w3.clearkey",s.bd="output-not-allowed",ne="overline",s.dd="parsererror",s.ed="pause",s.fd="persistent-license",ie="picture-in-picture",s.hd="play",s.id="playing",s.jd="playlist-item-changed",s.kd="playlist-modified",s.ld="progress",s.md="ratechange",re="released",s.od="releasing",ae="removetrack",s.qd="required",s.rd="resize",oe="rgba(0, 0, 0, 0)",s.td="seeked",s.ud="seeking",s.xd="showing",s.yd="single-native",se="stalled",s.Ad="start",s.Bd="statechanged",s.Cd="status-pending",s.Dd="string",ue="style",s.Fd="subtitle",s.Gd="subtitles",s.Hd="temporary",s.k="text",s.Id="text/vtt",s.Jd="text/xml",ce="textDecoration",s.Ld="timeupdate",s.Md="und",le="underline",de="unknown",s.Pd="usable",s.Qd="user-seeked",s.Rd="user-seeking",s.Sd="value",s.Td="vertical-lr",s.Ud="vertical-rl",s.Vd="video",s.Wd="video/mp2t",s.Xd="video/mp4",s.Yd="videobufferchanged",s.Zd="videotrackchanged",s.$d="vimond-response",s.ae="waiting",s.be="waitingforkey",fe="webkitkeyadded",he="webkitkeyerror",pe="webkitkeymessage",ge="webkitneedkey",s.ge="webm",s.he="width",me="x-dt-auth-token",ve="x-dt-csl-tracking-token",be="x-dt-follow-up-token",ye="xml:id",we=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},s.u=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:we(e)}},s.ne=function(e){if(!(e instanceof Array)){e=s.u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e},s.w=function(e,t){if(e.prototype=Fr(t.prototype),e.prototype.constructor=e,s.pe)(0,s.pe)(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n]},Te=function(){Te=function(){},qr.Symbol||(qr.Symbol=zr)},Se=function(e,t){this.a=e,Vr(this,"description",{configurable:!0,writable:!0,value:t})},ke=function(){Te();var e=qr.Symbol.iterator;e||(e=qr.Symbol.iterator=qr.Symbol("Symbol.iterator")),a(Array.prototype[e])!=s.Bc&&Vr(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return Ee(we(this))}}),ke=function(){}},Ee=function(e){return ke(),e={next:e},e[qr.Symbol.iterator]=function(){return this},e},Ae=function(){this.i=!1,this.f=null,this.b=void 0,this.a=1,this.g=this.h=0,this.l=this.c=null},xe=function(e){if(e.i)throw new TypeError("Generator is already running");e.i=!0},Ie=function(e,t){e.c={Ze:t,nf:!0},e.a=e.h||e.g},s.x=function(e,t,n){return e.a=n,{value:t}},s.y=function(e){e.a=0},s.Ae=function(e,t,n){e.h=t,void 0!=n&&(e.g=n)},s.Be=function(e,t){e.a=t,e.h=0},s.Ce=function(e){e.h=0;var t=e.c.Ze;return e.c=null,t},s.De=function(e){this.a=new Ae,this.b=e},Ce=function(e,t){xe(e.a);var n=e.a.f;return n?Me(e,"return"in n?n["return"]:function(e){return{value:e,done:!0}},t,e.a["return"]):(e.a["return"](t),Pe(e))},Me=function(e,t,n,i){try{var r=t.call(e.a.f,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.a.i=!1,r;var a=r.value}catch(o){return e.a.f=null,Ie(e.a,o),Pe(e)}return e.a.f=null,i.call(e.a,a),Pe(e)},Pe=function(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.i=!1,{value:t.value,done:!1}}catch(n){e.a.b=void 0,Ie(e.a,n)}if(e.a.i=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.nf)throw t.Ze;return{value:t["return"],done:!0}}return{value:void 0,done:!0}},s.He=function(e){this.next=function(t){return xe(e.a),e.a.f?t=Me(e,e.a.f.next,t,e.a.j):(e.a.j(t),t=Pe(e)),t},this["throw"]=function(t){return xe(e.a),e.a.f?t=Me(e,e.a.f["throw"],t,e.a.j):(Ie(e.a,t),t=Pe(e)),t},this["return"]=function(t){return Ce(e,t)},ke(),this[Symbol.iterator]=function(){return this}},Re=function(e,t){if(t){for(var n=qr,i=e.split("."),r=0;r<i.length-1;r++){var a=i[r];a in n||(n[a]={}),n=n[a]}i=i[i.length-1],r=n[i],a=t(r),a!=r&&null!=a&&Vr(n,i,{configurable:!0,writable:!0,value:a})}},Ne=function(e){function t(t){return e.next(t)}function n(t){return e["throw"](t)}return new Promise((function(i,r){function a(e){e.done?i(e.value):Promise.resolve(e.value).then(t,n).then(a,r)}a(e.next())}))},s.A=function(e){return Ne(new s.He(new s.De(e)))},s.B=function(e,t){var n,i=e.split("."),r=Yr;i[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t},s.Le=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},De=function(e){e=s.C.lb(e.getConfiguration().textstyle||{}),this.m=a(e.backgroundColor)===s.Dd?e.backgroundColor:"rgba(0, 0, 0, 0.75)",this.G=a(e.windowColor)===s.Dd?e.windowColor:"transparent",this.s=a(e.fontColor)===s.Dd?e.fontColor:"rgba(255, 255, 255, 1)",this.v=a(e.fontFamily)===s.Dd?e.fontFamily:"sans",this.w=a(e.fontSize)===s.Dd?e.fontSize:"1em",this.i=a(e.edgeColor)===s.Dd?e.edgeColor:"rgba(0, 0, 0, 1)",this.f=Aa,a(e.edgeType)===s.Dd&&(this.f=e.edgeType)},Oe=function(e){var t="none",n=e.i;switch(e.f){case xa:t="-2px -2px 0 "+n+", -1px -1px 0 "+n;break;case Ia:t="2px 2px 0 "+n+", 1px 1px 0 "+n;break;case Ma:t="-1px 0 "+n+", 0 1px "+n+", 1px 0 "+n+", 0 -1px "+n;break;case Ca:t="2px 2px 3px "+n+", 2px 2px 4px "+n+", 2px 2px 5px "+n}return t},Le=function(e){return e&&0<=Qr[e]?Qr[e]:$r},je=function(e){if(!e)return s.G("clpp.log",x+e+n),-1;var t=Xr[e.toUpperCase()];return void 0===t?(s.G("clpp.log",x+e+n),-1):t},s.H=function(e){(this.a=e)&&void 0===Qr[e]&&(Qr[e]=-1)},s.$e=function(e){ea.info.apply(ea,arguments)},s.I=function(e){ea.debug.apply(ea,arguments)},s.G=function(e){ea.warn.apply(ea,arguments)},s.af=function(e){ea.error.apply(ea,arguments)},s.cf=function(e){var t=void 0===t?1/0:t;return s.bf(e,t,Uint8Array)},s.bf=function(e,t,n){var i=n.BYTES_PER_ELEMENT||1,r=e instanceof ArrayBuffer?e:e.buffer,a=(e.byteOffset||0)+e.byteLength;return e=Math.max(0,Math.min((e.byteOffset||0)+0*i,a)),t=Math.min(e+Math.max(t*i,0),a),e/=i,new n(r,e,t/i-e)},_e=function(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t},s.ef=function(e){if(!e)return"";e=s.cf(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(_e(e));try{return decodeURIComponent(e)}catch(t){throw Error("Error while decoding string!")}},Ue=function(e,t,n){if(!e)return"";if(!n&&0!==e.byteLength%2)throw ta.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");if(n=s.cf(e),(t&&255===n[0]&&254===n[1]||254===n[0]&&255===n[1])&&(e=n.subarray(2)),e instanceof ArrayBuffer)var i=e;else n=new Uint8Array(e.byteLength),n.set(s.cf(e)),i=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),i=new DataView(i);for(var r=0;r<e;r++)n[r]=i.getUint16(2*r,t);return _e(n)},s.hf=function(e,t){if(s.C.$(e))return e;var n="",i=!!t,r=s.cf(e);239==r[0]&&187==r[1]&&191==r[2]?n=s.ef(r):254==r[0]&&255==r[1]?n=Ue(r.subarray(2),!1):255==r[0]&&254==r[1]&&(n=Ue(r.subarray(2),!0));var a=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,r);if(ta.debug("Unable to find byte-order-mark, making an educated guess."),0==r[0]&&0==r[2]?n=Ue(e,!1):0==r[1]&&0==r[3]?n=Ue(e,!0):a(0)&&a(1)&&a(2)&&a(3)&&(n=s.ef(e)),n)return i&&(n=escape(n)),n;throw Error("Unable to detect text encoding")},Be=function(e){var t=0,n=[];switch(e=e.replace(/-/g,"+").replace(/_/g,"/"),e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Error("Illegal base64url string")}for(var i=0|e.length/4;0<i--;){var r=(ia[e.charCodeAt(t)]<<18)+(ia[e.charCodeAt(t+1)]<<12)+(ia[e.charCodeAt(t+2)]<<6)+ia[e.charCodeAt(t+3)];n.push(255&r>>16),n.push(255&r>>8),n.push(255&r),t+=4}return n&&("="===e.charAt(t-2)?(n.pop(),n.pop()):"="===e.charAt(t-1)&&n.pop()),new Uint8Array(n)},s.mf=function(e){e instanceof ArrayBuffer&&(e=s.cf(e));for(var t,n=0,i=[],r=0|e.length/3;0<r--;)t=(e[n]<<16)+(e[n+1]<<8)+e[n+2],n+=3,i.push(na.charAt(63&t>>18)),i.push(na.charAt(63&t>>12)),i.push(na.charAt(63&t>>6)),i.push(na.charAt(63&t));return 2===e.length-n?(t=(e[n]<<16)+(e[n+1]<<8),i.push(na.charAt(63&t>>18)),i.push(na.charAt(63&t>>12)),i.push(na.charAt(63&t>>6)),i.push("=")):1===e.length-n&&(t=e[n]<<16,i.push(na.charAt(63&t>>18)),i.push(na.charAt(63&t>>12)),i.push("==")),i.join("")},s.nf=function(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t},s.of=function(e,t){for(var n=new Uint8Array(2*e.length),i=new DataView(n.buffer),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n.buffer},s.pf=function(e,t){var n=t||1,i=e.length,r=new ArrayBuffer(i*n);if(4===n){var a=void 0===a?1/0:a;n=s.bf(r,a,Uint32Array)}else if(2===n){var o=void 0===o?1/0:o;n=s.bf(r,o,Uint16Array)}else n=s.cf(r);for(a=0;a<i;a++)n[a]=e.charCodeAt(a);return r},s.qf=function(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)},s.rf=function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length-t.length,i=e.lastIndexOf(t,n);return-1!==i&&i===n},s.sf=function(e){return!!(e&&0<e.length)},s.tf=function(e,t){var n,i=document.createElement(e);for(n in t)if(t.hasOwnProperty(n)){var r=t[n];null===r||void 0===r?i.setAttribute(n,""):i.setAttribute(n,r)}return i},s.vf=function(e,t){if(e.classList)e.classList.add(t);else{var n=Ke(e);0>n.indexOf(t)&&(n.push(t),e.setAttribute("class",n.join(" ")))}},s.wf=function(e,t){a(t)===s.Dd&&(t=[t]),t.forEach((function(t){if(e.classList)e.classList.remove(t);else{var n=Ke(e);t=n.indexOf(t),0<=t&&(n.splice(t,1),e.setAttribute("class",n.join(" ")))}}))},Ke=function(e){return e=e.getAttribute("class"),e?(e=e.trim(),0===e.length?[]:(e=e.replace(/,/g," "),e=e.replace(/ {2,}/g," "),e.split(" "))):[]},s.xf=function(e,t){var n;if(e&&a(t)===s.Yc)for(n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Fe=function(e,t){var n;t=void 0===t?{}:t;var i=document.querySelector("#clpp-styles");if(!i){i=document.createElement(ue),i.id="clpp-styles";var r=document.querySelector("head");r||(r=document.createElement("head"),document.body.appendChild(r)),r.appendChild(i)}r=document.styleSheets;for(var o,u=0;u<r.length;u++)if(r[u].ownerNode===i){o=r.item(u);break}if(i=o||null,o=i.cssRules.length,r="",i){for(var c in t)t.hasOwnProperty(c)&&(u=t[c],c=c.replace(/([A-Z])/g,"-$1").toLowerCase(),r+=c+": "+u+"; ");a(n)===s.Xc&&n>=o&&(n=o-1),i.hasOwnProperty("addRule")||a(i.addRule)===s.Bc?i.addRule(e,r,n):(i.hasOwnProperty("insertRule")||a(i.insertRule)===s.Bc)&&i.insertRule(e+" {"+r+"}",n)}},He=function(e){function t(t,n){if(document.all)var i=parseFloat(e.currentStyle[t]);else t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),i=parseFloat(document.defaultView.getComputedStyle(e,"").getPropertyValue(t));return i&&!isNaN(i)||(i=n),i}return{height:t(s.Cc,e.offsetHeight),width:t(s.he,e.offsetWidth),marginTop:t("marginTop",0),marginBottom:t("marginBottom",0),marginLeft:t("marginLeft",0),marginRight:t("marginRight",0)}},Ve=function(){var e=document.createElement("a");return e.style.display="flex",e="flex"===e.style.display,e?"flex":"block"},qe=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},We=function(e){return"middle"===e?s.$b:"left"===e||e===$?s.Ad:"right"===e||e===Q?s.wc:e},s.Df=function(e){this.b=e,this.a=null},s.Ef=function(e){this.b=e,this.a=null},Ge=function(e){if(De.call(this,e),this.J=e,e=e.getSurface(),!e.i||!document.querySelector(r)){var t=document.createElement(s.oc),n=document.createElement(s.oc),i=document.createElement(s.oc);Fe(r,{backgroundColor:oe,bottom:0,flexDirection:"column",justifyContent:"flex-end",left:0,marginBottom:"30px",maxHeight:"100%",maxWidth:"100%",pointerEvents:"none",position:"absolute",right:0,top:0,overflow:s.Dc}),Fe(".clpp-show-flex",{display:"block"}),Fe(".clpp-hidden",{display:"none"}),Fe(".clpp-subtitle-window",{backgroundColor:oe,flexDirection:"row",justifyContent:s.$b,position:"relative",width:"100%",boxSizing:"border-box"}),Fe(".clpp-subtitle-cues",{color:"#fff",backgroundColor:oe}),s.vf(t,"clpp-subtitle-container"),s.vf(n,"clpp-subtitle-window"),s.vf(i,"clpp-subtitle-cues"),n.appendChild(i),t.appendChild(n),e.tc(t),e.i=t,e.l=n,e.j=i}this.B=e.i,this.C=e.l,this.l=e.j,this.o=new s.H("clpp.text.HtmlTextDisplayer"),this.b=[],this.g=this.a=null,this.h=this.c=this.j=!1,this.Oa()},Je=function(e){e.c||(e.a=new s.Ef((function(){return ze(e)})),e.a.Ea(.1))},ze=function(e){if(!e.j&&e.h){var t=e.J.getPosition(),n=e.g;n&&(n.endTime<t||n.startTime>t)&&Ye(e),n=null;for(var i=0;i<e.b.length;i++){var r=e.b[i];if(r.startTime<=t&&t<=r.endTime){n=r;break}}if(n&&n!==e.g){e.g=n,t=n.textAlign;var o=n.payload||"";n=e.B,i=e.C,e=e.l,r={bottom:"",display:Ve(),justifyContent:"",opacity:"0",top:""};var u={display:Ve(),justifyContent:"",left:"",marginLeft:"",paddingLeft:"",paddingRight:"",textAlign:""},c={display:"",left:"",marginLeft:"",marginRight:"",maxWidth:"",maxHeight:"",position:"",wordWrap:"",right:"",textAlign:"",transform:"",transformOrigin:"",writingMode:"",whiteSpace:""};e.innerHTML=o.replace(/\n/g,"<br/>");var l=He(e);qe(n,r),qe(i,u),qe(e,c),l=l.height;var d=We(t),f="auto";a(f)!==s.Xc?(d||(d=s.$b),d===s.$b?f=50:d===s.Ad?f=0:d===s.wc&&(f=100)):d||(d=s.Ad),d===s.$b?50>f?u.paddingRight=100-2*f+"%":50<f&&(u.paddingLeft=2*f-100+"%"):d===s.Ad?(u.paddingLeft=f+"%",u.justifyContent="flex-start",c.wordWrap="break-word"):d===s.wc&&(u.paddingRight=100-f+"%",u.justifyContent="flex-end",c.wordWrap="break-word"),d="auto",a(d)!==s.Xc&&(d=100),qe(n,r),qe(i,u),qe(e,c),f=He(n.parentElement);var h=He(n),p=He(e).height;r.display=Ve(),r.justifyContent="flex-start",p=100*(f.height-h.marginBottom-p)/f.height,o=parseInt((f.height-h.marginBottom)/(l/((o.split("<br>")||[]).length||1)),10)||16,0>d?(d=Math.abs(d)-1,d=o-d+1):1>d&&(d=1),0<d&&--d,d=Math.max(0,Math.min(100*d/o,100)),r.top=d/100*p-5+"%",t=We(t),t===s.$b?c.textAlign=s.$b:t===s.wc&&(c.textAlign="right"),qe(n,r),qe(i,u),qe(e,c),qe(n,{opacity:""})}}},Ye=function(e){e.l.innerHTML="",s.wf(e.B,"clpp-show-flex")},s.Kf=function(e){De.call(this,e),this.j=e.getSurface().F(),this.c="clpp-video-"+oa++,this.b=document.createElement(ue),this.g=this.h=!1,s.vf(this.j,this.c),document.head.appendChild(this.b),this.Oa()},Xe=function(){},s.Of=function(e,t){e&&t&&(sa.set(e,t),ua.info("Registered TextDisplayerFactory: '"+e+"'"))},s.Pf=function(e,t){var n=t.find((function(t){return!!(t=sa.get(t))&&t.N(e)}));return ua.info("Chosen the text displayer: "+n),n?sa.get(n):null},$e=function(){},s.J=function(e,t,n,i,r){var a=Error.call(this,Qe(e,t,n,i));this.message=a.message,"stack"in a&&(this.stack=a.stack),this.a=e,this.c=t,this.code=n,this.data=!i||s.C.$(i)?{}:i,this.b=void 0===r?null:r,Error.captureStackTrace&&Error.captureStackTrace(this,s.J)},Qe=function(e,t,n,i){if(e=(e===s.K?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+t+" - Code "+n+"]",s.C.$(i))e+=": "+i;else if(null!=i&&void 0!=i)if(null!=i.message&&void 0!=i.message)e+=": "+i.message,delete i.message;else try{e+=": "+JSON.stringify(i)}catch(r){}return e},s.bg=function(e,t,n){this.startTime=e,this.direction=pa,this.endTime=t,this.payload=n,this.region=new Ze,this.position=null,this.positionAlign=ca,this.size=100,this.textAlign=la,this.writingMode=ga,this.lineInterpretation=ma,this.line=null,this.lineHeight="",this.lineAlign=va,this.displayAlign=fa,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=ya,this.fontStyle=wa,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""},Ze=function(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Sa,this.scroll=ka},s.eg=function(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n},s.fg=function(e){e=e.split(".");var t=e[0];return e.pop(),[t,e.join(".")]},s.gg=function(e){this.i=null,this.c=e,this.f=this.l=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map},s.ig=function(t){return!!(s.hg[t]||e.muxjs&&t==s.Cb)},s.jg=function(e){this.b=e,this.a=0},et=function(e){s.kg(e,/[ \t]+/gm)},s.kg=function(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)},tt=function(e){return e.a==e.b.length?null:(e=s.kg(e,/[^ \t\n]*/gm))?e[0]:null},nt=function(){},it=function(e,t,n){var i;if(i=/^align:(start|middle|center|end|left|right)$/.exec(t))t=i[1],e.textAlign="middle"==t?la:da[t.toUpperCase()];else if(i=/^vertical:(lr|rl)$/.exec(t))e.writingMode="lr"==i[1]?s.Td:s.Ud;else if(i=/^size:([\d.]+)%$/.exec(t))e.size=Number(i[1]);else if(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t==$||t==s.Ad?$:t==Q||t==s.wc?Q:s.$b);else{if(!(i=/^region:(.*)$/.exec(t))){e:{if(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=ba[n[2].toUpperCase()]);else{if(!(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))){e=!1;break e}e.lineInterpretation=ma,e.line=Number(n[1]),n[2]&&(e.lineAlign=ba[n[2].toUpperCase()])}e=!0}return e}(t=rt(n,i[1]))&&(e.region=t)}return!0},rt=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:(s.G("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},at=function(e){if(e=s.kg(e,/(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})\.(\d{3})/g),null==e)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)},s.ug=function(e,t){for(var n=s.u(Ea),i=n.next();!i.done;i=n.next())if(i=i.value,i.probe(e,t))return i.create();return null},s.vg=function(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)},ot=function(){},st=function(e){var t=[];if(!e)return t;for(var n=e.childNodes,i=0;i<n.length;i++){var r="span"==n[i].nodeName&&"p"==e.nodeName;n[i].nodeType!=Node.ELEMENT_NODE||"br"==n[i].nodeName||r||(r=st(n[i]),t=t.concat(r))}return t.length||t.push(e),t},ut=function(e,t){for(var n=e.childNodes,i=0;i<n.length;i++)if("br"==n[i].nodeName&&0<i)n[i-1].textContent+="\n";else if(0<n[i].childNodes.length)ut(n[i],t);else if(t){var r=n[i].textContent.trim();r=r.replace(/\s+/g," "),n[i].textContent=r}},ct=function(e,t,n,i,r,a,o,u){if(!e.hasAttribute("begin")&&!e.hasAttribute(s.wc)&&/^\s*$/.test(e.textContent))return null;ut(e,u),u=mt(e.getAttribute("begin"),n);var c=mt(e.getAttribute(s.wc),n);n=mt(e.getAttribute("dur"),n);var l=e.textContent;if(null==c&&null!=n&&(c=u+n),null==u||null==c)return s.G("TtmlTextParser: ignoring cue without start and end time."),null;if(t=new s.bg(u+t,c+t,l),(a=gt(e,"region",a,""))&&a.getAttribute(ye)){var d=a.getAttribute(ye);o=o.filter((function(e){return e.id==d})),t.region=o[0]}return i=gt(e,"smpte:backgroundImage",i,"#"),lt(t,e,a,i,r),t},lt=function(e,t,n,i,r){"rtl"==ft(t,n,r,"direction")&&(e.direction="rtl");var a=ft(t,n,r,"writingMode");if("tb"==a||"tblr"==a?e.writingMode=s.Td:"tbrl"==a?e.writingMode=s.Ud:"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=pa),(a=ft(t,n,r,"textAlign"))&&(e.positionAlign=Ka[a],e.lineAlign=Ba[a],e.textAlign=da[a.toUpperCase()]),(a=ft(t,n,r,"displayAlign"))&&(e.displayAlign=ha[a.toUpperCase()]),(a=ft(t,n,r,"color"))&&(e.color=a),(a=ft(t,n,r,"backgroundColor"))&&(e.backgroundColor=a),(a=ft(t,n,r,"fontFamily"))&&(e.fontFamily=a),(a=ft(t,n,r,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=ft(t,n,r,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=ft(t,n,r,"lineHeight"))&&a.match(Ra)&&(e.lineHeight=a),(a=ft(t,n,r,"fontSize"))&&a.match(Ra)&&(e.fontSize=a),(a=ft(t,n,r,"fontStyle"))&&(e.fontStyle=Ta[a.toUpperCase()]),i){a=i.getAttribute("imagetype");var o=i.getAttribute("encoding");i=i.textContent,"PNG"==a&&"Base64"==o&&i&&(e.backgroundImage="data:image/png;base64,"+i)}(n=ht(n,r,ce))&&dt(e,n),(t=pt(t,r,ce))&&dt(e,t)},dt=function(e,t){for(var n=t.split(" "),i=0;i<n.length;i++)switch(n[i]){case le:e.textDecoration.includes(le)||e.textDecoration.push(le);break;case"noUnderline":e.textDecoration.includes(le)&&s.vg(e.textDecoration,le);break;case Z:e.textDecoration.includes(Z)||e.textDecoration.push(Z);break;case"noLineThrough":e.textDecoration.includes(Z)&&s.vg(e.textDecoration,Z);break;case ne:e.textDecoration.includes(ne)||e.textDecoration.push(ne);break;case"noOverline":e.textDecoration.includes(ne)&&s.vg(e.textDecoration,ne)}},ft=function(e,t,n,i){return(e=pt(e,n,i))?e:ht(t,n,i)},ht=function(e,t,n){for(var i=st(e),r=0;r<i.length;r++){var a=s.M.getAttributeNS(i[r],X,n);if(a)return a}return(e=gt(e,ue,t,""))?s.M.getAttributeNS(e,X,n):null},pt=function(e,t,n){return(e=gt(e,ue,t,""))?s.M.getAttributeNS(e,X,n):null},gt=function(e,t,n,i){if(!e||1>n.length)return null;var r=null,a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode,a instanceof Element););if(t=e)for(e=0;e<n.length;e++)if(i+n[e].getAttribute(ye)==t){r=n[e];break}return r},mt=function(e,t){var n=null;if(Da.test(e)){n=Da.exec(e);var i=Number(n[1]),r=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*r+3600*i}else Oa.test(e)?n=vt(Oa,e):La.test(e)?n=vt(La,e):ja.test(e)?(n=ja.exec(e),n=Number(n[1])/t.frameRate):_a.test(e)?(n=_a.exec(e),n=Number(n[1])/t.a):Ua.test(e)&&(n=vt(Ua,e));return n},vt=function(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)},bt=function(e,t,n,i){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(i),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))},s.Ug=function(e,t){this.b=s.C.sb(e)?new DataView(new ArrayBuffer(e),0,e):e,this.a=0,this.c=!!t,this.buffer=this.b.buffer},s.Wg=function(e,t,n){t=new DataView(t.buffer);try{n=n||0;for(var i=t.byteLength-n,r=0;r<i;r++)e.b.setUint8(e.a,t.getUint8(n+r)),e.a+=1}catch(a){s.Vg()}},s.N=function(e,t){try{e.b.setUint32(e.a,t,e.c),e.a+=4}catch(n){s.Vg()}},s.Vg=function(){throw new s.J(s.K,3,3e3)},s.Xg=function(e,t){this.b=e,this.c=void 0===t||t,this.a=0},s.Yg=function(e){return e.a<e.b.byteLength},s.$g=function(e){try{var t=e.b.getUint8(e.a);return e.a+=1,t}catch(n){yt()}},s.ah=function(e){try{var t=e.b.getUint16(e.a,e.c);return e.a+=2,t}catch(n){yt()}},s.bh=function(e){try{var t=e.b.getUint32(e.a,e.c);return e.a+=4,t}catch(n){yt()}},s.ch=function(e){try{var t=e.b.getInt32(e.a,e.c);return e.a+=4,t}catch(n){yt()}},s.dh=function(e){var t=0;try{if(e.c){var n=e.b.getUint32(e.a,!0);t=e.b.getUint32(e.a+4,!0)}else t=e.b.getUint32(e.a,!1),n=e.b.getUint32(e.a+4,!1)}catch(i){yt()}if(2097151<t)throw new s.J(s.K,3,3001);return e.a+=8,t*Math.pow(2,32)+n},s.eh=function(e,t){e.a+t>e.b.byteLength&&yt();var n=e.b.buffer.slice(e.a,e.a+t);return e.a+=t,s.cf(n)},s.fh=function(e){if(1>e.a)throw yt();--e.a},yt=function(){throw new s.J(s.K,3,3e3)},s.gh=function(){this.c=[],this.b=[],this.a=!1,this.f=new s.H("clpp.mp4")},s.hh=function(e){for(;s.Yg(e.u)&&!e.gb.a;)e.gb.kd(e.start+e.Td,e.u,e.Mf)},s.ih=function(e){for(var t=s.bh(e.u);0<t&&!e.gb.a;--t)e.gb.kd(e.start+e.Td,e.u,e.Mf)},wt=function(e){return function(t){var n=t.u.ha()-t.u.getPosition();e(s.eh(t.u,n))}},Tt=function(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t},St=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},kt=function(){this.a=new ot},Et=function(){},s.ph=function(e){e=s.ef(e),e=e.replace(/\r+/g,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/<[a-zA-Z\/][^>]*>/g,"");var t=e.split("\n\n");if(e="",0<t.length){e+="WEBVTT\n\n",t=s.u(t);for(var n=t.next();!n.done;n=t.next())e+=At(n.value)}return s.nf(e)},At=function(e){var t="";for(e=e.split(/\n/);3<e.length;){for(var n=3;n<e.length;++n)e[2]+="\n"+e[n];e.splice(3,e.length-3)}if(3!==e.length)return"";if(n=0,!e[0].match(/\d+:\d+:\d+/)&&e[1].match(/\d+:\d+:\d+/)&&(t+=e[0].match(/\w+/)+"\n",++n),!e[n].match(/\d+:\d+:\d+/))return"";var i=e[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);return i?(t+=i[1]+":"+i[2]+":"+i[3]+"."+i[4]+" --\x3e ",t+=i[5]+":"+i[6]+":"+i[7]+"."+i[8]+"\n",++n,e[n]&&(t+=e[n]+"\n\n"),t):""},xt=function(){},It=function(){},Ct=function(){},s.th=function(){return!(!e.MediaSource||!MediaSource.isTypeSupported)},Mt=function(e){return""!==Rt().canPlayType(e)},s.xh=function(e){return s.wh("Tizen"+(e?" "+String(e):""))},s.yh=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!s.xh()},s.zh=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)},Pt=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)},s.wh=function(e){return(navigator.userAgent||"").includes(e)},Rt=function(){return Va||(Ha||(Ha=new s.Ef((function(){Va=null}))),(Va=document.querySelector(s.Vd)||document.querySelector(s.Lb))||(Va=document.createElement(s.Vd)),Ha.P(1),Va)},Nt=function(e,t){try{return parseInt(t,10)}catch(n){qa.warn("Unable to parse version number for '"+t+"' from '"+e+"'")}return-1},Dt=function(e){var t={major:-1,name:de};if(!e)return t;var n=e.replace(/_/g,".");return t.name=n,n=n.split("."),1<=n.length&&(t.major=Nt(e,n[0])),2<=n.length&&(t.minor=Nt(e,n[1])),3<=n.length&&(t.patch=Nt(e,n[2])),4<=n.length&&(t.build=Nt(e,n[3])),t},Ot=function(e,t){if(!e||!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1},Lt=function(){var e=jt();if(!e)return $a;var t=e.match(/^.+?(?=\))/);return t?(t=t[0],Ot(t,["iphone","ipad"])?Ga:Ot(t,["android"])?Wa:Ot(t,["macintosh"])?za:Ot(t,["windows nt"])?Ya:Ot(t,["tizen"])?Xa:Ot(t,["linux"])?Ja:(qa.warn("Unable to identify OS from user agent: "+e),$a)):$a},jt=function(){var t=e.navigator.userAgent;return t.toLowerCase()},s.Sh=function(){var e=Lt(),t=Lt(),n=Za[t];n?(n=jt().match(n.os_version)[1],n=Dt(n),t===Ya&&("5.1"===n.name?n.name="xp":"6.1"===n.name?n.name="7":"6.2"!==n.name&&"6.3"!==n.name||(n.name="8")),t=n):t=Dt("");e:{n=jt();var i="ie edge opera firefox safari chrome".split(" "),r=Lt();r=Za[r];for(var a=0,o=i.length;a<o;a++)if(r[i[a]]&&n.match(r[i[a]])){n=i[a];break e}n=Qa}e:{i=jt(),r="ie edge opera firefox safari chrome".split(" "),a=Lt(),o=Za[a];for(var s=0,u=r.length;s<u;s++)if(a=o[r[s]]&&i.match(o[r[s]])){i=Dt(a[1]);break e}i=Dt("")}return{os:e,osVersion:t,browser:n,browserVersion:i}},_t=function(){},Ut=function(){this.a=null,this.b=new s.H("clpp.vtt.mp4")},Bt=function(e,t,n){var i,r,a;return(new s.gh).I("payl",wt((function(e){i=s.ef(e)}))).I("iden",wt((function(e){r=s.ef(e)}))).I("sttg",wt((function(e){a=s.ef(e)}))).parse(e),i?Kt(i,r,a,t,n):null},Kt=function(e,n,i,r,a){if(e=new s.bg(r,a,e),n&&(e.id=n),i)for(n=new s.jg(i),i=tt(n);i;)it(e,i,[])||s.G(C,i,t),et(n),i=tt(n);return e},Ft=function(e,t){this.b=e,this.a=t},Ht=function(e,t){this.a=e,this.b=t},s.ai=function(e){e&&(s.Zh.hasOwnProperty(e.name)?s.$h.warn("Player-Factory '"+e.name+"' already registered"):(s.Zh[e.name]=e,s.$h.info("Registered Player-Factory: '"+e.name+"'")))},s.bi=function(){this.a={}},Vt=function(e,t,n,i){this.eventName=e,this.bc=t,this.a=n,this.qj=!!i},s.O=function(t,n){if(n)for(var i in n)this[i]=n[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=this.b=!1},qt=function(e){this.a=new s.bi,this.b=e},s.ei=function(){this.a=new s.bi},Wt=function(e,t,n){function i(a){r.forEach((function(n){e.off(t,n,i)})),n(a)}var r=[s.vc,"msneedkey",ge,"needkey"];r.forEach((function(n){e.on(t,n,i)}))},s.hi=function(e){var t,n=e.a,i=[];for(t in n.a)i.push.apply(i,n.a[t]);for(n=0;n<i.length;++n)Jt(i[n]);e.a.clear()},Gt=function(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.a=i,this.target.addEventListener(t,n,i)},Jt=function(e){e.target.removeEventListener(e.type,e.listener,e.a),e.target=null,e.listener=null},zt=function(e){this.b=e,this.g=null,this.c=new s.ei,this.a=this.h=null,this.f=[],this.i=new s.H("clpp.native.Metadata")},Yt=function(e,t){e.g=t,e.h=e.g.textTracks,e.c.on(e.h,M,(function(t){t=t.track,t.kind===te&&Xt(e,t)}))},Xt=function(e,t){function n(e){for(var t=s.u(i),n=t.next();!n.done;n=t.next())if(n=n.value,e.startTime===n.startTime&&e.endTime===n.endTime)return n;return i.push({schemeIdUri:"",value:"",startTime:e.startTime,endTime:e.endTime,id:"",type:ho,eventElement:null}),i[i.length-1]}e.i.debug("onMetadata_()"),t.mode=s.Dc;var i=[];if(t.cues){for(var r=s.u(t.cues),a=r.next();!a.done;a=r.next())if(a=a.value,!$t(e,a)){var o=n(a);switch(a.value.key){case"SCTE35-IN":case"SCTE35-OUT":o.schemeIdUri="urn:scte:scte35:2014",o.type=fo;break;case"X-CUSTOM-ID":o.id=a.value.data}}for(r=s.u(i),a=r.next();!a.done;a=r.next())e.b.trigger(new s.O(s.pi,{detail:a.value}));Array.prototype.push.apply(e.f,i),e.c.off(t,q),e.c.on(t,q,(function(t){var n;t=t.target.activeCues,t=t.length?$t(e,t[0]):e.a,(n=t)&&(n=e.b.getPosition(),n=t.startTime<=n&&n<t.endTime),n?(e.a=t,e.b.trigger(new s.O(s.qi,{detail:t}))):((t=e.a)&&(t=e.a,n=e.b.getPosition(),t=t.endTime<=n),t&&(t=e.a,e.a=null,e.b.trigger(new s.O(s.ri,{detail:t}))))}))}},$t=function(e,t){for(var n=s.u(e.f),i=n.next();!i.done;i=n.next())if(i=i.value,t.startTime===i.startTime&&t.endTime===i.endTime)return i;return null},s.si=function(e,t){this.id=e,this.type=t,this.roles=[],this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null,this.renditions=[]},s.ti=function(e,t){this.track=t,this.id=e,this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null},s.ui=function(e){return void 0!==e&&null!==e&&""!==e?e:null},Qt=function(e){if(!e)throw new s.J(s.K,3,3101,b+e);if(!s.C.$(e))throw new s.J(s.K,3,3101,b+e+". Track type must be a string!");switch(e.toLowerCase()){case s.P:return s.P;case s.Q:return s.Q;case s.vi:return s.vi;case Fa:return Fa}throw new s.J(s.K,3,3101,"Unknown track type: "+e+".")},Zt=function(e,t){e=Qt(e);var n=s.ui(t.kind),i=t.id;return i||(i=String(s.yi++)),i=new s.si(i,n===te?Fa:e),i.kind=n,i.label=s.ui(t.label),i.language=s.ui(t.language),i},s.S=function(){},en=function(){this.a=new s.H("clpp.native.TrackManager"),this.b=null,this.f=new s.ei,this.g=[],this.l=0,this.i={},this.m=[],this.c=new Map,this.h=new Map,this.j=!0,this.w=this.he.bind(this,s.P),this.C=this.ke.bind(this,s.P),this.B=this.je.bind(this,s.P),this.G=this.he.bind(this,s.vi),this.K=this.ke.bind(this,s.vi),this.J=this.je.bind(this,s.vi),this.o=this.he.bind(this,s.Q),this.v=this.ke.bind(this,s.Q),this.s=this.je.bind(this,s.Q)},tn=function(e,t,n){return e.type===n&&(void 0!==t.id&&null!==t.id&&""!==t.id?e.id===t.id:s.C.xa(e,t,["kind","language","label"]))},nn=function(e,t){var n,i,r,a,o,u,c;return s.A((function(l){if(1==l.a)return n=s.ug(t.mimeType,s.Id),n?(i=s.Ci(t.url),s.x(l,e.b.getNetworkEngine().fetch(i).promise,2)):(e.a.warn("Track mimetype is not supported",t),l["return"]());(r=l.b)&&r.data&&(a="External_"+e.l++,e.i[a]=t,o=s.ph(s.cf(r.data)),u=URL.createObjectURL(new Blob([o])),c={url:u,kind:t.kind,language:t.language,label:t.label,mimeType:s.Id},rn(e,c,a)),s.y(l)}))},rn=function(e,t,n){if(e.b){var i=e.b.getSurface().F();if(i){var r=document.createElement("track");r.id=n,r.src=t.url,r.kind=t.kind,r.srclang=t.language,t.label&&(r.label=t.label),i.appendChild(r),e.m.push(r)}}},an=function(e,t){if(!e.b)return null;var n=e.b.getSurface();if(!n)return null;if(n=n.F(),!n)return null;switch(t){case s.Q:return n.audioTracks;case s.vi:return n.videoTracks;case s.P:return n.textTracks;default:return null}},on=function(e,t){var n=an(e,t);return n&&(n=Array.from(n),t===s.P&&(n=n.filter((function(e){return e.kind!==te})))),n},sn=function(e,t){return e.g.filter((function(e){return e.type===t}))},un=function(e,t){var n=e.c.get(t)||null;return n&&n.renditions[0]},cn=function(e,t){var n=e.h.get(t);return n&&n.renditions[0]},ln=function(e,t,n){var i=on(e,t);if(n){if(void 0===e.g.find((function(e){return e.id===n.id})))throw Error("Unknown track with ID "+n.id+" and type "+t);if(n.type!==t)throw Error("Types mismatch for track "+n.type+" and arg "+t);if(e.a.debug("Activate track type "+t+" with ID: "+n.id),i){e.h.set(t,n);var r=!0,a=!1;switch(t){case s.P:var o="mode";r=s.xd,a=s.nc;break;case s.Q:o="enabled";break;case s.vi:o="selected"}if(o){i=s.u(i);for(var u=i.next();!u.done;u=i.next())u=u.value,u[o]=tn(n,u,n.type)?r:a}}}else if(e.a.debug(s.ra+t),e.c.get(t)&&i&&t===s.P){for(o=s.u(i),u=o.next();!u.done;u=o.next())u.value.mode=s.nc;e.c.set(t,null)}t===s.Q?e.b.trigger(new s.O(s.Ki)):t===s.P&&e.b.trigger(new s.O(s.Li))},dn=function(e){return e.enabled||e.selected||e.mode===s.xd||e.mode===s.Dc},fn=function(e,t,n){e.a.info("Find preferred tracks for",t,n);var i=sn(e,t);s.sf(n)&&(i=i.find((function(e){return e.language===n})))&&(e.a.info("Will select track with id",i.id),ln(e,t,i))},hn=function(e){this.h=e.getTextDisplayer(),this.b=this.f=null,this.a=new s.ei,this.c=!1,this.g=new s.H("clpp.native.CueHandler")},pn=function(e,t){var n=t.track;n.mode===s.xd&&(n.mode=s.Dc),e.a.on(n,q,(function(t){if(t=t.target||t.srcElement,t.mode=s.Dc,t=t.activeCues,0!==t.length){var n,i=t.length,r="";for(n=0;n<i;n++)r+=t[n].text+(n<i-1?"<br>":"");r=r.replace(/\n/g,"<br>"),e.h.append([new s.bg(t[0].startTime,t[0].endTime,r)])}}))},s.Ri=function(e,t){this.length=(this.b=e)?e.length:0,this.a=[],this.type=void 0===t?"total":t},s.Si=function(){this.xc=new qt(this),this.dc=[]},s.Ti=function(e){try{var t=e.uris[e.uriIndex],n=s.Ti.parse(t);return{promise:Promise.resolve({uri:t,data:n.data,request:e,headers:{"content-type":n.contentType}}),request:e,abort:function(){return Promise.resolve()}}}catch(i){return{promise:Promise.reject(i),request:e,abort:function(){return Promise.resolve()}}}},gn=function(e){this.a=new Uint8Array(e||65536),this.b=0,this.c=Date.now()},mn=function(e,t,n){return t.read().then((function(i){var r=i.done;if(i=i.value,null!=i){var a=Date.now();vn(e,i),Bn(n,i.byteLength,a-e.c),e.c=a}return r?(r=e.a.buffer,e.a.byteLength!==e.b&&(r=r.slice(0,e.b)),Promise.resolve(r)):Promise.resolve().then((function(){return mn(e,t,n)}))}))},vn=function(e,t){for(;e.a.byteLength<e.b+t.byteLength;){var n=new Uint8Array(2*e.a.byteLength);n.set(e.a),e.a=n}e.a.set(t,e.b),e.b+=t.byteLength},bn=function(e){var t=void 0===t?2:t;this.a=new Uint8Array(e),this.c=t,this.b=0},yn=function(e,t){var n=e.b+t.byteLength;if(n>e.a.byteLength){var i=e.a;e.a=new Uint8Array(Math.max(Math.ceil(e.a.buffer.byteLength*e.c),n)),e.a.set(i)}e.a.set(t,e.b),e.b+=t.byteLength},wn=function(e){e=void 0===e?1e6:e,this.f=new bn(e),this.length=e,this.b=this.a=this.c=0,this.g=null,this.h=-1,this.i=Date.now()},Tn=function(e,t,n,i){return t.read().then((function(r){var a=r.done;r=r.value;var o=Date.now();if(i&&r){var s=o-e.i;100<s&&(i(r.byteLength,s),e.i=o)}if(a)return a=An(e),(a=n(!0,a))?a.then((function(){return e.f.a.buffer})):Promise.resolve(e.f.a.buffer);if(a=Promise.resolve(),null!=r){for(yn(e.f,r),e.a=e.c,e.b=e.f.b,e.g=new DataView(e.f.a.buffer,0,e.f.b),o=Sn(e),r=[];o;)r.push(o),o=Sn(e);if(0<r.length){if(o=r[0],1<r.length){o=r[0],s=r[r.length-1];var u=s.end-o.start;o={start:o.start,end:s.end,length:u,data:new DataView(e.f.a.buffer,o.start,u),count:r.length}}(r=n(!1,o))&&(a=r)}}return a.then((function(){return Tn(e,t,n,i)}))}))},Sn=function(e){if(0<=e.h&&e.b<e.h)return null;for(var t=kn(e);null!==t;){if(t.name===s.Qc){var n={start:e.c,end:t.end,length:t.end-e.c,data:new DataView(e.f.a.buffer,e.c,t.end-e.c),count:1};return e.c=t.end,n}t=kn(e)}return null},kn=function(e){var t=e.a;if(e.a+4>=e.b)return e.a=e.b,null;var n=En(e);if(e.a+4>=e.b)return e.a=e.b,null;var i=En(e);switch(i=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i),n){case 0:n=e.b-t;break;case 1:if(e.a+8>=e.b)return e.a=e.b,null;try{var r=e.g.getUint32(e.a,!1),a=e.g.getUint32(e.a+4,!1)}catch(o){throw new s.J(s.K,3,3e3)}if(2097151<r)throw new s.J(s.K,3,3e3);e.a+=8,n=r*Math.pow(2,32)+a}return n=t+n,e.h=n,e.b>=n?(e.a=n,{name:i,start:t,end:n}):null},En=function(e){var t=e.g.getUint32(e.a,!1);return e.a+=4,t},An=function(e){var t=null;return e.c!==e.b&&(t={start:e.c,end:e.b,length:e.b-e.c,data:new DataView(e.f.a.buffer,e.c,e.b-e.c),count:-1}),t},xn=function(t){var n,i=new xn.b;for(n in t.headers)i.append(n.toLowerCase(),t.headers[n]);var r=new xn.a,a={uc:!1,Sf:!1};if(i={promise:xn.g(t.uris[t.uriIndex],t,{body:t.body||void 0,headers:i,method:t.method,signal:r.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a),request:t,abort:function(){return a.uc||(a.uc=!0,r.abort()),Promise.resolve()}},t=t.timeout){var o=e.setTimeout((function(){a.Sf=!0,r.abort()}),t);i.promise=i.promise["finally"]((function(){e.clearTimeout(o)}))}return i},s.gj=function(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n},In=function(e){var t=e.uris[e.uriIndex],n=new In.c,i=Date.now(),r=i,a=0,o=new s.gj;n.open(e.method,t,!0),n.responseType="arraybuffer",n.timeout=e.timeout,n.withCredentials=e.allowCrossSiteCredentials;var u=!1;for(var l in n.onreadystatechange=function(){if(n.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!u){var t=n.getResponseHeader(c);Un(e,t),u=!0}},n.onload=function(n){n=n.target;var i=(n.getAllResponseHeaders()||"").trim().split("\r\n"),a={};i=s.u(i);for(var u=i.next();!u.done;u=i.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ");try{var c=s.jj(a,n.response,n.status,t,n.responseURL,e,Date.now()-r);o.resolve(c)}catch(l){o.reject(l)}},n.onerror=function(n){if(n=n.target,0>=n.status)o.reject(new s.J(1,1,1002,{url:t,request:e,status:n.status}));else{var i=n.getAllResponseHeaders(),a={};if(i){i=s.u(i.trim().split("\r\n"));for(var u=i.next();!u.done;u=i.next())u=u.value.split(": "),a[u[0].toLowerCase()]=u.slice(1).join(": ")}n=s.jj(a,n.response,n.status,t,n.responseURL,e,Date.now()-r),o.resolve(n)}},n.ontimeout=function(){o.reject(new s.J(1,1,1003,{url:t,request:e}))},n.onprogress=function(t){var n=Date.now(),r=n-i;(100<r||t.lengthComputable&&t.loaded===t.total)&&(Bn(e,t.loaded-a,r),a=t.loaded,i=n)},e.headers)n.setRequestHeader(l.toLowerCase(),e.headers[l]);return n.send(e.body),{promise:o,request:e,abort:function(){return n.abort(),o.reject(new s.J(1,1,7001,{url:t,request:e})),Promise.resolve()}}},s.kj=function(e){var t;e instanceof s.kj?(Cn(this,e.Ba),this.Wb=e.Wb,this.wa=e.wa,Mn(this,e.lc),this.fa=e.fa,Pn(this,Ln(e.a)),this.Eb=e.Eb):e&&(t=String(e).match(eo))?(Cn(this,t[1]||"",!0),this.Wb=Rn(t[2]||""),this.wa=Rn(t[3]||"",!0),Mn(this,t[4]),this.fa=Rn(t[5]||"",!0),Pn(this,t[6]||"",!0),this.Eb=Rn(t[7]||"")):this.a=new On(null)},Cn=function(e,t,n){e.Ba=n?Rn(t,!0):t,e.Ba&&(e.Ba=e.Ba.replace(/:$/,""))},Mn=function(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.lc=t}else e.lc=null},Pn=function(e,t,n){t instanceof On?e.a=t:(n||(t=Nn(t,ro)),e.a=new On(t))},Rn=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},Nn=function(e,t,n){return a(e)===s.Dd?(e=encodeURI(e).replace(t,Dn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},Dn=function(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)},On=function(e){this.b=e||null},Ln=function(e){var t=new On;if(t.b=e.b,e.a){var n,i={};for(n in e.a)i[n]=e.a[n].concat();t.a=i,t.c=e.c}return t},jn=function(){return{maxAttempts:1,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},_n=function(e,t){e.timeout=t.timeout,e.baseDelay=t.baseDelay,e.backoffFactor=t.backoffFactor,e.fuzzFactor=t.fuzzFactor,e.maxAttempts=t.maxAttempts},s.yj=function(){this.b=[],this.c=[],this.g=!1,this.f=new s.xj,this.a={},this.a.data=s.Ti,xn.N()?(this.a.http=xn,this.a.https=xn):(this.a.http=In,this.a.https=In)},s.Ci=function(e,t){s.C.$(e)&&(e={uris:[e]}),Array.isArray(e)&&(e={uris:e});var n={uris:e.uris||[],type:e.type||s.zj,uriIndex:0,method:e.method||"GET",body:e.body||null,headers:Object.assign({},e.headers),allowCrossSiteCredentials:e.allowCrossSiteCredentials||!1,onProgress:e.onProgress||null,onFragment:e.onFragment||null,maxAttempts:e.maxAttempts||1,currentAttempt:0,baseDelay:e.baseDelay||1e3,backoffFactor:e.backoffFactor||2,fuzzFactor:e.fuzzFactor||.5,timeout:e.timeout||0,requestModifiers:e.requestModifiers||[],responseModifiers:e.responseModifiers||[],startTime:e.startTime||null,endTime:e.endTime||null,contentType:e.contentType||null,licenseRequestType:e.licenseRequestType||null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:e.timescale||null};return e.keyInfo&&(n.keyInfo=e.keyInfo),t&&_n(n,t),n},s.jj=function(e,t,n,i,r,a,o){if(200<=n&&299>=n&&202!==n)return r&&(i=r),{uri:i,data:t||new ArrayBuffer(0),headers:e,status:n,fromCache:!!e["x-shaka-from-cache"],timeMs:o,request:a};r=null;try{r=s.hf(t,!0)}catch(u){}throw s.I("HTTP error text:",r),new s.J(401===n||403===n?s.K:1,1,1001,{url:i,status:n,response:r,headers:e,request:a})},Un=function(e,t){var n=parseInt(t,10);Number.isNaN(n)&&(n=-1),e.bytesTotal=n,e.bytesLoaded=0,e.bytesRemaining=n},Bn=function(e,t,n){0<e.bytesRemaining&&(e.bytesRemaining-=t),e.bytesLoaded+=t,e.onProgress&&e.onProgress(t,n)},Kn=function(){},s.Bj=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&s.zh()&&(e=360);var t=jn();return t.maxAttempts=3,{source:"",license:"",viewerId:void 0,autoplay:void 0,manifest:{attemptParameters:jn(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1e3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},drm:null,enableEnhancedSubtitleManager:!1,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:!1,streaming:{attemptParameters:t,failureCallback:void 0,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,safeSeekOffset:5,stallEnabled:!s.wh("Web0S"),stallThreshold:1,stallSkip:.1,bufferLimitUpdateInterval:.5,overridePasp:!1},restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}},s.Ej=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];if(!t)return s.Bj();var i=[s.Bj()],r=!1;if(t.forEach((function(e){null!==e&&void 0!==e&&(s.C.$(e)&&(e={source:e}),e.lowLatencyMode&&!r&&(i.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{Uj:{clockSyncUri:"//time.akamai.com"}}}),r=!0),i.push(e))})),t=s.C.cb.apply(null,i),s.C.$(t.volume)&&(""===""+t.volume?t.volume=null:t.volume=Number(t.volume)),!s.C.H(t.volume)&&(!s.C.sb(t.volume)||s.C.isNaN(t.volume)))throw new s.J(s.K,7,7100,"config.volume is not a number");if(!s.C.H(t.preferredTextLanguage)&&!s.C.$(t.preferredTextLanguage))throw new s.J(s.K,7,7100,"config.preferredTextLanguage is not a string");if(!s.C.H(t.preferredAudioLanguage)&&!s.C.$(t.preferredAudioLanguage))throw new s.J(s.K,7,7100,"config.preferredAudioLanguage is not a string");if(!s.C.H(t.drm)){if(t.drm.env&&!s.C.$(t.drm.env))throw new s.J(s.K,7,7100,"config.drm.env is not a string");if(t.drm.offlineId&&!s.C.$(t.drm.offlineId))throw new s.J(s.K,7,7100,"config.drm.offlineId is not a string")}if(n=t.streaming){if(n.bufferingGoal=Number(n.bufferingGoal),n.rebufferingGoal=Number(n.rebufferingGoal),n.bufferBehind=Number(n.bufferBehind),n.smallGapLimit=Number(n.smallGapLimit),n.durationBackoff=Number(n.durationBackoff),!s.C.sb(n.bufferingGoal)||s.C.isNaN(n.bufferingGoal))throw new s.J(s.K,7,7100,"config.streaming.bufferingGoal is not a number");if(!s.C.sb(n.rebufferingGoal)||s.C.isNaN(n.rebufferingGoal))throw new s.J(s.K,7,7100,"config.streaming.rebufferingGoal is not a number");if(n.rebufferingGoal>n.bufferingGoal)throw new s.J(s.K,7,7100,"config.streaming.rebufferingGoal must be >= bufferingGoal");if(!s.C.sb(n.bufferBehind)||s.C.isNaN(n.bufferBehind))throw new s.J(s.K,7,7100,"config.streaming.bufferBehind is not a number");if(!s.C.sb(n.smallGapLimit)||s.C.isNaN(n.smallGapLimit))throw new s.J(s.K,7,7100,"config.streaming.smallGapLimit is not a number");if(!s.C.sb(n.durationBackoff)||s.C.isNaN(n.durationBackoff))throw new s.J(s.K,7,7100,"config.streaming.durationBackoff is not a number");Hn(t.manifest),Fn(t.restrictions),Fn(t.abr.restrictions)}return t},Fn=function(e){if(s.C.H(e.maxPixels)&&(e.maxPixels=1/0),s.C.H(e.maxBandwidth)&&(e.maxBandwidth=1/0),s.C.H(e.maxHeight)&&(e.maxHeight=1/0),s.C.H(e.maxWidth)&&(e.maxWidth=1/0),s.C.H(e.minPixels)&&(e.minPixels=0),s.C.H(e.minBandwidth)&&(e.minBandwidth=0),s.C.H(e.minHeight)&&(e.minHeight=0),s.C.H(e.minWidth)&&(e.minWidth=0),e.minWidth=Number(e.minWidth),e.maxWidth=Number(e.maxWidth),e.minHeight=Number(e.minHeight),e.maxHeight=Number(e.maxHeight),e.minBandwidth=Number(e.minBandwidth),e.maxBandwidth=Number(e.maxBandwidth),e.minPixels=Number(e.minPixels),e.maxPixels=Number(e.maxPixels),Number.isNaN(e.minWidth)||Number.isNaN(e.maxWidth)||Number.isNaN(e.minHeight)||Number.isNaN(e.maxHeight)||Number.isNaN(e.minBandwidth)||Number.isNaN(e.maxBandwidth)||Number.isNaN(e.minPixels)||Number.isNaN(e.maxPixels))throw new s.J(s.K,7,7100,"Restrictions contain NaN")},Hn=function(e){if(s.C.H(e.availabilityWindowOverride))e.availabilityWindowOverride=NaN;else if(a(e.availabilityWindowOverride)!==s.Xc)throw new s.J(s.K,7,7100,"Invalid value for |manifest.availabilityWindowOverride|")},s.Fj=function(e){return a(e)===s.Yc&&!Array.isArray(e)&&e.hasOwnProperty("source")},s.Gj=function(e){s.Si.call(this),this.log=new s.H(e),this.configuration=this.Oc=s.Bj(),this.j=this.l=null,this.Kc=this.xd=!1,this.sf=new s.H("clpp.video.events"),this.Pc=null,this.af=0,this.mi=this.pj.bind(this),this.Ye=new s.yj,this.w=new s.ei,this.J=null},Vn=function(){this.a=this.b=null,this.c=new s.H("clpp.drm.csl")},qn=function(e,t){3===t.type&&(e.b&&(e.c.debug("Attaching tracking token"),t.headers[ve]=e.b),e.a&&(e.c.debug("Attaching followup token"),t.headers[be]=e.a))},Wn=function(e,t){3===t.request.type&&(e.b=t.headers[ve],e.a=t.headers[be],e.b&&e.c.debug("Loaded tracking token "+e.b),e.a&&e.c.debug("Loaded followup token "+e.a))},s.Kj=function(t){this.scheme=null;var n=document.createElement("a"),i=t.match(/^(.*:)(\/\/(.*))$/),r=!1;i?(this.scheme=i[1],n.href=i[2],(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+i[3],r=!0)):(n.href=t,(":"===n.protocol||""===n.host&&""===n.pathname)&&(n.href="//dummy.com/"+t.match(/\/?\/?(.*)/)[1],r=!0),this.scheme=n.protocol),""===this.scheme&&(this.scheme=e.location.protocol),this.b=r?"":n.hostname,this.port=n.port,this.path=n.pathname,s.qf(this.path,"/")||(this.path="/"+this.path),this.a=n.search,this.c=n.hash},Gn=function(e,t,n){return e?(n||Object.keys(e).sort()).reduce((function(n,i){if(!e.hasOwnProperty(i))return n;var r=e[i],a="&";return""===n&&(a=t?"":"?"),n=n+a+encodeURIComponent(i),n+"="+encodeURIComponent(void 0===r?"":r)}),""):""},Jn=function(e){var t={};return e=e||"",e=e.substring(e.indexOf("?")+1),e.split("&").forEach((function(e){var n=e.split("=");e=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]||""),e&&(t[e]=n)})),t},s.Nj=function(t,n){var i=void 0==n||n,r=e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_");return i?r:r.replace(/=*$/,"")},s.Oj=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n},s.Pj=function(t){for(var n=new Uint8Array(t.length/2),i=0;i<t.length;i+=2)n[i/2]=e.parseInt(t.substr(i,2),16);return n},s.Qj=function(e){for(var t="",n=0;n<e.length;++n){var i=e[n].toString(16);1==i.length&&(i="0"+i),t+=i}return t},s.Rj=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},s.Sj=function(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(+t);for(var i=n=0;i<arguments.length;++i)t.set(arguments[i],n),n+=arguments[i].length;return t},zn=function(e,t,n){so.debug("Creating FPS payload");var i=t;return s.C.$(t)&&(i=s.cf(s.pf(t,2))),t=e.byteLength+4,t+=i.byteLength+4,t+=n.byteLength,t=new s.Ug(t,!0),s.Wg(t,e),s.N(t,i.byteLength),s.Wg(t,i),s.N(t,n.byteLength),s.Wg(t,n),s.cf(t.buffer)},Yn=function(e,t){var n=Ue(t,!0);return so.debug("Default Extract content ID. The hostname of the content ID URL will be used!"),new s.Kj(n).b},s.Wj=function(e,t){for(var n=s.u(e),i=n.next();!i.done;i=n.next())if(!t(i.value))return!1;return!0},s.Xj=function(e){this.b=[],this.c=[],this.a=[],8<=e.byteLength&&(new s.gh).W("pssh",this.f.bind(this)).parse(e.buffer),0==this.a.length&&s.G("No pssh box found!")},s.bk=function(e){var t=this;this.j=e,this.C=new Set,this.i=this.o=null,this.S=!1,this.a=null,this.J=lo,this.l=new s.ei,this.G=new Vn,this.c=new Map,this.B=[],this.s=new s.gj,this.f=null,this.h=function(n){t.v=!0,t.m=!1,t.s.reject(n),e.onError(n)},this.Qa=new Map,this.Y=new Map,this.U=new s.Ef((function(){return ai(t)})),this.g=!1,this.ua=new s.gj,this.w=!1,this.K=[],this.Pa=!1,this.R=0,this.b=new s.H("clpp.drm.DrmEngine"),this.pa=new s.Ef((function(){oi(t)})).Ea(1),this.s["catch"]((function(){})),this.v=this.m=!1},Xn=function(e){var t;return s.A((function(n){switch(n.a){case 1:return e.l.release(),e.l=null,e.G.release(),e.G=null,e.v=!1,e.m=!1,e.s.reject(),e.pa.stop(),e.pa=null,e.U.stop(),e.U=null,t=Array.from(e.c.keys()),e.c.clear(),s.x(n,Promise.all(t.map((function(t){return Promise.resolve().then((function(){return s.A((function(n){return 1==n.a?(e.b.debug("Closing session",t.sessionId),s.Ae(n,2),s.x(n,di(t),4)):2!=n.a?s.Be(n,0):(s.Ce(n),void s.y(n))}))}))}))),2);case 2:if(!e.i){n.A(3);break}return s.Ae(n,4),s.x(n,e.i.setMediaKeys(null),6);case 6:s.Be(n,5);break;case 4:s.Ce(n);case 5:e.i=null;case 3:e.a=null,e.C.clear(),e.o=null,e.B=[],e.f=null,e.h=null,e.j=null,e.R=0,s.y(n)}}))},s.gk=function(e,t,n){return e.J=co,e.B=n,e.w=0<n.length,e.b.debug("Using Persisted Licenses: "+e.w),s.fk(e,t)},s.fk=function(e,t){var n=t.some((function(e){return 0<e.drmInfos.length}));if(!n){var i=s.C.we(e.f.Ma);ui(t,i)}var r=ei(e);if(r){var a=s.u(t);for(i=a.next();!i.done;i=a.next())i.value.drmInfos=[r]}for(r=s.u(t),i=r.next();!i.done;i=r.next())for(i=s.u(i.value.drmInfos),a=i.next();!a.done;a=i.next())li(a.value,e.f.Ma);return i=Zn(e,t),i.size?(i=s.lk(e,i),n?i:i["catch"]((function(){}))):(e.S=!0,Promise.resolve())},s.rk=function(e,t){if(!e.o)return Wt(e.l,t,(function(){e.h(new s.J(s.K,6,6010))})),Promise.resolve();e.i=t,e.l.one(e.i,s.hd,(function(){for(var t=0;t<e.K.length;t++)ni(e,e.K[t]);e.Pa=!0,e.K=[]})),e.l.on(e.i,s.be,(function(t){var n=e.m;e.m=!e.v,!n&&e.m&&(e.b.info("Waiting for DRM license key delivery"),e.j.onEvent(t))}));var n=e.i.setMediaKeys(e.o);n=n["catch"]((function(e){return Promise.reject(new s.J(s.K,6,6003,{browserError:e.message}))}));var i=Promise.resolve();return e.a&&e.a.keySystem!==s.ad&&!e.a.serverCertificate&&(i=$n(e)),i=i.then((function(){return s.ok(e)})),Promise.all([n,i]).then((function(){e.g||(s.pk(e),e.a.initData.length||e.B.length)||e.l.on(e.i,s.vc,(function(t){s.qk(e,t.initDataType,s.cf(t.initData))}))}))["catch"]((function(n){if(!e.g){if(6004===n.code&&e.a&&e.a.keySystem===s.kc&&1>e.R&&e.a.serverCertificate&&e.a.serverCertificate.length)return e.b.warn("Detected invalid widevine server certificate!. Retrying"),e.h(new s.J(1,6,6004)),e.a.serverCertificate=null,e.R++,s.rk(e,t);throw 1<=e.R&&e.b.info("Could not get valid widevine server certificate. Giving up"),n}}))},s.ok=function(e){var t;return s.A((function(n){if(1==n.a)return e.o&&e.a&&e.a.serverCertificate&&e.a.serverCertificate.length?(s.Ae(n,3),s.x(n,e.o.setServerCertificate(e.a.serverCertificate),5)):n.A(0);if(3!=n.a)return n.b||e.b.warn("Server certificates are not supported by the key system.  The server certificate has been ignored."),s.Be(n,0);throw t=s.Ce(n),new s.J(s.K,6,6004,{browserError:t.message})}))},$n=function(e){var t=e.f.Ma[e.a.keySystem],n=t.certificateUrl||"";if(""===n)return Promise.resolve();var i=(t=t.modifiers)&&t.certificateRequest,r=t&&t.certificateResponse,a=e.j.getConfiguration();return n=s.Ci([n],e.f.attemptParameters),n.type=3,i&&n.requestModifiers.push((function(e){return i(a,e)})),r&&n.responseModifiers.push((function(e){return r(a,e)})),e.b.debug("Fetching certificate"),e.j.Pb.fetch(n).promise.then((function(t){e.a.serverCertificate=s.cf(t.data)}))["catch"]((function(e){throw new s.J(s.K,6,6100,{message:"Error while fetching certificate!",url:e.data.url,status:e.data.status,response:e.data.response,headers:e.data.headers},e)}))},Qn=function(e,t){for(var n=0;n<t.$c.length;n++)if(s.Rj(e,t.$c[n]))return!0;return!1},s.pk=function(e){var t=e.a?e.a.initData:[];return t.forEach((function(t){var n=!0;if(e.f.enforceSingleSession&&!e.keySystem().startsWith(F)){var i=e.c.values();i=s.u(i);for(var r=i.next();!r.done;r=i.next())r=r.value,s.Rj(t.initData,r.initData)?(e.b.debug(m),n=!1):r.periodId===t.periodId&&(e.b.debug("Ignore duplicated init data with same period id"),Qn(t.initData,r)||r.$c.push(t.initData),n=!1)}n&&ti(e,t.keyId,t.periodId,t.initDataType,t.initData)})),e.B.forEach((function(t){return s.uk(e,t)})),t.length||e.B.length||(e.v=!0,e.m=!1,e.s.resolve()),e.s},s.qk=function(e,t,n){if(!e.keySystem().startsWith(F)){var i=new s.Xj(n);if(1<i.a.length){var r={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e.keySystem()];if(r)for(var a=0;a<i.b.length;a++)if(r===i.b[a]){n=n.subarray(i.a[a].start,i.a[a].end+1);break}}}if(i=e.c.values(),!e.i.webkitCurrentPlaybackTargetIsWireless)for(i=s.u(i),r=i.next();!r.done;r=i.next()){if(r=r.value,s.Rj(n,r.initData))return void e.b.debug(m);if(Qn(n,r))return void e.b.debug("Ignoring duplicate init data (extra).")}"skd"!==t&&ti(e,"",null,t,n)},s.vk=function(e){var t=1/0;e=e.c.keys(),e=s.u(e);for(var n=e.next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},Zn=function(e,t){for(var n=new Set,i=s.u(t),r=i.next();!r.done;r=i.next()){var a=s.u(r.value.drmInfos);for(r=a.next();!r.done;r=a.next())n.add(r.value)}for(i=s.u(n),r=i.next();!r.done;r=i.next())li(r.value,e.f.Ma);a=e.w?s.qd:s.$c;var o=e.w?[s.fd]:[s.Hd];for(i=new Map,n=s.u(n),r=n.next();!r.done;r=n.next())r=r.value,i.set(r.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:s.$c,persistentState:a,sessionTypes:o,label:r.keySystem,drmInfos:[]});for(n=s.u(t),r=n.next();!r.done;r=n.next()){r=r.value,a=r.audio,o=r.video;var u=a?s.eg(a.mimeType,a.codecs):"",c=o?s.eg(o.mimeType,o.codecs):"",l=s.u(r.drmInfos);for(r=l.next();!r.done;r=l.next()){r=r.value;var d=i.get(r.keySystem);d.drmInfos.push(r),r.distinctiveIdentifierRequired&&(d.distinctiveIdentifier=s.qd),r.persistentStateRequired&&(d.persistentState=s.qd),a&&d.audioCapabilities.push({robustness:r.audioRobustness||"",contentType:u}),o&&d.videoCapabilities.push({robustness:r.videoRobustness||"",contentType:c})}}return i},s.lk=function(e,t){function n(t,n,i){n.drmInfos.some((function(e){return!!e.licenseServerUri}))==t&&(a=a["catch"]((function(){return e.g?null:navigator.requestMediaKeySystemAccess(i,[n])})))}if(1==t.size&&t.has(""))return Promise.reject(new s.J(s.K,6,6e3));for(var i=s.u(t.values()),r=i.next();!r.done;r=i.next())r=r.value,0==r.audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var a=i=new s.gj,o=e.f.preferredDrmSystem;return o||(r=s.Sh(),r.os===Ya&&10<=r.osVersion.major&&"edge"===r.browser&&(o=s.wk)),o&&(r=t.get(o))&&(n(!0,r,o),n(!1,r,o)),[!0,!1].forEach((function(e){t.forEach((function(t,i){i!==o&&n(e,t,i)}))})),a=a["catch"]((function(){throw new s.J(s.K,6,6001)})),a=a.then((function(n){if(e.g)return null;e.C.clear();var i=n.getConfiguration(),r=i.videoCapabilities||[],a=s.u(i.audioCapabilities||[]);for(i=a.next();!i.done;i=a.next())e.C.add(i.value.contentType);for(r=s.u(r),i=r.next();!i.done;i=r.next())e.C.add(i.value.contentType);r=n.keySystem,i=t.get(n.keySystem),a=[];var o=[],u=[],c=[];if(ci(i.drmInfos,a,o,u,c),1<o.length&&s.G("Multiple unique server certificates found! Only the first will be used."),1<a.length&&s.G("Multiple unique license server URIs found! Only the first will be used."),e.a={keySystem:r,licenseServerUri:a[0],distinctiveIdentifierRequired:i.distinctiveIdentifier==s.qd,persistentStateRequired:i.persistentState==s.qd,audioRobustness:i.audioCapabilities?i.audioCapabilities[0].robustness:"",videoRobustness:i.videoCapabilities?i.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:u,keyIds:c,periodId:null},!e.a.licenseServerUri)throw new s.J(s.K,6,6012,e.a.keySystem);return n.createMediaKeys()})).then((function(t){e.g||(e.b.info("Created MediaKeys object for key system",e.a.keySystem),e.o=t,e.S=!0)}))["catch"]((function(t){if(!e.g){if(e.a=null,e.C.clear(),t instanceof s.J)throw t;throw new s.J(s.K,6,6002,{browserError:t.message})}})),i.reject(),a},ei=function(t){if(t=s.C.we(t.f.Ma.Sj||{}),0==t.size)return null;var n=[],i=[];t.forEach((function(e,t){var r=s.Pj(t),a=s.Pj(e);r={kty:"oct",kid:s.Nj(r,!1),k:s.Nj(a,!1)},n.push(r),i.push(r.kid)})),t=JSON.stringify({keys:n});var r=JSON.stringify({kids:i});return r=[{initData:s.nf(r),initDataType:"keyids"}],{keySystem:s.ad,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:[],periodId:null}},s.uk=function(e,t){try{e.b.debug("Attempting to load an offline session",t);var n=e.o.createSession(s.fd)}catch(a){var i=new s.J(s.K,6,6005,{browserError:a.message});return e.h(i),Promise.reject(i)}e.l.on(n,s.Rc,e.Gf.bind(e)),e.l.on(n,s.Hc,e.Af.bind(e));var r={initData:null,loaded:!1,ce:1/0,Na:null,periodId:null,$c:[],keyId:null};return e.c.set(n,r),n.load(t).then((function(i){return e.g?null:(e.b.debug("Loaded offline session",t,i),i?(r.loaded=!0,si(e)&&(e.v=!0,e.m=!1,e.s.resolve()),n):(e.c["delete"](n),e.h(new s.J(s.K,6,6013)),null))}),(function(t){e.g||(e.c["delete"](n),e.h(new s.J(s.K,6,6005,{browserError:t.message})))}))},ti=function(e,t,n,i,r){try{if(e.w){e.b.debug("Creating new persistent session");var o=e.o.createSession(s.fd)}else e.b.debug("Creating new temporary session"),o=e.o.createSession()}catch(d){return void e.h(new s.J(s.K,6,6005,{browserError:d.message}))}if(e.l.on(o,s.Rc,e.Gf.bind(e)),e.l.on(o,s.Hc,e.Af.bind(e)),e.c.set(o,{initData:r,loaded:!1,ce:1/0,Na:null,periodId:n,keyId:t,$c:[]}),e.a.keySystem.startsWith(F)){t=(t=e.f.Ma[e.a.keySystem].modifiers)&&t.extractContentId||Yn,n=e.j.getConfiguration();var u="",c="No content ID returned from |extractContentId| modifier",l=void 0;if(a(t)===s.Bc){try{u=t(n,r)||""}catch(d){l=d,c="An error occured while extracting the content ID"}u||e.h(new s.J(s.K,6,6101,c,l))}r=zn(r,u,e.a.serverCertificate)}o.generateRequest(i,r.buffer)["catch"]((function(t){if(!e.g){e.c["delete"](o);var n=null;t.errorCode&&t.errorCode.systemCode&&(n=t.errorCode.systemCode,0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)),e.h(new s.J(s.K,6,6006,{browserError:t.message,error:t,extended:n},t))}}))},ni=function(e,t){var n=t.target;e.b.debug("Sending license request for session",n.sessionId);var i=e.c.get(n);t.messageType===s.Ic&&e.j.onEvent(new s.O(W));var r=e.a.licenseServerUri,a=e.f.Ma[e.a.keySystem];"individualization-request"===t.messageType&&a&&a.individualizationServer&&(r=a.individualizationServer),a=s.Ci([r],e.f.attemptParameters),a.type=3,a.body=t.message,a.method="POST",a.licenseRequestType=t.messageType,e.a.keySystem!=s.jc&&e.a.keySystem!=H||ii(e,a),qn(e.G,a),ri(e,a),e.b.debug("Sending DRM license request to",r);var o=Date.now();e.j.Pb.fetch(a).promise.then((function(t){return e.g?Promise.reject():(e.b.info("Received license response in "+(Date.now()-o)+"ms"),Wn(e.G,t),n.update(t.data).then((function(){var t=new s.O(s.sc,{keySystem:e.keySystem(),Lh:s.vk(e)});e.j.onEvent(t),i&&(i.Na&&i.Na.resolve(),new s.Ef((function(){i.loaded=!0,si(e)&&(e.v=!0,e.m=!1,e.s.resolve())})).P(5))})))}),(function(t){e.g||(t=new s.J(s.K,6,6007,{message:"Error while fetching license!",url:t.data.url,status:t.data.status,response:t.data.response,headers:t.data.headers},t),e.h(t),i&&i.Na&&i.Na.reject(t))}))["catch"]((function(t){e.g||(t=new s.J(s.K,6,6008,{browserError:t.message}),e.h(t),i&&i.Na&&i.Na.reject(t))}))},ii=function(e,t){var n=Ue(t.body,!0,!0);if(n.includes("PlayReadyKeyMessage")){e.b.debug("Unwrapping PlayReady request."),n=(new DOMParser).parseFromString(n,"application/xml");for(var i=n.getElementsByTagName("HttpHeader"),r=0;r<i.length;++r)t.headers[i[r].querySelector("name").textContent]=i[r].querySelector(s.Sd).textContent;t.body=s.Oj(n.querySelector("Challenge").textContent).buffer}else e.b.debug("PlayReady request is already unwrapped."),t.headers[l]="text/xml; charset=utf-8"},ri=function(e,t){var n=e.f.Ma[e.a.keySystem],i=(n=n&&n.modifiers)&&n.licenseRequest,r=n&&n.licenseResponse,a=e.j.getConfiguration();i?t.requestModifiers.push((function(e){return i(a,e)})):e.a.keySystem.startsWith(F)&&t.requestModifiers.push((function(e){var t=s.cf(e.body);e.body=s.nf(encodeURIComponent("spc="+btoa(_e(t)))).buffer,e.headers[l]=O})),r?t.responseModifiers.push((function(e){return r(a,e)})):e.a.keySystem.startsWith(F)&&t.responseModifiers.push((function(e){e:{try{var t=s.ef(e.data)}catch(n){e=void 0;break e}t=t.trim(),"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{t=JSON.parse(t).ckc}catch(n){}e.data=s.Oj(t).buffer,e=void 0}return e}))},ai=function(e){var t=e.Qa,n=e.Y;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.h(new s.J(s.K,6,6014)),e.j.fe(s.C.xe(n)),e.v=!0,e.m=!1},s.Ck=function(e,t){return!e.length||!t.length||0<s.Bk(e,t).length},s.Bk=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=0;i<e.length;i++)for(var r=0;r<t.length;r++)if(e[i].keySystem===t[r].keySystem&&e[i].periodId===t[r].periodId){var a=e[i];r=t[r];var o=[];o=o.concat(a.initData||[]),o=o.concat(r.initData||[]);var s=[];s=s.concat(a.keyIds),s=s.concat(r.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||r.persistentStateRequired,videoRobustness:a.videoRobustness||r.videoRobustness,audioRobustness:a.audioRobustness||r.audioRobustness,serverCertificate:a.serverCertificate||r.serverCertificate,initData:o,keyIds:s,periodId:a.periodId});break}return n},oi=function(e){e.c.forEach((function(t,n){var i=t.ce,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.j.onExpirationUpdated(n.sessionId,r),t.ce=r)}))},si=function(e){return e=e.c.values(),s.Wj(e,(function(e){return e.loaded}))},ui=function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var i=s.u(e),r=i.next();!r.done;r=i.next())r.value.drmInfos=n},ci=function(e,t,n,i,r){e.forEach((function(e){if(t.includes(e.licenseServerUri)||t.push(e.licenseServerUri),e.serverCertificate&&(n.some((function(t){return s.Rj(t,e.serverCertificate)}))||n.push(e.serverCertificate)),e.initData&&(e.initData.forEach((function(t){t.periodId=e.periodId})),e.initData.forEach((function(e){i.some((function(t){return!(!t.keyId||t.keyId!=e.keyId||t.periodId!==e.periodId)||t.initDataType==e.initDataType&&s.Rj(t.initData,e.initData)&&t.periodId===e.periodId}))||i.push(e)}))),e.keyIds)for(var a=0;a<e.keyIds.length;++a)r.includes(e.keyIds[a])||r.push(e.keyIds[a])}))},li=function(t,n){if(t.keySystem){var i=n[t.keySystem];t.keySystem===s.ad&&t.licenseServerUri||(i&&(t.licenseServerUri=i.licenseUrl||""),t.keyIds||(t.keyIds=[]),i&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.videoRobustness||(t.videoRobustness=i.videoRobustness||""),t.audioRobustness||(t.audioRobustness=i.audioRobustness||""),t.serverCertificate||(t.serverCertificate=i.serverCertificate||null)),e.cast&&e.cast.__platform__&&t.keySystem===s.jc&&(t.keySystem=H))}},di=function(e){var t;return s.A((function(n){if(1==n.a)return t=new Promise((function(e){new s.Ef(e).P(1)})),s.x(n,Promise.race([e.close().then((function(){return!0})),t.then((function(){return!1}))]),2);n.b||s.G("Timeout waiting for session close"),s.y(n)}))},s.Ek=function(e,t){if(0==t.length)return e;var n=t.map((function(e){return new s.kj(e)}));return e.map((function(e){return new s.kj(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(s.Dk.Jd,[]).map((function(e){return e.toString()}))},s.Fk=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[],periodId:null}},fi=function(){this.a=null,this.b=[]},s.Hk=function(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}},hi=function(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var i=s.u(e.b),r=i.next();!r.done;r=i.next())r=r.value,n+=r.state==t?r.duration:0;return n},pi=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],i=s.u(e.b),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.a&&n.push(t(e.a)),n},gi=function(){this.c=this.b=this.f=null,this.a=[]},mi=function(e){return e.a.map((function(e){return s.C.lb(e)}))},s.Mk=function(){this.h=this.l=this.i=this.m=this.f=this.g=this.b=this.c=NaN,this.a=new fi,this.j=new gi},s.Nk=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}},vi=function(){s.Gj.call(this,U),this.m=this.o=!1,this.g=this.i=this.h=this.a=this.f=null,this.b=new s.ei,this.c=this.s=null},bi=function(e,t){return e.m?ki():new Promise((function(n){e.a||(e.b.on(t,s.yc,(function(){var t=Si(e);t&&e.onError(t)})),e.b.on(t,s.rd,(function(){e.trigger(new s.O(s.Rb,{detail:{width:t.videoWidth,height:t.videoHeight}}))})),e.a=t),n()}))},yi=function(e){return e.m?ki():new Promise((function(t){if(e.a){var n=e.a;e.b.off(n,s.yc),e.b.off(n,s.rd),e.a=null}t()}))},wi=function(e){var t,n,i,r;return s.A((function(a){return 1==a.a?e.m?a["return"](ki()):e.configuration.drm?(t=s.Tk,n=s.Uk(e.configuration.drm),e.log.debug("Drm configuration: ",n),i=e.getNetworkEngine(),e.h=new s.bk({Pb:i,onError:function(t){return e.onError(t)},fe:function(){},onExpirationUpdated:function(t,n){e.trigger(new s.O(s.pc,{expirationTime:n}))},onEvent:function(t){return e.trigger(t)},getConfiguration:function(){return e.getConfiguration()}}),e.h.f=n,r={id:0,language:s.Md,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:e.getDuration.bind(e),initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Xd,codecs:"",encrypted:!0,keyId:null,language:s.Md,label:null,type:t.VIDEO,primary:!1,frameRate:void 0,bk:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Pj:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},s.x(a,s.gk(e.h,[r],[]),2)):(e.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),a["return"](Promise.resolve())):3!=a.a?s.x(a,s.rk(e.h,e.a),3):a["return"](Promise.resolve())}))},Ti=function(e,t){function n(){e.getState()!==s.Wk&&e.seek(t)["catch"]((function(t){e.log.warn("Error while seeking to start position.",t)}))}e.a.readyState>HTMLMediaElement.HAVE_NOTHING?n():e.b.one(e.a,s.Oc,n)},Si=function(e){if(null===e.j||!e.a.error)return null;var t=e.a.error.code;if(1===t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new s.J(s.K,3,3016,{code:t,Wj:n,message:e.a.error.message})},ki=function(){return Promise.reject(new s.J(s.K,7,7e3))},Ei=function(e){function t(){u.reject(Si(e))}function n(){c||u.reject(new s.J(s.K,3,3100,{message:"Unable to load media source successfully from "+i.url,uri:i.url},a.error))}if(e.m)return ki();var i=e.j[e.getSourceIndex()],r=e.configuration.startTime||null,a=e.a,o=e.s;r&&Ti(e,r),e.b.one(a,s.Nc,(function(){var t=Date.now()/1e3-o;e.c.i=t,e.log.debug("Time to load: ",t)})),a.src=i.url,a.load();var u=new s.gj,c=!1;return a.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?u.resolve():a.error?u.reject(Si(e)):(e.b.one(a,s.Nc,(function(){c=!0,e.b.off(a,se,n),e.b.off(a,s.yc,t),u.resolve()})),e.b.one(a,s.yc,t),e.b.one(a,se,(function(){new s.Ef((function(){return n()})).P(5)}))),new s.Yk(u,(function(){var e=new s.J(s.K,7,7001);return u.reject(e),Promise.resolve()}))},Ai=function(){this.name=U},s.bl=function(e){return s.al.get(e)||null},s.dl=function(e){s.al.get(e.id())?uo.warn("Component already in use."):s.al.set(e.id(),e)},xi=function(e){s.al.forEach((function(t){t&&e(t)}))},s.fl=function(){},Ii=function(e,t){this.g=new s.H("clpp.PlayerSurface"),this.a=s.C.cb({},po,t),this.a.containerEl=t?t.containerEl:null,this.f=a(e)===s.Dd?document.getElementById(e):e,this.j=this.l=this.i=this.c=this.h=this.b=null;var n=this.a.css;this.g.debug("Initializing Player Surface on ",this.f);var i=this.f.tagName.toLocaleLowerCase();i===s.Vd||i===s.Lb?this.b=this.f:"cast-media-player"===i&&(this.h=this.f),this.a.containerEl?(this.c=this.a.containerEl,s.vf(this.c,n.container)):this.a.disableContainer||!this.b?this.c=this.b||this.f:(i=document.createElement(this.a.containerTag),s.vf(i,this.a.css.container),this.c=i,this.b&&this.f.parentNode?this.f.parentNode.replaceChild(this.c,this.f):this.f.parentNode||this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.c.appendChild(this.b)),this.b&&(this.b.hasAttribute(V)||(i=this.a.crossorigin,this.g.info("Setting media elements crossorigin to "+i),this.b.setAttribute(V,i)),this.c&&(this.a.moveCssToContainer&&Ci(this),s.vf(this.b,n.fill)))},s.jl=function(e){var t=e.F(),n=e.a.css;t?s.vf(t,n.hidden):e.g.debug("No media element available that could be hidden")},s.kl=function(e){var t=e.F(),n=e.a.css;t?s.wf(t,n.hidden):e.g.debug("No media element available that could be shown")},Ci=function(e){e.b&&e.c&&(Ke(e.b).forEach((function(t){s.wf(e.b,t),s.vf(e.c,t)})),e.c.style.cssText=e.b.style.cssText,e.b.removeAttribute(ue),[s.he,s.Cc].forEach((function(t){var n=e.b.getAttribute(t);n=parseInt(n,10),isNaN(n)||(e.c.style[t]=n+"px"),s.xh()||e.b.removeAttribute(t)})))},Mi=function(e){return e=new s.kj(e).fa,e?(e=e.toUpperCase(),s.rf(e,".MPD")?s.ll:s.rf(e,".M3U8")?s.ml:s.rf(e,".MP4")?s.Xd:s.rf(e,"MANIFEST")||s.rf(e,".ISM")?s.nl:null):null},s.ql=function(e){var t;t=s.Fj(e)?e.source:e,Array.isArray(t)||(t=[t]),t=t.filter((function(e){return a(e)===s.Dd||e.hasOwnProperty("url")})),e=[];for(var n=0;n<t.length;n++){var i=Pi(t[n]);Pi&&e.push(i)}return e},Pi=function(e){var t=null;return s.C.$(e)&&(e={url:e}),a(e)===s.Yc&&!Array.isArray(e)&&e.hasOwnProperty("url")&&(t={url:e.url,type:e.type?e.type:null},s.C.H(e.fc)||a(e.fc)!==s.Sb||(t.fc=e.fc),s.C.H(e.isLive)||a(e.isLive)!==s.Sb||(t.isLive=e.isLive),s.C.H(e.name)||a(e.name)!==s.Dd||(t.name=e.name)),t&&!t.type&&(t.type=Mi(e.url),t.type?go.debug("Detect media type "+t.type+" for "+e.url):go.warn("Unable to detect media type for "+e.url)),t},Ri=function(){for(var e=0;e<wo.length;++e)wo[e].bc()},s.ul=function(e,t){t=t||0;for(var n={priority:t,bc:e},i=0;i<wo.length;i++)if(wo[i].priority<t)return void wo.splice(i,0,n);wo.push(n)},Ni=function(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(("undefined"===typeof Event?"undefined":a(Event))===s.Bc)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)},Di=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},Oi=function(){return s.I("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))},Li=function(e){return s.I("PatchedMediaKeysNop.setMediaKeys"),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},ji=function(){throw new TypeError(v)},_i=function(){throw new TypeError(v)},Ui=function(t,n,i){return new e.TextTrackCue(t,n,i)},Bi=function(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)},Ki=function(e){if(e=e.target,e.webkitPresentationMode===ie){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement===e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},Fi=function(){return this.webkitSupportsPresentationMode(ie)?(this.webkitSetPresentationMode(ie),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},Hi=function(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},Vi=function(e,t){s.I("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var n=new qi(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},qi=function(e,t){if(s.I("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith(F))for(var n=s.u(t),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.persistentState==s.qd)i=null;else{i={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:r.initDataTypes,sessionTypes:[s.Hd],label:r.label};var a=!1,o=!1;if(r.audioCapabilities)for(var u=s.u(r.audioCapabilities),c=u.next();!c.done;c=u.next())c=c.value,c.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(i.audioCapabilities.push(c),o=!0));if(r.videoCapabilities)for(r=s.u(r.videoCapabilities),c=r.next();!c.done;c=r.next())u=c.value,u.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(i.videoCapabilities.push(u),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,s.Xd)),i=o?i:null}if(i)return void(this.a=i)}throw n=Error(s.Za),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},Wi=function(e){s.I("PatchedMediaKeysApple.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&Ji(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Ji(e,this):Promise.resolve()},Gi=function(e){s.I("PatchedMediaKeysApple.MediaKeys"),this.b=new WebKitMediaKeys(e),this.a=new s.ei},Ji=function(e,t){if(s.hi(e.a),!t)return Promise.resolve();e.a.on(t,ge,Yi);try{return 1<=t.readyState?t.webkitSetMediaKeys(e.b):e.a.one(t,s.Oc,(function(){t.webkitSetMediaKeys(e.b)})),Promise.resolve()}catch(n){return Promise.reject(n)}},zi=function(e){s.I("PatchedMediaKeysApple.MediaKeySession"),s.Si.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.ei,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new $i},Yi=function(e){s.I("PatchedMediaKeysApple.onWebkitNeedKey_",e);var t=new Event(s.vc);t.initDataType=s.Zb,t.initData=e.initData,this.dispatchEvent(t)},Xi=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new s.O(s.Hc))},$i=function(){this.size=0,this.a=void 0},Qi=function(e,t,n){if("input"===e)switch(this.type){case"range":e=_}vo.call(this,e,t,n)},s.Yk=function(e,t){this.promise=e,this.j=t,this.a=!1},Zi=function(e,t){return e.promise.then((function(){return t(!0)}),(function(){return t(!1)})),e},er=function(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then((function(){}))["catch"]((function(){}))})}catch(r){return n.reject(r),function(){return Promise.resolve()}}},tr=function(e){s.Yk.call(this,new s.gj,(function(){return Promise.resolve()})),this.l=e,this.c=null,this.i=this.promise,this.b=-1,this.f=this.g=this.h=null,ir(this)},nr=function(e,t,n){e.h=setTimeout(t,n)},ir=function(e){e.c=e.l.then((function(t){if(e.f=t.request,t.request.uriIndex=t.request.currentAttempt%t.request.uris.length,0<t.request.currentAttempt){-1===e.b&&(e.b=rr(t.request.baseDelay,1e3));var n=e.b*(1+(2*Math.random()-1)*rr(t.request.fuzzFactor,.5));if(e.b*=rr(t.request.backoffFactor,2),0<n)return new Promise((function(i,r){e.g=r,nr(e,(function(){i(t.plugin(t.request))}),n)}))["catch"]((function(t){if(!e.a)throw t}))}if(e.a)throw new s.J(1,1,7001,{url:t.request.uris[t.request.uriIndex],request:t.request});return t.plugin(t.request)}));var t=0,n=0;return e.c.then((function(e){var i=e.request;return i.currentAttempt+=1,t=i.currentAttempt,n=i.maxAttempts,e.promise})).then((function(t){e.i.resolve(t)}))["catch"]((function(i){if(i instanceof s.J){if(1===i.a&&7001!==i.code&&t<n)return ir(e);7001!==i.code&&i.ib(s.K),e.i.reject(i)}else e.i.reject(i)}))},rr=function(e,t){return null===e||void 0===e?t:e},s.Xl=function(e){this.b=e,this.a={}},s.$l=function(e){var t={},n=e.a[s.Yl];return n&&(t[s.Yl]={licenseUrl:n.licenseUrl,videoRobustness:n.videoRobustness,audioRobustness:n.audioRobustness,modifiers:n.modifiers,distinctiveIdentifierRequired:n.distinctiveIdentifierRequired,persistentStateRequired:n.persistentStateRequired,serverCertificate:n.serverCertificate}),(n=e.a[s.Zl])&&(t[s.Zl]={licenseUrl:n.licenseUrl,certificateUrl:n.certificateUrl,modifiers:n.modifiers}),(n=e.a[s.wk])&&(t[s.wk]={licenseUrl:n.licenseUrl,modifiers:n.modifiers}),t},s.bm=function(e){s.am[e.b]=e},s.Uk=function(e){var t={attemptParameters:jn(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Ma:{}};return e&&(t.enforceSingleSession=!!e.enforceSingleSession,t.delayLicenseRequestUntilPlayed=!!e.delayLicenseRequestUntilPlayed,t.preferredDrmSystem=e.preferredDrmSystem,e.env&&(t.Ma=s.$l(s.am[e.env]||null)||{},s.qf(e.env.toLowerCase(),"drmtoday")&&(t.enforceSingleSession=!0))),t},ar=function(e,t,n){this.c=new Uint8Array(e),this.a=t,this.b=n},s.em=function(e){var t=new Uint8Array(yo),n=4+t.byteLength+e.c.byteLength+4+e.b.byteLength,i=new s.Ug(n,!1);return s.N(i,n),s.Wg(i,t),s.Wg(i,e.c),s.N(i,e.b.byteLength),s.Wg(i,e.b),s.cf(i.buffer)},or=function(){ar.apply(this,arguments)},s.hm=function(e){var t=s.Pj(e);return t=parseInt(t.byteLength,10).toString(16),t=s.Pj("12"+t+e),new or(bo,e,t)},s.im=function(e,t,n,i){ar.call(this,e,t,i),this.f=n},s.lm=function(e){e:{for(e=new s.Xg(new DataView(e.buffer),!0),s.bh(e),s.ah(e);s.Yg(e);)if(1===s.ah(e)){var t=s.ah(e);e=s.eh(e,t);break e}e=null}t=Ue(e,!0),t=s.M.Lf(t,"WRMHEADER");var n=s.M.L(t,"DATA")[0];return t=s.M.L(n,"LA_URL")[0],t=s.M.Fb(t),n=s.M.L(n,"KID")[0],n=s.M.Fb(n)||"",n=s.Oj(n),n=s.jm(n),n=s.Qj(n),new s.im(s.km,n,t,e)},s.jm=function(e){var t=[];return t.push(e[3]),t.push(e[2]),t.push(e[1]),t.push(e[0]),t.push(e[5]),t.push(e[4]),t.push(e[7]),t.push(e[6]),e=s.cf(e),e.set(t,0),e},sr=function(e){if(e===ko)return"https://lic.drmtoday.com";if(e===Eo)return"https://lic.staging.drmtoday.com";if(e===Ao)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+e+"'. Can not infer DRMtoday base URL!")},ur=function(e,t){var n=sr(t);if(e==s.Yl)return n+Io;if(e==s.wk)return n+Co;if(e==s.Zl)return n+Mo;throw Error("Unknown DRM Key-System '"+e+"'. Can not infer license URL!")},cr=function(e){if(e=To[e],!e)return null;var t=s.Sh();return t.os===Wa&&4===t.osVersion.major&&4===t.osVersion.minor?null:new Uint8Array(e)},s.wm=function(){var e=s.Sh();return e.os===Wa&&"chrome"===e.browser?{video:void 0,audio:void 0}:{video:k,audio:S}},s.ym=function(e,t){var n=Ue(t,!0);n=n.replace(/assetid/gi,"assetId"),n=n.replace(/variantid/gi,"variantId"),n=n.replace(/keyid/gi,"keyId"),n=new s.Kj(n);var i=Jn(n.a);if(e&&e.drm&&e.drm.customData){var r=e.drm.customData,a=r.assetId,o=r.variantId;a&&s.sf(""+a)&&(i.assetId=a,So.info("Using assetId from the configuration instead of the value from the HLS manifest.")),o&&s.sf(""+o)&&(i.variantId=o,So.info("Using variantId from the configuration instead of the value from the HLS manifest.")),e.drm.env.startsWith(f)&&(a=i.keyId,(o=i.assetId)&&!r.assetId&&(So.info("Applying assetId from HLS manifest."),r.assetId=o),a&&!r.keyId&&(So.info("Applying keyId from HLS manifest."),r.keyId=a))}return n.a=Gn(i,!1,["assetId","variantId","keyId"]),n.scheme+"//"+n.b+(n.port?":"+n.port:"")+n.path+n.c+n.a},s.zm=function(e,t,n){if(n=void 0===n||n,e=e.drm,e&&e.env.startsWith(d)){if(e.customData){var i=btoa(JSON.stringify({userId:e.customData.userId,sessionId:e.customData.sessionId,merchant:e.customData.merchant}));t.headers[G]=i,e.customData.authToken&&(t.headers[me]=""+e.customData.authToken),i=t.uris[0],n&&e.customData.assetId&&(i+="?assetId="+encodeURI(""+e.customData.assetId),e.customData.variantId&&(i+="&variantId="+encodeURI(""+e.customData.variantId)),t.uris[0]=i)}}else So.warn(y)},s.Am=function(e,t){s.zm(e,t,!1),t.headers[l]=O;var n={spc:s.mf(t.body)},i=e.drm;i&&i.env.startsWith(f)&&i.customData&&(i.customData.keyId&&(So.info("Adding keyID to FPS payload:",i.customData.keyId),n.keyId=i.customData.keyId),i.customData.assetId&&(So.info("Adding assetID to FPS payload:",i.customData.assetId),n.assetId=i.customData.assetId)),t.body=s.pf(Gn(n,!0))},s.Bm=function(e,t){So.debug("Clearing response data");var n=s.ef(t.data).trim();"<ckc>"===n.substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),t.data=Be(n).buffer},s.Cm=function(e,t){var n=e.drm;if(n&&n.env.startsWith(d)){if(n.customData){var i=btoa(JSON.stringify({userId:n.customData.userId,sessionId:n.customData.sessionId,merchant:n.customData.merchant}));t.headers[G]=i,n.customData.authToken&&(t.headers[me]=""+n.customData.authToken)}}else So.warn(y)},s.Dm=function(e,t){try{var n=s.cf(t.data),i=JSON.parse(String.fromCharCode.apply(null,n));So.debug("Widevine License response",i);var r=atob(i.license),a=new Uint8Array(r.length);for(n=0;n<r.length;++n)a[n]=r.charCodeAt(n);t.data=a.buffer}catch(o){So.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}},s.Em=function(e){var t=[];e=s.u(e);for(var n=e.next();!n.done;n=e.next()){n=s.u(n.value.variants);for(var i=n.next();!i.done;i=n.next())t.push(i.value)}return t},lr=function(e,t){e.onError(t),e.release().then((function(){return e.destroy()}))},dr=function(e,t,n){this.c=e,this.b=t,JSON.parse(s.ef(Be(e))),this.a=JSON.parse(s.ef(Be(t))),this.f=n},fr=function(e){this.license=e,this.a=null,this.b=new s.H("clpp.utils.LicenseKey")},hr=function(e){if(!e.a){var t=e.license.split(".");if(3!=t.length)throw Error("Expected to find 3 data sections in JWT raw data");t=new dr(t[0],t[1],t[2]),e.a=t}return e.a},pr=function(e){switch((e.dd()[0]||{src:"",type:""}).type){case s.ll:e="dash";break;case s.nl:e="ss";break;case s.ml:e="hls";break;case s.Xd:e=s.Uc;break;default:e=""}return e},gr=function(e){return e.viewerId?e.viewerId:(e=e.drm||null)&&e.customData&&e.customData.userId?""+e.customData.userId:""},mr=function(e){return(e=e.drm||null)&&e.customData&&e.customData.assetId?""+e.customData.assetId:""},vr=function(e){return(e=e.drm||null)&&e.customData&&e.customData.sessionId?""+e.customData.sessionId:""},br=function(e){e=e.getConfiguration();var t="no";return e.drm&&(t="custom",e.drm&&e.drm.env&&e.drm.env.startsWith(d)&&(t="drmtoday")),t},yr=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.keySystem){case s.Yl:t="wv";break;case s.wk:t="pr";break;case s.Zl:t="fps"}return t},wr=function(e){e=e.getDrmInfo();var t=!1;return e&&(t=e.persistentStateRequired),t.toString()},Tr=function(e){e=e.getDrmInfo();var t="";if(e)switch(e.videoRobustness){case g:case"HW_SECURE_ALL":t="L1";break;case p:t="L2";break;case k:case S:t="L3"}return t},Sr=function(t,n){if(!e.location.protocol.startsWith("http"))return t.b.debug("Registration protocol check",e.location.protocol,e.location.protocol.startsWith("http")),Promise.resolve();var i="ie"===s.Sh().browser,r=n.getConfiguration();if(r={"CL-KEY":t.license,"CL-LOCATION":e.location.href,"CL-SDK-VERSION":s.da,"CL-USER-ID":gr(r),"CL-ASSET-ID":mr(r),"CL-SESSION-ID":vr(r),"CL-PLAYBACK-TYPE":n.isLive()?No:Ro,"CL-CONTENT-TYPE":pr(n),"CL-PLUGINS":n.bi().join(" "),"CL-DRM":br(n),"CL-DRM-CDM":yr(n),"CL-DRM-SEC-LEVEL":Tr(n),"CL-DRM-OFFLINE":wr(n)},i){var a=e.localStorage.getItem("cl_et");a&&(r["CL-ETAG"]=a)}return a=s.Ci(["https://downloads.castlabs.com/r/register/"]),a.method="GET",a.headers=r,(new s.yj).fetch(a).promise.then((function(t){return 200===t.status&&i&&e.localStorage.setItem("cl_et",t.headers.etag),Promise.resolve()}))["catch"]((function(e){e:{var n=hr(t);e=e.data;var i=e.status;if(n.a&&n.a.ilv)e=Promise.resolve();else{switch(i){case 403:case 404:n=7101;var r="castLabs Player license is invalid";r=403===i?r+": "+e.response:r+"!";break;case 412:n=7103,r="userID is required for playback!";break;default:e=Promise.resolve();break e}e=Promise.reject(new s.J(s.K,7,n,r))}}return e}))},s.Um=function(e,t,n){this.g=e,this.h=t,this.f=n||this.g.F(),this.a=this.b=this.c=null},s.xj=function(){this.a=[]},s.Vm=function(e,t){e.a.push(Zi(t,(function(){s.vg(e.a,t)})))},s.Xm=function(e){var t=(e||"").split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=Do.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e},s.Ym=function(e,t,n,i,r,a,o,u){return e=s.Ci(e),e.timeout=i.timeout,e.maxAttempts=i.maxAttempts,e.baseDelay=i.baseDelay,e.fuzzFactor=i.fuzzFactor,e.backoffFactor=i.backoffFactor,0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),r&&(e.startTime=r),a&&(e.endTime=a),o&&(e.contentType=o),u&&(e.timescale=u),e},s.$m=function(){this.a=new Blob([Oo],{type:s.Xd})},s.an=function(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0},s.bn=function(e,t,n){var i=Math.pow(e.c,t);n=n*(1-i)+i*e.a,isNaN(n)||(e.a=n,e.b+=t)},s.cn=function(e){return e.a/(1-Math.pow(e.c,e.b))},kr=function(e,t,n){s.Si.call(this);var i=this;if(Ri(),this.c=new s.H("clpp.Player"),!e)throw new s.J(s.K,7,7102);if(null===t)throw new s.J(s.K,7,7100,"Null configuration provided! Unable to initialize the player!");if(this.b=this.B=t||s.Bj(),void 0===this.b.license&&(this.b.license="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",this.c.warn("You are using the embedded demo license!")),!this.b.license)throw new s.J(s.K,7,7101,"No license provided in configuration!");this.f=new Ii(e,n),this.a=this.i=null,this.l=new s.yj,this.g=null,this.s=[],this.v={},this.h=null,this.m=!0,this.o=this.j=!1,this.w=function(e){(e=e.detail)&&e.currentState===s.dn&&(Ar(i),i.off(s.Bd,i.w))},this.on(s.Bd,(function(){i.getState()===s.Wk&&i.unload()})),Er(this,this.b.license),this.f.F()&&(e=this.f.F(),e.hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),this.c.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),void 0===this.b.autoplay&&(this.b.autoplay=!0,this.c.debug("Setting autoplay in configuration since it was specified in the video element"))));var r=[];Lo.forEach((function(e){try{var t=e.create(i.b);t&&r.push(t)}catch(n){i.c.error("Error while creating player plugin",n)}})),xr(this,r),s.al.clear()},s.jn=function(e,t){t!==e.a&&(e.a&&(e.a.removeDelegate(e),e.a.destroy()),e.a=t,e.a&&(e.a.init(e.f,e.b),e.a.setNetworkEngine(e.getNetworkEngine()),e.a.addDelegate(e)))},Er=function(e,t){e.i=new fr(t),e.i.verify()["catch"]((function(t){setTimeout((function(){e.c.error("License verification failed: "+t),e.trigger(new s.O(s.yc,{detail:new s.J(s.K,7,7101)})),e.destroy()}),1e3)}))},Ar=function(e){e.f.F(),e.i||(e.i=new fr(e.b.license));var t=Object.keys(e.v);Sr(e.i,{getConfiguration:e.getConfiguration.bind(e),dd:e.dd.bind(e),getDrmInfo:e.getDrmInfo.bind(e),bi:function(){return t},isLive:e.isLive.bind(e)}).then((function(){e.c.debug("License verified remotely")}))["catch"]((function(t){setTimeout(lr,1e3,{release:e.release.bind(e),destroy:e.destroy.bind(e),onError:e.onError.bind(e)},t)}))},xr=function(e,t){e.s=t,e.Fc("onPlayerCreated").then((function(){e.s.forEach((function(t){var n=t.id();n&&(e.v[n]=t)}))}))},Ir=function(e,t){return new Promise((function(n,i){var r;e:{if(t){for(r=0;r<t.length;r++);r=Object.values(s.Zh);for(var a=0;a<r.length;a++)for(var o=0;o<t.length;o++)if(r[a].canPlay(t[o])){s.$h.debug("Player Factory '"+r[a].name+"' can play",t[o]),r=new Ft(r[a],o);break e}s.$h.error("No compatible Player Factory found for sources:",t)}r=null}r?(a=r.b.create(),n(new Ht(a,r.a))):(r=new s.O(s.yc,{detail:new s.J(s.K,7,7003)}),e.trigger(r),i(r))}))},s.mn=function(e,t){var n,i,r,a;return s.A((function(o){switch(o.a){case 1:if(e.j)throw Error("Player is already destroyed.");if(!e.f)throw Error("No surface associated with this player!");return s.x(o,e.release(),2);case 2:if(e.h=s.ql(t),n=s.Fj(t),e.b=s.Ej(e.B,n?t:{},{source:e.h}),0===e.h.length)throw Error("Invalid request to load: could not find source to load");if(e.m=!1,i=e.h.findIndex((function(t){return e.canPlay(t)})),-1!==i&&!e.o){o.A(3);break}return s.x(o,Ir(e,e.h),4);case 4:a=o.b,r=a.a,i=a.b,e.o=!1;case 3:return r?s.jn(e,r):e.a.addDelegate(e),e.g=_r(e,e.b).create(e),e.setSourceIndex(i),xi((function(e){e.vc()})),s.x(o,e.Fc("onContentWillLoad",e.b.source[i]),0)}}))},s.nn=function(e){return s.A((function(t){return e.f.F(),e.on(s.Bd,e.w),e.trigger(new s.O(ee)),s.x(t,Promise.all([e.a.load(e.b),e.g.load()]),0)}))},s.on=function(e){var t,n,i;return s.A((function(r){if(1==r.a){if(e.b.remoteTextTracks)for(t=s.u(e.b.remoteTextTracks),n=t.next();!n.done;n=t.next())i=n.value,e.getTrackManager().addTextTrack(i);return xi((function(){})),s.x(r,e.Fc(s.Zc,e.getThumbnailStreams()),2)}return e.b.autoplay?s.x(r,e.play(),0):r.A(0)}))},s.pn=function(e){e&&(0<=Lo.indexOf(e)||Lo.push(e))},Cr=function(e){this.c=new s.H("clpp.StateManager"),this.a=e,this.b=s.qn,this.j=s.rn,this.w=0,this.i=-1,this.J=this.g=this.C=this.m=0,this.h=this.l=this.B=this.s=!1,this.v=0,this.f=null,this.G=0,this.K=s.yh(),this.o=!1,this.C=(new Date).getTime(),this.c.debug("Start watching for video events for "+this.a.namespace()),this.a.on(s.xc,this.zf,this),this.a.on(L,this.Ee,this),this.a.on(s.id,this.He,this),this.a.on(s.ed,this.Ge,this),this.a.on(s.ld,this.Ie,this),this.a.on(s.md,this.Je,this),this.a.on(s.td,this.Vc,this),this.a.on(s.ud,this.Wc,this),this.a.on(se,this.Ke,this),this.a.on(s.ae,this.If,this),this.a.on(s.yc,this.Fe,this),this.a.on(s.Oc,this.Bf,this),this.a.on(j,this.wf,this),this.a.on(s.Rd,this.Wc,this),this.a.on(s.Qd,this.Vc,this)},Mr=function(e,t){return Object.keys(t)[e]},Pr=function(e,t){var n={type:s.Bd};return t===s.Ub||t===s.Tb?(n.reason=e.i,t===s.Ub?n.timeSinceLastStateChangeMS=e.w:n.bufferedTimeMS=e.m):(e.b===s.un&&(n.reason=e.i),e.j===s.un&&(n.reason=e.i,n.bufferedTimeMS=e.m),n.currentState=e.b,n.previousState=e.j,n.timeSinceLastStateChangeMS=e.w),n},Rr=function(e,t){if(e.b===t)return!1;var n=(new Date).getTime(),i=e.b===s.un;return e.j=e.b,e.b=t,e.j===s.wn&&(e.C=n,e.g=0),e.g||(e.g=e.C||n),e.w=n-e.g,e.g=n,t===s.un?(e.J=e.g,e.i=e.l?1:2,e.c.info("Buffering started. Reason: "+Mr(e.i-1,s.xn)),n=Pr(e,s.Ub),e.Jc(s.Ub,n)):i&&(e.m=e.g-e.J,e.c.info("Buffering finished. Reason: "+Mr(e.i-1,s.xn)+". Buffering time: "+e.m+" ms"),n=Pr(e,s.Tb),e.Jc(s.Tb,n)),n=Mr(e.j,s.yn),i=Mr(e.b,s.yn),e.c.info(s.Ia+n+" -> "+i),e.Jc(s.Bd,Pr(e,"")),!0},Nr=function(e){return e.a.namespace()!==K},Dr=function(e,t){if(e.b===s.Wk)e.c.warn("Player is in error state, aborting any further state checks");else{var n=!!e.a&&e.a.isEnded();if(n)Rr(e,s.wn)&&e.c.debug("Player claims to be in ended state, not checking more");else{var i=e.a.getPosition();i=null!==i&&void 0!==i&&0<=i?e.a.getBufferInfo().qa(i,!0):-1,e.v=i;var r=e.a.getSurface().F();e.f=r?r.readyState:null,e.G=e.a.getPlaybackRate()||1,e.B=e.a.isPaused(),i=e.l,r=Nr(e)&&a(e.f)===s.Xc&&2>e.f&&2===r.networkState;var o=Nr(e)&&a(e.f)===s.Xc&&0>=e.v&&e.b===s.qn,u=Nr(e)&&a(e.f)===s.Xc&&2>=e.f&&e.h,c=e.a.namespace()===K&&!0;i=i||o||r||u||c,!e.K||e.a.isLive()||e.b!==s.un||i||(r=t===s.td&&4===e.f,(o=e.j===s.Bn)&&!e.o?i=!0:o||e.o||r||(i=!0)),r=!1,i?r=Rr(e,s.un):e.B?r=Rr(e,s.Cn):e.s&&(r=Rr(e,s.dn)),r&&(e.o=!1),e.c.debug("Video state check for event "+t+":: seeking: "+e.l+", waiting: "+e.h+", playing: "+e.s+", paused: "+e.B+", readyState: "+e.f+", rate: "+e.G+", buffer: "+e.v+", ended: "+n+". Changed state: "+r+", Current state: "+Mr(e.b,s.yn))}}},s.En=function(e,t,n,i,r){this.za=e,this.ta=t,this.ga=n,this.keyInfo=i||null,this.ec=!!r},s.Fn=function(e,t,n,i,r,a,o,s,u){this.position=e,this.startTime=t,this.endTime=n,this.za=i,this.ta=r,this.ga=a,this.keyInfo=o||null,this.ec=!!s,this.timescale=void 0===u?null:u},s.Gn=function(e,t,n){var i=void 0!==i&&i;this.h=e,this.s=t,this.Sb=this.f=1/0,this.a=1,this.i=0,this.c=this.g=null,this.j=0,this.b=!0,this.m=!1,this.v=void 0===n||n,this.l=new s.H("clpp.media.PresentationTimeline"),this.o=i},s.In=function(e,t,n){if(0!=t.length){var i=t[t.length-1].endTime+n;s.Hn(e,t[0].startTime+n),e.a=t.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),e.a),e.c=Math.max(e.c,i),null!=e.h&&e.v&&(e.h=(Date.now()+e.j)/1e3-e.c-e.a),e.l.debug("notifySegments: maxSegmentDuration="+e.a)}},s.Hn=function(e,t){e.g=null==e.g?t:Math.min(e.g,t)},s.Jn=function(e,t){e.a=Math.max(e.a,t),e.l.debug("notifyNewSegmentDuration: maxSegmentDuration="+e.a)},s.Ln=function(e){return 1/0==e.Sb?0:(e=s.Kn(e)-e.Sb,Math.max(0,e))},s.Kn=function(e){if(e.Nb())e=e.c;else if(e.isLive()||1/0!=e.f&&!e.b){var t=(Date.now()+e.j)/1e3;e=Math.min(e.o?Math.max(0,t-(e.a-e.i)-e.h):Math.max(0,t-e.a-e.h),e.f)}else e=e.f;return e},s.Mn=function(e){this.a=e},s.Nn=function(e,t){for(var n=0;n<e.a.length;++n)if(e.a[n].endTime>t)return void e.a.splice(0,n);e.a=[]},s.On=function(e,t){for(;e.a.length;){if(!(0>=e.a[0].endTime))break;e.a.shift()}if(0!=e.a.length){var n=e.a[e.a.length-1];n.startTime>=t||(e.a[e.a.length-1]=new s.Fn(n.position,n.startTime,t,n.za,n.ta,n.ga,n.keyInfo,n.ec,n.timescale))}},Or=function(){},Lr=function(){},jr=function(){},s.Un=function(e){e&&(0<=_o.indexOf(e)?jo.warn("Factory '"+e.name()+"' is already registered"):(_o.push(e),jo.info("Factory "+e.name()+"' has been registered.")))},_r=function(e,t){var n=_o.find((function(n){return n.N(e,t)}));return n||(n=new Lr),jo.info("Chosen ads: "+n.name()),n},Ur=function(){},Br=function(){},Kr=function(){},s.Xn=function(){},Fr=a(Object.create)==s.Bc?Object.create:function(e){function t(){}return t.prototype=e,new t},a(Object.setPrototypeOf)==s.Bc)Hr=Object.setPrototypeOf;else{var Wr;e:{var Gr={Vf:!0},Jr={};try{Jr.__proto__=Gr,Wr=Jr.Vf;break e}catch(Uo){}Wr=!1}Hr=Wr?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}s.pe=Hr,Vr=a(Object.defineProperties)==s.Bc?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},qr="undefined"!=typeof e&&e===this?this:"undefined"!=typeof i&&null!=i?i:this,Se.prototype.toString=function(){return this.a};var zr=function(){function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new Se("jscomp_symbol_"+(n||"")+"_"+t++,n)}var t=0;return e}();Ae.prototype.j=function(e){this.b=e},Ae.prototype["return"]=function(e){this.c={return:e},this.a=this.g},Ae.prototype.A=function(e){this.a=e},Re("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var r=qr.setTimeout;n.prototype.c=function(e){r(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(a(e)){case s.Yc:var n=null!=e;break e;case s.Bc:n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(n){return void this.f(n)}a(t)==s.Bc?this.s(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.o=function(e){var t=this.c();e.Sc(t.resolve,t.reject)},t.prototype.s=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return a(e)==s.Bc?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,u=new t((function(e,t){r=e,o=t}));return this.Sc(i(e,r),i(n,o)),u},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype.Sc=function(e,t){function n(){switch(i.b){case 1:e(i.g);break;case 2:t(i.g);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?o.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=s.u(e),a=r.next();!a.done;a=r.next())i(a.value).Sc(t,n)}))},t.all=function(e){var n=s.u(e),r=n.next();return r.done?i([]):new t((function(e,t){function a(t){return function(n){o[t]=n,s--,0==s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,i(r.value).Sc(a(o.length-1),t),r=n.next()}while(!r.done)}))},t}));var Yr=this||self;Yr.a=!0,clpp={},s.r=De.prototype,s.r.getBackgroundColor=function(){return this.m},s.r.setBackgroundColor=function(e){this.m=e,this.Oa()},s.r.getWindowColor=function(){return this.G},s.r.setWindowColor=function(e){this.G=e,this.Oa()},s.r.getFontFamily=function(){return this.v},s.r.setFontFamily=function(e){this.v=e,this.Oa()},s.r.getFontColor=function(){return this.s},s.r.setFontColor=function(e){this.s=e,this.Oa()},s.r.getFontSize=function(){return this.w},s.r.setFontSize=function(e){this.w=e,this.Oa()},s.r.getEdgeColor=function(){return this.i},s.r.setEdgeColor=function(e){this.i=e,this.Oa()},s.r.getEdgeType=function(){return this.f},s.r.setEdgeType=function(e){this.f=e,this.Oa()},De.prototype.setEdgeType=De.prototype.setEdgeType,De.prototype.getEdgeType=De.prototype.getEdgeType,De.prototype.setEdgeColor=De.prototype.setEdgeColor,De.prototype.getEdgeColor=De.prototype.getEdgeColor,De.prototype.setFontSize=De.prototype.setFontSize,De.prototype.getFontSize=De.prototype.getFontSize,De.prototype.setFontColor=De.prototype.setFontColor,De.prototype.getFontColor=De.prototype.getFontColor,De.prototype.setFontFamily=De.prototype.setFontFamily,De.prototype.getFontFamily=De.prototype.getFontFamily,De.prototype.setWindowColor=De.prototype.setWindowColor,De.prototype.getWindowColor=De.prototype.getWindowColor,De.prototype.setBackgroundColor=De.prototype.setBackgroundColor,De.prototype.getBackgroundColor=De.prototype.getBackgroundColor,s.C={Tf:20,lb:function(e){var t=s.C.H,n=s.C.pf,i=s.C.cb;return t(e)||n(e)?e:i(e)}},s.B("clpp.utils.obj.cloneItem",s.C.lb),s.C.cb=function(e){var t,n={},i=0;for(t=arguments.length;i<t;i++)null!==arguments[i]&&void 0!==arguments[i]&&(n=s.C.tf(n,{merging:arguments[i]}));return n.merging},s.B("clpp.utils.obj.merge",s.C.cb),s.C.tf=function(e,t,n){var i=s.C.H,r=s.C.pf,a=s.C.tf,o=s.C.Mb,u=s.C.ki,c=s.C.hi,l=s.C.Bc;for(var d in n=n+1||1,!i(e)&&l(e)||(e={}),t)t.hasOwnProperty(d)&&(l=t[d],r(l)||i(l)||o(l)?e[d]=l:u(l)?e[d]=l.subarray(0):l instanceof Array?e[d]=a([],l):!i(l)&&c(l)&&n<s.C.Tf&&(e[d]=a(e[d],l,n)));return e},s.C.pf=function(e){return e=a(e),e===s.Dd||e===s.Xc||e===s.Sb},s.C.H=function(e){return null===e||void 0===e},s.C.Bc=function(e){return a(e)===s.Yc},s.C.Mb=function(e){return a(e)===s.Bc},s.C.$=function(e){return a(e)===s.Dd},s.C.sb=function(e){return a(e)===s.Xc},s.C.ki=function(e){var t=s.C.Bc,n=s.C.Mb;return!!(t(e)&&e.buffer&&e.buffer instanceof ArrayBuffer&&n(e.subarray))},s.C.hi=function(e){var t=s.C.Bc,n=s.C.H;return!n(e)&&t(e)&&e.constructor===Object},s.C.xa=function(e,t,n,i){if(e===t||null===e&&null===t||void 0===e&&void 0===t)return!0;if(null===e&&null!==t||null!==e&&null===t||void 0!==e&&void 0===t||void 0===e&&void 0!==t||!s.C.Bc(e)||!s.C.Bc(t))return!1;for(var r=n||Object.keys(e),a={},o=0;o<r.length;o++){var u=r[o];if((s.C.H(i)||0>i.indexOf(u))&&(a[u]=!0,e[u]!==t[u]))return!1}if(s.C.H(n))for(e=Object.keys(t),t=0;t<e.length;t++)if(n=e[t],(s.C.H(i)||0>i.indexOf(n))&&!a[n])return!1;return!0},s.C.isNaN=function(e){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(e){return e!==e})(e)},s.C.we=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},s.C.xe=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};var Xr={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};s.B("clpp.log.Level",Xr);var $r=3,Qr={},Zr=[];s.B("clpp.log.getLoggers",(function(){return s.C.lb(Qr)})),s.B("clpp.log.addInterceptor",(function(e){e&&Zr.push(e)})),s.B("clpp.log.removeInterceptor",(function(e){e&&(e=Zr.indexOf(e),0<=e&&Zr.splice(e,1))})),s.B("clpp.log.getTagLevel",Le),s.B("clpp.log.hasTagLevel",(function(e){return void 0!==e&&0<=Qr[e]})),s.B("clpp.log.setTagLevel",(function(e,t){e&&(s.C.$(t)&&(t=je(t)),Qr[e]=t)})),s.B("clpp.log.setLogLevel",(function(e){-1===e&&(e=3),s.C.$(e)&&(e=je(e)),$r=e})),s.B("clpp.log.getLogLevel",(function(){return $r})),s.B("clpp.log.Logger",s.H),s.H.prototype.log=function(t,n){var i=arguments;if(e.console){var r=t;1<arguments.length?(r=arguments[0],Array.prototype.shift.call(arguments)):r=3;var a=Le(this.a);if(0<=a){if(a<r)return}else if($r<r)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]"),a=new Date,a.toISOString&&(a=a.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,a)),4===r?console.log.apply(console,arguments):3===r?console.info.apply(console,arguments):2===r?console.warn.apply(console,arguments):1===r?console.error.apply(console,arguments):console.log.apply(console,arguments),0<Zr.length&&Zr.forEach((function(e){e.call(e,r,i)}))}},s.H.prototype.log=s.H.prototype.log,s.H.prototype.info=function(e){Array.prototype.unshift.call(arguments,3),this.log.apply(this,arguments)},s.H.prototype.info=s.H.prototype.info,s.H.prototype.debug=function(e){Array.prototype.unshift.call(arguments,4),this.log.apply(this,arguments)},s.H.prototype.debug=s.H.prototype.debug,s.H.prototype.warn=function(e){Array.prototype.unshift.call(arguments,2),this.log.apply(this,arguments)},s.H.prototype.warn=s.H.prototype.warn,s.H.prototype.error=function(e){Array.prototype.unshift.call(arguments,1),this.log.apply(this,arguments)},s.H.prototype.error=s.H.prototype.error,s.H.prototype.Fh=function(e){return e?this.a?new s.H(this.a+"."+e):new s.H(e):this},s.H.prototype.createChild=s.H.prototype.Fh;var ea=new s.H("clpp");s.B("clpp.log.info",s.$e),s.B("clpp.log.debug",s.I),s.B("clpp.log.warn",s.G),s.B("clpp.log.error",s.af);for(var ta=new s.H("clpp.utils.strings"),na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ia=[],ra=0,aa=na.length;ra<aa;++ra)ia[na.charCodeAt(ra)]=ra;ia[61]=0,s.B("clpp.utils.strings.fromUtf8",s.ef),s.B("clpp.utils.strings.fromBytesAutoDetect",s.hf),s.B("clpp.utils.strings.fromBase64",Be),s.B("clpp.utils.strings.toBase64",s.mf),s.B("clpp.utils.strings.toUtf8",s.nf),s.B("clpp.utils.strings.toUtf16",s.of),s.B("clpp.utils.strings.toByteArray",s.pf),s.B("clpp.utils.strings.startsWith",s.qf),s.B("clpp.utils.strings.endsWith",s.rf),s.B("clpp.utils.strings.bitrateToString",(function(e){if(void 0===e||null===e||""===e)return"";try{var t=Number(e);return s.C.isNaN(t)?"":(e="bps",1e3<=Math.abs(t)&&(e="Kbps",t/=1e3),1e3<=Math.abs(t)&&(e="Mbps",t/=1e3),t.toFixed(2).replace(/[.,]00$/,"")+e)}catch(n){return""}})),s.B("clpp.utils.strings.durationToStirng",(function(e,t){function n(e){return function(t,n){return i(e,n.length-1)}}function i(e,t){return e.length<t?i("0"+e,t):e}t=void 0===t?"%h:%mm:%ss":t,null!==e&&void 0!==e||(e=0),null!==t&&void 0!==t||(t="%h:%mm:%ss");var r=Math.floor(e/3600),a=Math.floor((e-3600*r)/60),o=Math.floor(e-3600*r-60*a);return t.replace(/(%h+)/,n(String(r))).replace(/(%m+)/,n(String(a))).replace(/(%s+)/,n(String(o)))})),s.B("clpp.utils.strings.hashCode",(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++){var i=e.charCodeAt(t);n=(n<<5)-n+i,n|=0}return n})),s.Df.prototype.P=function(t){var n=this;this.stop();var i=!0,r=null;return this.a=function(){e.clearTimeout(r),i=!1},r=e.setTimeout((function(){i&&n.b()}),1e3*t),this},s.Df.prototype.stop=function(){this.a&&(this.a(),this.a=null)},s.Ef.prototype.qe=function(){return this.stop(),this.b(),this},s.Ef.prototype.P=function(e){var t=this;return this.stop(),this.a=new s.Df((function(){t.b()})).P(e),this},s.Ef.prototype.Ea=function(e){var t=this;return this.stop(),this.a=new s.Df((function(){t.a.P(e),t.b()})).P(e),this},s.Ef.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},s.B("clpp.utils.Timer",s.Ef),s.Ef.prototype.stop=s.Ef.prototype.stop,s.Ef.prototype.tickEvery=s.Ef.prototype.Ea,s.Ef.prototype.tickAfter=s.Ef.prototype.P,s.Ef.prototype.tickNow=s.Ef.prototype.qe,s.w(Ge,De),s.r=Ge.prototype,s.r.append=function(e){if(!this.c){this.o.debug("append cues"),this.j=!0,e.sort((function(e,t){return e.startTime-t.startTime}));var t=this.b.findIndex((function(t){return t.startTime>=e[0].startTime}));0===t&&(this.b=[]),0<t&&(this.b=this.b.slice(0,t)),Array.prototype.push.apply(this.b,e),this.j=!1,this.a||Je(this),ze(this)}},s.r.remove=function(e,t){return!this.c&&(this.o.debug("Remove cues",e,t),!0)},s.r.isTextVisible=function(){return this.h},s.r.setTextVisibility=function(e){(this.h=e)&&!this.a&&Je(this),e||(this.a&&(this.a.stop(),this.a=null),Ye(this))},s.r.Oa=function(){this.C.style.backgroundColor=this.getWindowColor();var e=this.l.style;e.backgroundColor=this.getBackgroundColor(),e.color=this.getFontColor(),e.fontSize=this.getFontSize(),e.fontFamily=this.getFontFamily(),e.textShadow=Oe(this)},s.r.destroy=function(){return this.c=!0,this.a&&(this.a.stop(),this.a=null),this.b=[],Promise.resolve()},s.w(s.Kf,De),s.r=s.Kf.prototype,s.r.append=function(){},s.r.remove=function(){return!0},s.r.isTextVisible=function(){return this.h},s.r.setTextVisibility=function(e){this.h=e},s.r.Oa=function(){if(!this.g){var e={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":Oe(this)},t=Object.keys(e).reduce((function(t,n){return""+t+n+": "+e[n]+";"}),"");this.b.textContent="."+this.c+"::cue {"+t+"}"}},s.r.destroy=function(){return s.wf(this.j,this.c),document.head.removeChild(this.b),this.g=!0,Promise.resolve()};var oa=0;Xe.prototype.N=function(){},Xe.prototype.create=function(){},s.B("clpp.text.TextDisplayerFactory",Xe),Xe.prototype.create=Xe.prototype.create,Xe.prototype.isSupported=Xe.prototype.N;var sa=new Map,ua=new s.H("clpp.text");Xe.Type={HTML:"html",NATIVE:s.Wc,SINGLE_NATIVE:s.yd},$e.prototype.N=function(){return!0},$e.prototype.create=function(e){return new s.Kf(e)},$e.prototype.create=$e.prototype.create,$e.prototype.isSupported=$e.prototype.N,s.Of(s.Wc,new $e),s.w(s.J,Error),s.J.prototype.ib=function(e){this.a!==e&&(this.a=e,this.message=Qe(this.a,this.c,this.code,this.data))},s.J.prototype.toString=function(){var e=this.message;return this.b&&(e+="\n Caused by "+this.b),e},s.B("clpp.Error",s.J),s.K=2,s.J.Severity={RECOVERABLE:1,FATAL:s.K},s.J.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10},s.fo={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8e3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9e3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,IMA_SDK_MISSING:1e4,IMA_INVALID_CONFIGURATION:10001,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11e3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12e3,FREEWHEEL_INVALID_CONFIGURATION:12001},s.J.Code=s.fo,s.B("clpp.text.Cue",s.bg);var ca="auto";s.bg.positionAlign={LEFT:$,RIGHT:Q,CENTER:s.$b,AUTO:ca};var la=s.$b,da={LEFT:"left",RIGHT:"right",CENTER:la,START:s.Ad,END:s.wc};s.bg.textAlign=da;var fa="after",ha={BEFORE:"before",CENTER:s.$b,AFTER:fa};s.bg.displayAlign=ha;var pa="ltr";s.bg.direction={HORIZONTAL_LEFT_TO_RIGHT:pa,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ga="horizontal-tb";s.bg.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ga,VERTICAL_LEFT_TO_RIGHT:s.Td,VERTICAL_RIGHT_TO_LEFT:s.Ud};var ma=0;s.bg.lineInterpretation={LINE_NUMBER:ma,PERCENTAGE:1};var va=s.Ad,ba={CENTER:s.$b,START:va,END:s.wc};s.bg.lineAlign=ba;var ya=400;s.bg.fontWeight={NORMAL:ya,BOLD:700};var wa="normal",Ta={NORMAL:wa,ITALIC:"italic",OBLIQUE:"oblique"};s.bg.fontStyle=Ta,s.bg.textDecoration={UNDERLINE:le,LINE_THROUGH:Z,OVERLINE:ne},s.B("clpp.text.CueRegion",Ze);var Sa=1;Ze.units={PX:0,PERCENTAGE:Sa,LINES:2};var ka="";Ze.scrollMode={NONE:ka,UP:"up"},s.go=(new Map).set(s.gc,s.gc).set(s.zc,"framerate").set("bandwidth","bitrate").set(s.he,s.he).set(s.Cc,s.Cc).set("channelsCount","channels"),s.hg={},s.B("clpp.text.TextEngine.registerParser",(function(e,t){s.hg[e]=t})),s.B("clpp.text.TextEngine.unregisterParser",(function(e){delete s.hg[e]})),s.r=s.gg.prototype,s.r.destroy=function(){return this.c=this.i=null,this.h.clear(),Promise.resolve()},s.r.remove=function(e,t){var n=this;return Promise.resolve().then((function(){!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e))}))},s.r.Ra=function(){return this.a},s.r.da=function(){return this.b},s.r.Kb=function(e){return null!=this.a&&null!=this.b&&(e>=this.a&&e<this.b)},s.r.qa=function(e){return null==this.b||this.b<e?0:this.b-Math.max(e,this.a)},s.r.ig=function(e){this.c.append(e)},s.gg.prototype.appendCues=s.gg.prototype.ig,s.gg.prototype.rd=function(e,t){this.j=e;var n=this.h.get(e);if(n)for(var i=s.u(n.keys()),r=i.next();!r.done;r=i.next())(r=n.get(r.value))&&(r=r.filter((function(e){return e.endTime<=t})),this.c.append(r))},s.gg.prototype.setSelectedClosedCaptionId=s.gg.prototype.rd,nt.prototype.parseInit=function(){},nt.prototype.parseMedia=function(e,n){var i=s.ef(e);if(i=i.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),i=i.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new s.J(s.K,2,2e3);var r=n.segmentStart;if(null==r&&(r=0,i[0].includes("X-TIMESTAMP-MAP"))){var a=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=i[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(r=at(new s.jg(a[1])),null==r)throw new s.J(s.K,2,2e3);r=n.periodStart+(Number(o[1])/9e4-r)}}o=[];var u=i[0].split("\n");for(a=1;a<u.length;a++)if(/^Region:/.test(u[a])){var c=new s.jg(u[a]),l=new Ze;tt(c),et(c);for(var d=tt(c);d;){var f;e:{var h=l,p=d;if(f=/^id=(.*)$/.exec(p))h.id=f[1];else if(f=/^width=(\d{1,2}|100)%$/.exec(p))h.width=Number(f[1]);else if(f=/^lines=(\d+)$/.exec(p))h.height=Number(f[1]),h.heightUnits=2;else if(f=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.regionAnchorX=Number(f[1]),h.regionAnchorY=Number(f[2]);else if(f=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(p))h.viewportAnchorX=Number(f[1]),h.viewportAnchorY=Number(f[2]);else{if(!/^scroll=up$/.exec(p)){f=!1;break e}h.scroll="up"}f=!0}f||s.G("VTT parser encountered an invalid VTTRegion setting: ",d,t),et(c),d=tt(c)}o.push(l)}for(a=[],c=1;c<i.length;c++){if(u=i[c].split("\n"),h=u,p=r,1==h.length&&!h[0]||/^NOTE($|[ \t])/.test(h[0])||"STYLE"==h[0])u=null;else{u=null,h[0].includes("--\x3e")||(u=h[0],h.splice(0,1)),l=new s.jg(h[0]),d=at(l);var g=s.kg(l,/[ \t]+--\x3e[ \t]+/g);if(f=at(l),null==d||null==g||null==f)throw new s.J(s.K,2,2001);for(d+=p,f+=p,h=h.slice(1).join("\n").trim(),d=new s.bg(d,f,h),et(l),f=tt(l);f;)it(d,f,o)||s.G(C,f,t),et(l),f=tt(l);null!=u&&(d.id=u),u=d}u&&a.push(u)}return a},s.hg[s.Id]=nt,s.hg['text/vtt; codecs="vtt"']=nt;var Ea=[],Aa="none",xa="raised",Ia="depressed",Ca="dropshadow",Ma="uniform";s.B("clpp.text.EdgeType",{NONE:Aa,RAISED:xa,DEPRESSED:Ia,DROP_SHADOW:Ca,UNIFORM:Ma}),s.M={zc:function(e,t){var n=s.M.L(e,t);return 1!=n.length?null:n[0]},cd:function(e,t,n){return e=s.M.cf(e,t,n),1!=e.length?null:e[0]},L:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},cf:function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},Fb:function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},O:function(e,t,n,i){i=void 0===i?null:i;var r=null;return e=e.getAttribute(t),null!=e&&(r=n(e)),null==r?i:r},jj:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},fb:function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(s.G("Invalid duration string:",e),null)},md:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return e=Number(e),0===e%1?e:null},ld:function(e){return e=Number(e),0===e%1&&0<e?e:null},Qb:function(e){return e=Number(e),0===e%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},Kh:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},Lf:function(e,t){var n=new DOMParser,i=null,r=null;try{r=n.parseFromString(e,s.Jd)}catch(a){}return r&&r.documentElement.tagName==t&&(i=r.documentElement),i&&0<i.getElementsByTagName(s.dd).length?null:i},Kf:function(e,t){try{var n=s.ef(e);return s.M.Lf(n,t)}catch(i){return null}}},ot.prototype.parseInit=function(){},ot.prototype.parseMedia=function(e,t){var n=s.ef(e),i=[],r=new DOMParser,a=null;try{a=r.parseFromString(n,s.Jd)}catch(y){throw new s.J(s.K,2,2005)}if(a){if(n=a.getElementsByTagName(s.dd)[0])throw new s.J(s.K,2,2005,n.textContent);if(!(r=a.getElementsByTagName("tt")[0]))throw new s.J(s.K,2,2005);var o=s.M.getAttributeNS(r,Y,s.zc),u=s.M.getAttributeNS(r,Y,"subFrameRate"),c=s.M.getAttributeNS(r,Y,"frameRateMultiplier"),l=s.M.getAttributeNS(r,Y,"tickRate");if(a=r.getAttribute("xml:space")||"default",n=r.getAttribute("tts:extent"),"default"!=a&&"preserve"!=a)throw new s.J(s.K,2,2005);a="default"==a,o=new bt(o,u,c,l),u=st(r.getElementsByTagName(te)[0]),c=st(r.getElementsByTagName("styling")[0]),l=st(r.getElementsByTagName("layout")[0]);for(var d=[],f=0;f<l.length;f++){var h,p,g=l[f],m=n,v=new Ze,b=g.getAttribute(ye);if(b)v.id=b,b=null,m&&(b=Pa.exec(m)||Na.exec(m)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(h=ht(g,c,"extent"))&&(h=(p=Pa.exec(h))||Na.exec(h),null!=h&&(v.width=null!=m?100*Number(h[1])/m:Number(h[1]),v.height=null!=b?100*Number(h[2])/b:Number(h[2]),v.widthUnits=p||null!=m?Sa:0,v.heightUnits=p||null!=b?Sa:0)),(g=ht(g,c,"origin"))&&(h=(p=Pa.exec(g))||Na.exec(g),null!=h&&(v.viewportAnchorX=null!=b?100*Number(h[1])/b:Number(h[1]),v.viewportAnchorY=null!=m?100*Number(h[2])/m:Number(h[2]),v.viewportAnchorUnits=p||null!=m?Sa:0));else s.G("TtmlTextParser parser encountered a region with no id. Region will be ignored."),v=null;v&&d.push(v)}for(n=st(r.getElementsByTagName("body")[0]),r=0;r<n.length;r++)(f=ct(n[r],t.periodStart,o,u,c,l,d,a))&&i.push(f)}return i};var Pa=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Ra=/^(\d+px|\d+em)$/,Na=/^(\d+)px (\d+)px$/,Da=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Oa=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,La=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,ja=/^(\d*(?:\.\d*)?)f$/,_a=/^(\d*(?:\.\d*)?)t$/,Ua=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Ba={left:va,center:s.$b,right:s.wc,start:va,end:s.wc},Ka={left:$,center:s.$b,right:Q};s.hg[s.Fb]=ot,s.Ug.prototype.getPosition=function(){return this.a},s.Ug.prototype.ha=function(){return this.b.byteLength},s.Ug.prototype.seek=function(e){(0>e||e>this.b.byteLength)&&s.Vg(),this.a=e},s.Ug.prototype.seek=s.Ug.prototype.seek,s.Xg.prototype.getPosition=function(){return this.a},s.Xg.prototype.ha=function(){return this.b.byteLength},s.Xg.prototype.skip=function(e){this.a+e>this.b.byteLength&&yt(),this.a+=e},s.Xg.prototype.seek=function(e){if(0>e||e>this.b.byteLength)throw yt();this.a=e},s.B("clpp.utils.Mp4Parser",s.gh),s.gh.prototype.I=function(e,t){var n=Tt(e);return this.c[n]=0,this.b[n]=t,this},s.gh.prototype.box=s.gh.prototype.I,s.gh.prototype.W=function(e,t){var n=Tt(e);return this.c[n]=1,this.b[n]=t,this},s.gh.prototype.fullBox=s.gh.prototype.W,s.gh.prototype.stop=function(){this.a=!0},s.gh.prototype.stop=s.gh.prototype.stop,s.gh.prototype.parse=function(e,t){var n=s.cf(e);for(n=new s.Xg(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),this.a=!1;s.Yg(n)&&!this.a;)this.kd(0,n,t)},s.gh.prototype.parse=s.gh.prototype.parse,s.gh.prototype.kd=function(e,t,n){var i=t.getPosition(),r=s.bh(t),a=s.bh(t);switch(this.f.debug("Parsing MP4 box",St(a)),r){case 0:r=t.ha()-i;break;case 1:r=s.dh(t)}var o=this.b[a];if(o){var u=null,c=null;1==this.c[a]&&(c=s.bh(t),u=c>>>24,c&=16777215),a=t.getPosition()-i;var l=i+r;n&&l>t.ha()&&(l=t.ha()),l-=t.getPosition(),t=0<l?s.eh(t,l):new Uint8Array(0),t=new s.Xg(new DataView(t.buffer,t.byteOffset,t.byteLength),!1),o({gb:this,Mf:n||!1,version:u,flags:c,u:t,size:r,start:i+e,Td:a})}else e=Math.min(i+r-t.getPosition(),t.ha()-t.getPosition()),t.skip(e)},s.gh.prototype.parseNext=s.gh.prototype.kd,s.gh.children=s.hh,s.gh.sampleDescription=s.ih,s.gh.allData=wt,s.gh.typeToString=St,kt.prototype.parseInit=function(e){var t=!1;if((new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("stpp",(function(e){t=!0,e.gb.stop()})).parse(e),!t)throw new s.J(s.K,2,2007)},kt.prototype.parseMedia=function(e,t){var n=this,i=!1,r=[];if((new s.gh).I(s.Qc,wt((function(e){i=!0,r=r.concat(n.a.parseMedia(e,t))}))).parse(e),!i)throw new s.J(s.K,2,2007);return r},s.hg['application/mp4; codecs="stpp"']=kt,s.hg['application/mp4; codecs="stpp.TTML.im1t"']=kt,xt.prototype.create=function(){return new Et},xt.prototype.probe=function(e,t){return("text/srt"===e||e===D)&&t===s.Id},Ea.push(new xt),s.w(It,nt),It.prototype.parseMedia=function(e,t){return nt.prototype.parseMedia.call(this,s.ph(e),t)},s.hg["text/srt"]=It,s.hg[D]=It,s.B(B,Ct),Ct.getInfo=s.Sh;var Fa,Ha=null,Va=null,qa=new s.H(B),Wa="android",Ga="ios",Ja="linux",za="osx",Ya="windows",Xa="tizen",$a=de,Qa=de,Za={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_t.prototype.N=function(e){return!!e.enableEnhancedSubtitleManager&&!Pt()},_t.prototype.create=function(e){return new Ge(e)},_t.prototype.create=_t.prototype.create,_t.prototype.isSupported=_t.prototype.N,s.Of("html",new _t),s.Dk={Gh:function(e,t){return e.reduce(function(e,t,n){return t["catch"](e.bind(null,n))}.bind(null,t),Promise.reject())},Jd:function(e,t){return e.concat(t)},Dc:function(){},ab:function(e){return null!=e}},Ut.prototype.parseInit=function(e){var t=this,n=!1;if((new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).W("mdhd",(function(e){0==e.version?(e.u.skip(4),e.u.skip(4),t.a=s.bh(e.u),e.u.skip(4)):(e.u.skip(8),e.u.skip(8),t.a=s.bh(e.u),e.u.skip(8)),e.u.skip(4)})).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("wvtt",(function(){n=!0})).parse(e),!this.a)throw new s.J(s.K,2,2008);if(!n)throw new s.J(s.K,2,2008)},Ut.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw this.b.error("No init segment for MP4+VTT!"),new s.J(s.K,2,2008);var i,r=0,a=[],o=[],u=!1,c=!1,l=!1,d=null;if((new s.gh).I("moof",s.hh).I("traf",s.hh).W("tfdt",(function(e){u=!0,r=0==e.version?s.bh(e.u):s.dh(e.u)})).W("tfhd",(function(e){var t=e.flags;e=e.u,e.skip(4),1&t&&e.skip(8),2&t&&e.skip(4),d=8&t?s.bh(e):null})).W("trun",(function(e){c=!0;var t=e.version,n=e.flags;e=e.u;var i=s.bh(e);1&n&&e.skip(4),4&n&&e.skip(4);for(var r=[],o=0;o<i;o++){var u={duration:null,sampleSize:null,re:null};256&n&&(u.duration=s.bh(e)),512&n&&(u.sampleSize=s.bh(e)),1024&n&&e.skip(4),2048&n&&(u.re=0==t?s.bh(e):s.ch(e)),r.push(u)}a=r})).I(s.Qc,wt((function(e){l=!0,i=e}))).parse(e),!l&&!u&&!c)throw new s.J(s.K,2,2008);var f=r,h=new DataView(i.buffer,i.byteOffset,i.byteLength),p=new s.Xg(h,!1);return a.forEach((function(e){var i=e.duration||d,a=e.re?r+e.re:f;f=a+(i||0);var u=0;do{var c=s.bh(p);u+=c;var l=s.bh(p);l=St(l);var h=null;"vttc"==l?8<c&&(h=s.eh(p,c-8)):("vtte"!=l&&n.b.error("Unknown box "+l+"! Skipping!"),p.skip(c-8)),i?h&&o.push(Bt(h,t.periodStart+a/n.a,t.periodStart+f/n.a)):n.b.error("WVTT sample duration unknown, and no default found!")}while(e.sampleSize&&u<e.sampleSize)})),o.filter(s.Dk.ab)},s.hg['application/mp4; codecs="wvtt"']=Ut,s.$h=new s.H("clpp.players"),s.Zh={},s.r=s.bi.prototype,s.r.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},s.r.get=function(e){return(e=this.a[e])?e.slice():[]},s.r.remove=function(e,t){var n=this.a[e];if(!n)return!1;for(var i=!1,r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r,i=!0);return i},s.r.clear=function(){this.a={}},s.r.forEach=function(e){for(var t in this.a)e(t,this.a[t])},Vt.prototype.Jc=function(e){try{this.bc.handleEvent?this.bc.handleEvent(e):this.bc.call(this.a,e)}catch(t){s.af("clpp","Uncaught exception in event handler for event '"+this.eventName+"'",t,t?t.message:null,t?t.stack:null)}},s.O.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},s.O.prototype.stopImmediatePropagation=function(){this.a=!0},s.O.prototype.stopPropagation=function(){},s.B("clpp.EventBus",qt),qt.prototype.trigger=function(e){var t=this.a.get(e.type);if(t)for(var n=0;n<t.length&&(e.target=this.b,e.currentTarget=this.b,t[n].Jc(e),t[n].qj&&this.a.remove(e.type,t[n]),!e||!e.a);n++);},qt.prototype.trigger=qt.prototype.trigger,qt.prototype.on=function(e,t,n){return this.a.push(e,new Vt(e,t,n||this.b)),t},qt.prototype.on=qt.prototype.on,qt.prototype.one=function(e,t,n){return this.a.push(e,new Vt(e,t,n||this.b,!0)),t},qt.prototype.one=qt.prototype.one,qt.prototype.off=function(e,t){var n=this.a.get(e),i=!1;if(n)for(var r=0;r<n.length;r++)n[r].bc===t&&(i=this.a.remove(e,n[r])||i);return i},qt.prototype.off=qt.prototype.off,qt.prototype.clear=function(){this.a.clear()},qt.prototype.clear=qt.prototype.clear,s.ei.prototype.release=function(){s.hi(this)},s.ei.prototype.on=function(e,t,n,i){e=new Gt(e,t,n,void 0!==i&&i),this.a.push(t,e)},s.ei.prototype.one=function(e,t,n){function i(a){r.off(e,t,i),n(a)}var r=this;this.on(e,t,i)},s.ei.prototype.off=function(e,t,n){for(var i=this.a.get(t)||[],r=0;r<i.length;++r){var a=i[r];a.target!=e||n!=a.listener&&n||(Jt(a),this.a.remove(t,a))}},zt.prototype.release=function(){this.c.release(),this.f=[],this.a=null},zt.prototype.destroy=function(){var e=this;return s.A((function(t){e.release(),e.h=null,e.g=null,s.y(t)}))},zt.prototype.getTimelineCues=function(){return this.f},s.si.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length},s.B("clpp.Track",s.si),s.si.prototype.toString=s.si.prototype.toString,s.B("clpp.Rendition",s.ti),s.yi=1,s.vi=s.Vd,s.Q=s.Lb,s.P=s.k,Fa=te,s.jo={VIDEO:s.vi,AUDIO:s.Q,TEXT:s.P,Mj:Fa},s.si.Type=s.jo,s.B("clpp.TrackManager",s.S),s.S.prototype.getVideoTracks=s.S.prototype.getVideoTracks,s.S.prototype.getAudioTracks=s.S.prototype.getAudioTracks,s.S.prototype.getTextTracks=s.S.prototype.X,s.S.prototype.getVideoRendition=s.S.prototype.Z,s.S.prototype.getAudioRendition=s.S.prototype.ra,s.S.prototype.getTextRendition=s.S.prototype.ia,s.S.prototype.getLoadingVideoRendition=s.S.prototype.Ha,s.S.prototype.getLoadingAudioRendition=s.S.prototype.Fa,s.S.prototype.getLoadingTextRendition=s.S.prototype.Ga,s.S.prototype.getVideoTrack=s.S.prototype.ja,s.S.prototype.getAudioTrack=s.S.prototype.ea,s.S.prototype.getTextTrack=s.S.prototype.ba,s.S.prototype.setVideoTrack=s.S.prototype.Da,s.S.prototype.setAudioTrack=s.S.prototype.ma,s.S.prototype.setTextTrack=s.S.prototype.na,s.S.prototype.setVideoRendition=s.S.prototype.Ca,s.S.prototype.setAudioRendition=s.S.prototype.Ka,s.S.prototype.setTextRendition=s.S.prototype.La,s.S.prototype.Rh=function(e){return this.getVideoTracks().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findVideoTrack=s.S.prototype.Rh,s.S.prototype.Nh=function(e){return this.getAudioTracks().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findAudioTrack=s.S.prototype.Nh,s.S.prototype.Ph=function(e){return this.X().find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findTextTrack=s.S.prototype.Ph,s.S.prototype.Qh=function(e){return this.getVideoTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findVideoRendition=s.S.prototype.Qh,s.S.prototype.Mh=function(e){return this.getAudioTracks().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findAudioRendition=s.S.prototype.Mh,s.S.prototype.Oh=function(e){return this.X().flatMap((function(e){return e.renditions})).find((function(t){return s.C.xa(t,e,e&&Object.keys(e))}))},s.S.prototype.findTextRendition=s.S.prototype.Oh,s.S.prototype.addTextTrack=s.S.prototype.addTextTrack,s.S.prototype.isAbrEnabled=s.S.prototype.ka,s.w(en,s.S),s.r=en.prototype,s.r.he=function(e,t){if(t){var n=t.track;if(n){var i=this.g.find((function(t){return tn(t,n,e)}));if(i)this.a.warn("Track from event already exists",n,i);else{var r=Zt(e,n);if(e===s.P){if(n.kind===te)return;var a;a=void 0!==n.id?this.i[n.id]:Object.values(this.i).find((function(t){return tn(r,t,e)})),r.kind&&"captions"===r.kind&&(r.mimeType=s.Cb),a&&(r.src=a.url,r.mimeType=a.mimeType)}else if(i=this.g.find((function(t){return t.type===e&&s.C.xa(t,r,["kind","label","language"])})))return i.id=n.id,dn(n)&&this.c.set(e,i),void this.a.debug("Track from event seems to already exists, flipped native track to",n);try{r.renditions.push(new s.ti(r.id,r)),this.g.push(r),this.a.debug(e+" Track added",r),this.b.trigger(new s.O(s.ko)),dn(n)&&this.c.set(e,r)}catch(o){this.a.error("Error while converting track data",o)}}}else this.a.warn(T)}else this.a.warn(w)},s.r.ke=function(e,t){if(t){var n=t.track;if(n){if(e===s.P&&n.kind!==te){var i=this.g.find((function(t){return tn(t,n,e)}));i&&(this.g.splice(this.g.indexOf(i),1),(this.c.get(e)||null)===i&&this.c.set(e,null),this.a.debug(e+" Track removed, id: ",i.id))}}else this.a.warn(T)}else this.a.warn(w)},s.r.je=function(e,t){this.a.debug(e+" Track changed",t);var n=on(this,e);if(n)for(var i={Zb:0};i.Zb<n.length;i={Zb:i.Zb},++i.Zb)if(dn(n[i.Zb])){(i=this.g.find(function(t){return function(i){return tn(i,n[t.Zb],e)}}(i)))&&(this.c.set(e,i),this.a.debug("Track change detected, id:",i.id),i===this.h.get(e)&&this.h.set(e,null),e===s.Q?this.b.trigger(new s.O(s.Ki)):e===s.P&&this.b.trigger(new s.O(s.Li)));break}},s.r.mb=function(e){this.b=e},s.r.load=function(){this.j=!1;var e=an(this,s.P);e&&(this.f.on(e,M,this.w),this.f.on(e,ae,this.C),this.f.on(e,_,this.B)),(e=an(this,s.Q))&&(this.f.on(e,M,this.o),this.f.on(e,ae,this.v),this.f.on(e,_,this.s)),(e=an(this,s.vi))&&(this.f.on(e,M,this.G),this.f.on(e,ae,this.K),this.f.on(e,_,this.J)),this.f.one(this.b,j,this.hh.bind(this))},s.r.release=function(){this.j=!0,this.g=[],this.i={},this.c.clear(),this.h.clear(),this.f.release()},s.r.destroy=function(){this.release(),this.b=null},s.r.getVideoTracks=function(){return sn(this,s.vi)},s.r.getAudioTracks=function(){return sn(this,s.Q)},s.r.X=function(){return sn(this,s.P)},s.r.Z=function(){return un(this,s.vi)},s.r.ra=function(){return un(this,s.Q)},s.r.ia=function(){return un(this,s.P)},s.r.Ha=function(){return cn(this,s.vi)},s.r.Fa=function(){return cn(this,s.Q)},s.r.Ga=function(){return cn(this,s.P)},s.r.ja=function(){return this.c.get(s.vi)||null},s.r.ea=function(){return this.c.get(s.Q)||null},s.r.ba=function(){return this.c.get(s.P)||null},s.r.Da=function(e){ln(this,s.vi,e)},s.r.ma=function(e){ln(this,s.Q,e)},s.r.na=function(e){ln(this,s.P,e)},s.r.Ca=function(e){ln(this,s.vi,e&&e.track)},s.r.Ka=function(e){ln(this,s.Q,e&&e.track)},s.r.La=function(e){ln(this,s.P,e&&e.track)},s.r.addTextTrack=function(e){var t,n=this;return s.A((function(i){return e.mimeType.match(/text\/vtt/)?(t="External_"+n.l++,n.i[t]=e,rn(n,e,t),i.A(0)):s.x(i,nn(n,e),0)}))},s.r.hh=function(){var e,t,n,i=this;return s.A((function(r){return 1==r.a?(e=i.b.getConfiguration(),fn(i,s.Q,e.preferredAudioLanguage),t=on(i,s.P),t.some((function(e){return dn(e)}))?r.A(2):(n=an(i,s.P),s.x(r,new Promise((function(e){i.f.one(n,_,e),new s.Ef(e).P(1)})),2))):i.j?r["return"]():(fn(i,s.P,e.preferredTextLanguage),void s.y(r))}))},s.r.ka=function(){return 1>=this.getVideoTracks().flatMap((function(e){return e.renditions})).length},en.prototype.isAbrEnabled=en.prototype.ka,en.prototype.addTextTrack=en.prototype.addTextTrack,en.prototype.setTextRendition=en.prototype.La,en.prototype.setAudioRendition=en.prototype.Ka,en.prototype.setVideoRendition=en.prototype.Ca,en.prototype.setTextTrack=en.prototype.na,en.prototype.setAudioTrack=en.prototype.ma,en.prototype.setVideoTrack=en.prototype.Da,en.prototype.getTextTrack=en.prototype.ba,en.prototype.getAudioTrack=en.prototype.ea,en.prototype.getVideoTrack=en.prototype.ja,en.prototype.getLoadingTextRendition=en.prototype.Ga,en.prototype.getLoadingAudioRendition=en.prototype.Fa,en.prototype.getLoadingVideoRendition=en.prototype.Ha,en.prototype.getTextRendition=en.prototype.ia,en.prototype.getAudioRendition=en.prototype.ra,en.prototype.getVideoRendition=en.prototype.Z,en.prototype.getTextTracks=en.prototype.X,en.prototype.getAudioTracks=en.prototype.getAudioTracks,en.prototype.getVideoTracks=en.prototype.getVideoTracks,hn.prototype.release=function(){this.a.release(),this.c=!1},hn.prototype.destroy=function(){return this.c&&this.release(),this.a=this.f=this.b=null,Promise.resolve()},hn.prototype.start=function(e){var t=this;this.c&&this.g.warn("Already started. Ignoring request..."),this.c=!0,this.f=e,this.b=this.f.textTracks,this.a.on(this.b,M,(function(e){return pn(t,e)})),this.a.on(this.b,_,(function(){for(var e=t.b,n=0;n<e.length;n++){var i=e[n];i.mode===s.xd&&(i.mode=s.Dc)}}))},s.r=s.Ri.prototype,s.r.start=function(e){if(this.b)return this.b.start(e);if(e<this.a.length)return this.a[e].start;throw Error(A)},s.r.end=function(e){if(this.b)return this.b.end(e);if(e<this.a.length)return this.a[e].end;throw Error(A)},s.r.Ra=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)},s.r.da=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:this.end(this.length-1)},s.r.Kb=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)||e>this.end(this.length-1))return!1;if(t)return n+e>=this.start(0)&&e<=this.end(this.length-1);for(t=0;t<this.length;t++)if(n+e>=this.start(t)&&e<=this.end(t))return!0;return!1},s.r.qa=function(e,t){if(t=void 0!==t&&t,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0))return 0;var n=0;if(t){var i=this.da();null!=i&&(n=Math.max(0,i-e))}else for(i=this.length-1;0<=i&&this.end(i)>e;--i)n+=this.end(i)-Math.max(this.start(i),e);return n},s.B("clpp.BufferInfo",s.Ri),s.Ri.prototype.bufferedAheadOf=s.Ri.prototype.qa,s.Ri.prototype.isBuffered=s.Ri.prototype.Kb,s.Ri.prototype.bufferEnd=s.Ri.prototype.da,s.Ri.prototype.bufferStart=s.Ri.prototype.Ra,s.Ri.prototype.end=s.Ri.prototype.end,s.Ri.prototype.start=s.Ri.prototype.start,s.Si.prototype.trigger=function(e){this.xc.trigger(e),0<this.dc.length&&this.dc.forEach((function(t){null!==e&&t.dispatchEvent(e)}))},s.Si.prototype.addEventListener=function(e,t){this.on(e,t)},s.Si.prototype.addEventListener=s.Si.prototype.addEventListener,s.Si.prototype.removeEventListener=function(e,t){this.off(e,t)},s.Si.prototype.removeEventListener=s.Si.prototype.removeEventListener,s.Si.prototype.dispatchEvent=function(e){return this.trigger(e),e.defaultPrevented},s.Si.prototype.on=function(e,t,n){return this.xc.on(e,t,n)},s.Si.prototype.on=s.Si.prototype.on,s.Si.prototype.one=function(e,t,n){return this.xc.one(e,t,n)},s.Si.prototype.one=s.Si.prototype.one,s.Si.prototype.off=function(e,t){return this.xc.off(e,t)},s.Si.prototype.off=s.Si.prototype.off,s.Si.prototype.addDelegate=function(e){e&&(0<=this.dc.indexOf(e)||this.dc.push(e))},s.Si.prototype.addDelegate=s.Si.prototype.addDelegate,s.Si.prototype.removeDelegate=function(e){e&&(e=this.dc.indexOf(e),0<=e&&this.dc.splice(e,1))},s.Si.prototype.removeDelegate=s.Si.prototype.removeDelegate,s.B("clpp.events.ERROR",s.yc),s.B("clpp.events.LOADEDMETADATA",s.Oc),s.B("clpp.events.BUFFERING_ENDED",s.Tb),s.B("clpp.events.BUFFERING_STARTED",s.Ub),s.B("clpp.events.STATE_CHANGED",s.Bd),s.Ki="audiotrackchanged",s.B("clpp.events.AUDIO_TRACK_CHANGED",s.Ki),s.Li="texttrackchanged",s.B("clpp.events.TEXT_TRACK_CHANGED",s.Li),s.B("clpp.events.VIDEO_TRACK_CHANGED",s.Zd),s.B("clpp.events.BITRATE_CHANGED",s.Rb),s.ko="tracksadded",s.B("clpp.events.TRACKS_ADDED",s.ko),s.B("clpp.events.LOAD_START",ee),s.B("clpp.events.RELEASING",s.od),s.B("clpp.events.RELEASED",re),s.B("clpp.events.DESTROYING","destroying"),s.B("clpp.events.DESTROYED","destroyed"),s.B("clpp.events.VIDEO_BUFFER_CHANGED",s.Yd),s.B("clpp.events.AUDIO_BUFFER_CHANGED",s.Ob),s.B("clpp.events.DOWNLOAD_TRACE","downloadtrace"),s.B("clpp.events.DRM_SESSION_UPDATE",s.sc),s.B("clpp.events.DRM_SESSION_PERSISTED",s.rc),s.B("clpp.events.DRM_RENEWAL_STARTED",W),s.B("clpp.events.DRM_EXPIRATION_UPDATE",s.pc),s.B("clpp.events.AUTOPLAY_NOT_ALLOWED",s.Qb),s.B("clpp.events.PLAY",s.hd),s.B("clpp.events.SEEKING",s.ud),s.B("clpp.events.SEEKED",s.td),s.B("clpp.events.USER_SEEKING",s.Rd),s.B("clpp.events.USER_SEEKED",s.Qd),s.xn={SEEKING:1,NO_DATA:2},s.B("clpp.events.BufferingReasons",s.xn),s.B("clpp.events.ADS_TIMELINE_CHANGED",s.xb),s.B("clpp.events.AD_LOADED",s.lb),s.B("clpp.events.AD_BREAK_STARTED",s.cb),s.B("clpp.events.AD_STARTED",s.sb),s.B("clpp.events.AD_BUFFERING",s.eb),s.B("clpp.events.AD_PROGRESS",s.ob),s.B("clpp.events.AD_FIRST_QUARTILE",s.ib),s.B("clpp.events.AD_MIDPOINT",s.mb),s.B("clpp.events.AD_THIRD_QUARTILE",s.ub),s.B("clpp.events.AD_PAUSED",s.nb),s.B("clpp.events.AD_RESUMED",s.pb),s.B("clpp.events.AD_SKIPPED",s.qb),s.B("clpp.events.AD_CLICKED",s.gb),s.B("clpp.events.AD_IMPRESSION",s.kb),s.B("clpp.events.AD_COMPLETED",s.hb),s.B("clpp.events.AD_STOPPED",s.tb),s.B("clpp.events.AD_BREAK_STOPPED",s.db),s.B("clpp.events.CASTING_STARTED",s.Xb),s.B("clpp.events.CASTING_ENDED","castingended"),s.B("clpp.events.CAST_STATUS_CHANGED",s.Yb),s.B("clpp.events.AIRPLAY_STATUS_CHANGED",s.Ab),s.B("clpp.events.AIRPLAY_CASTING_STARTED",s.zb),s.B("clpp.events.AIRPLAY_CASTING_ENDED",s.yb),s.pi="timeline-cue-added",s.B("clpp.events.TIMELINE_CUE_ADDED",s.pi),s.qi="timeline-cue-enter",s.B("clpp.events.TIMELINE_CUE_ENTER",s.qi),s.ri="timeline-cue-exit",s.B("clpp.events.TIMELINE_CUE_EXIT",s.ri),s.B("clpp.events.MPD_TYPE_CHANGED",s.Vc),s.B("clpp.events.VIMOND_RESPONSE",s.$d),s.B("clpp.events.PLAYLIST_ITEM_CHANGED",s.jd),s.B("clpp.events.PLAYLIST_MODIFIED",s.kd),s.Ti.parse=function(t){var n=t.split(":");if(2>n.length||"data"!==n[0])throw s.af("Bad data URI, failed to parse scheme"),new s.J(s.K,1,1004,{uri:t});if(n=n.slice(1).join(":").split(","),2>n.length)throw s.af("Bad data URI, failed to extract encoding and MIME type"),new s.J(s.K,1,1004,{uri:t});var i=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),i=i.split(";");var r="";if(1<i.length&&(r=i[1]),"base64"===r)t=Be(n).buffer;else{if(r)throw s.af("Bad data URI, unknown encoding "+r),new s.J(s.K,1,1005,{uri:t});t=s.nf(n).buffer}return{data:t,contentType:i[0]}},xn.g=function(e,t,n,i){var r,a,o,u,l,d,f,h,p,g,m,v,b,y,w;return s.A((function(T){switch(T.a){case 1:return r=xn.f,l=u=Date.now(),s.Ae(T,2),s.x(T,r(e,n),4);case 4:return a=T.b,d=a.headers.get(c),Un(t,d),f=d?parseInt(d,10):0,t.onFragment&&t.type===s.lo?(g=a.body.getReader(),m=new wn(f),v=function(e,n){if(i.uc)return null;if(n&&n.data){var r=Date.now();Bn(t,n.data.byteLength,r-u),u=r}return t.onFragment&&n?t.onFragment(n):null},s.x(T,Tn(m,g,v,t.onProgress),8)):(h=a.body.getReader(),p=new gn(f),s.x(T,mn(p,h,t),7));case 7:o=T.b,T.A(6);break;case 8:o=T.b;case 6:s.Be(T,3);break;case 2:if(b=s.Ce(T),i.uc)throw new s.J(1,1,7001,{url:e,request:t});if(i.Sf)throw new s.J(1,1,1003,{url:e,request:t});throw s.af("Error while fetching data:",b),new s.J(1,1,1002,{url:e,error:b,request:t,status:-1},b);case 3:if(y={},w=a.headers,w.forEach((function(e,t){y[t.trim()]=e})),i.uc)throw new s.J(1,1,7001,{url:e,request:t});return T["return"](s.jj(y,o,a.status,e,a.url,t,Date.now()-l))}}))},xn.N=function(){return!(!e.fetch||!e.AbortController)},xn.f=e.fetch,xn.a=e.AbortController,xn.h=e.ReadableStream,xn.b=e.Headers,s.gj.prototype.resolve=function(){},s.gj.prototype.reject=function(){},In.c=e.XMLHttpRequest;var eo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;s.r=s.kj.prototype,s.r.Ba="",s.r.Wb="",s.r.wa="",s.r.lc=null,s.r.fa="",s.r.Eb="",s.r.toString=function(){var e=[],t=this.Ba;if(t&&e.push(Nn(t,to,!0),":"),t=this.wa){e.push("//");var n=this.Wb;n&&e.push(Nn(n,to,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.lc,null!=t&&e.push(":",String(t))}return(t=this.fa)&&(this.wa&&"/"!=t.charAt(0)&&e.push("/"),e.push(Nn(t,"/"==t.charAt(0)?io:no,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Eb)&&e.push("#",Nn(t,ao)),e.join("")},s.r.resolve=function(e){var t=new s.kj(this);"data"===t.Ba&&(t=new s.kj);var n=!!e.Ba;n?Cn(t,e.Ba):n=!!e.Wb,n?t.Wb=e.Wb:n=!!e.wa,n?t.wa=e.wa:n=null!=e.lc;var i=e.fa;if(n)Mn(t,e.lc);else if(n=!!e.fa){if("/"!=i.charAt(0))if(this.wa&&!this.fa)i="/"+i;else{var r=t.fa.lastIndexOf("/");-1!=r&&(i=t.fa.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var u=i[o++];"."==u?r&&o==i.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(u),r=!0)}i=a.join("/")}}return n?t.fa=i:n=""!==e.a.toString(),n?Pn(t,Ln(e.a)):n=!!e.Eb,n&&(t.Eb=e.Eb),t};var to=/[#\/\?@]/g,no=/[#\?:]/g,io=/[#\?]/g,ro=/[#\?@]/g,ao=/#/g;On.prototype.a=null,On.prototype.c=null,On.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),a=null;if(0<=r){var o=n[i].substring(0,r);a=n[i].substring(r+1)}else o=n[i];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),null!==this.c&&this.c++,this},On.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),i=this.a[e],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),t.push(a)}return this.b=t.join("&")},s.r=s.yj.prototype,s.r.release=function(){return this.f.destroy()},s.r.destroy=function(){return this.g=!0,this.b=[],this.c=[],this.f.destroy()},s.r.eg=function(e){this.b.push(e)},s.r.zd=function(e){this.c.push(e)},s.r.rj=function(e){this.b=this.b.filter((function(t){return t!==e}))},s.r.oe=function(e){this.c=this.c.filter((function(t){return t!==e}))},s.r.fetch=function(e){var t=this;if(this.g)return new tr(Promise.reject(new s.J(1,1,7001,{url:e.uris[e.uriIndex],request:e})));try{var n=[];this.b.forEach((function(e){n.push(e)})),e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){n.push(e)})),e.requestModifiers=n;var i=[];this.c.forEach((function(e){i.push(e)})),e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){i.push(e)})),e.responseModifiers=i;var r=new s.gj,a=r;e.requestModifiers&&0<e.requestModifiers.length&&e.requestModifiers.forEach((function(e){a=a.then((function(t){if(o.a)throw new s.J(s.K,1,7001,t?{url:t.uris[t.uriIndex],request:t}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.J)throw e;throw new s.J(s.K,1,1006,null,e)}))})),a=a.then((function(e){var n=new s.kj(e.uris[e.uriIndex]),i=n.Ba;if(i||(i=location.protocol,i=i.slice(0,-1),Cn(n,i),e.uris[e.uriIndex]=n.toString()),i=t.a[i],!i)throw new s.J(s.K,1,1e3,{url:n.toString()});return{request:e,plugin:i}}));var o=new tr(a);return e.responseModifiers&&0<e.responseModifiers.length&&e.responseModifiers.forEach((function(e){o.then((function(t){if(o.a)throw new s.J(s.K,1,7001,t?{url:t.request.uris[t.request.uriIndex],request:t.request}:null);return e(t)||t}))["catch"]((function(e){if(e instanceof s.J)throw e;throw new s.J(s.K,1,1007,null,e)}))})),s.Vm(this.f,o),r.resolve(e),o}catch(u){return new tr(Promise.reject(u))}},s.yj.prototype.fetch=s.yj.prototype.fetch,s.yj.prototype.removeResponseModifier=s.yj.prototype.oe,s.yj.prototype.removeRequestModifier=s.yj.prototype.rj,s.yj.prototype.addResponseModifier=s.yj.prototype.zd,s.yj.prototype.addRequestModifier=s.yj.prototype.eg,s.B("clpp.net.makeRequest",s.Ci),s.lo=2,s.zj=6,s.B("clpp.net.RequestType",{MANIFEST:1,SEGMENT:s.lo,LICENSE:3,APP:4,TIMING:5,OTHER:s.zj}),s.B("clpp.utils.PlayerConfiguration",Kn),Kn.create=s.Ej;var oo=["abort",L,j,J,"emptied",s.vc,s.xc,s.yc,"interruptbegin","interruptend",s.Nc,s.Oc,ee,"mozaudioavailable",s.ed,s.hd,s.id,s.ld,s.md,s.td,s.ud,se,"suspend",s.Ld,"volumechange",s.ae,s.be,s.rd,ge,pe,fe,he];s.w(s.Gj,s.Si),s.r=s.Gj.prototype,s.r.init=function(e,t){var n=this;this.configuration=this.Oc=t,this.l=e,this.log.info("Initializing Player surface");var i=this.l.F(!0);this.log.info("Attaching media element listeners"),oo.forEach((function(e){n.w.on(i,e,n.mi,e!==s.yc)})),this.Pc||(this.Pc=this.Ve()),this.Pc.mb(this),s.kl(this.l)},s.r.release=function(){return this.J&&(this.J.destroy(),this.J=null),Promise.resolve()},s.r.destroy=function(){return this.w.release(),Promise.resolve()},s.r.canPlay=function(e){return s.Zh[this.namespace()].canPlay(e)},s.r.play=function(){var e=this;if(!this.j)return Promise.reject("No sources specified yet. You need to load content before calling play.");var t=this.l.F().play();return Promise.resolve(t)["catch"]((function(t){var n=t.message||"",i=t.stack||"";throw"NotAllowedError"===(t.name||"")&&(0===i.indexOf(s.hd)||0<=n.indexOf(s.hd))&&(e.trigger(new s.O(s.Qb)),e.log.warn(s.ha)),t}))},s.r.pause=function(){var e=this;return this.j?new Promise((function(t,n){var i=e.getState();i!==s.un&&i!==s.wn&&i!==s.dn&&i!==s.Cn?n():(e.l.F().pause(),e.getState()===s.dn?e.w.one(e,s.Bd,(function(){t()})):t())})):Promise.reject("No sources specified yet. You need to load content before calling pause.")},s.r.isPaused=function(){return this.l.F().paused},s.r.isEnded=function(){return this.l.F().ended},s.r.getConfiguration=function(){return this.configuration},s.r.getSurface=function(){return this.l},s.r.getBufferInfo=function(e){var t=this.getSurface().F();return new s.Ri(t?t.buffered:void 0,e)},s.r.getPosition=function(){var e=this.l.F();return e?e.currentTime:(this.log.warn("No media element available, can not report current time!"),0)},s.r.seek=function(e){var t=this,n=this.getPosition();if(void 0===e||null===e||a(e)!==s.Xc||e===n)return Promise.resolve();var i=this.l.F();if(!i)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var r=e-n;return.1>=Math.abs(r)?(this.log.info("Skip seek. Delta "+Math.abs(r)+" < 0.1"),Promise.resolve()):new Promise((function(a,o){function u(){i.readyState>HTMLMediaElement.HAVE_NOTHING?l():t.w.one(i,s.Oc,l)}function c(r){var o=t.getPosition(),u=.1>=Math.abs(e-o),l=.25<o-e,d=i.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,f=r.type===s.td,h=r.type===s.ld,p=r.type===s.Ld,g=h&&d;l=f||u&&g||p&&l,t.log.debug("Checking seeking state after "+r.type+" event. Seek completed:",l,"Current Time:",o,"Target Time:",e,"Native Event:",f,"Time reached",u,"Timeupdate:",p,"Progress:",h,"ReadyState:",d,"Progress Ready:",g),l?(t.xd=!1,t.Kc=!1,t.w.off(i,s.td,c),t.w.off(i,s.Ld,c),t.w.off(i,s.ld,c),t.Hf(),t.trigger(new s.O(s.Qd)),a()):h&&n===o&&(t.log.debug("Seek seemed to have been ignored. Trying again"),i.currentTime=e)}function l(){t.w.on(i,s.td,c),t.w.on(i,s.Ld,c),t.w.on(i,s.ld,c),t.log.info("Seeking to "+e+". Delta "+r),t.xd=!0,t.Kc=!0,i.currentTime=e,t.trigger(new s.O(s.Rd))}t.getState()===s.qn?(t.log.debug("Player is in IDLE state. Postpone seek."),t.w.one(t,s.Bd,(function(){switch(t.getState()){case s.un:case s.dn:case s.Cn:t.log.debug("Valid seek state reached."),u();break;default:t.log.warn("Invalid seek target state. Aborting seek"),o()}}))):u()}))},s.r.getVolume=function(){var e=this.l.F();return e?e.volume:(this.log.warn("No media element available, can not report volume!"),null)},s.r.setVolume=function(e){var t=this.l.F();t?s.C.sb(e)?0>e||1<e?this.log.warn(u+e+".\n          Value must be between 0 and 1."):t.volume=e:this.log.warn(u+e+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")},s.r.isMuted=function(){return this.l.F().muted},s.r.setMuted=function(e){var t=this.l.F();a(e)===s.Sb&&(t.muted=e)},s.r.getDuration=function(){return this.j?this.l.F().duration:-1},s.r.getTrackManager=function(){return this.Pc},s.r.getPlaybackRate=function(){var e=this.l.F();return e&&e.playbackRate||1},s.r.setPlaybackRate=function(e){var t=this.l.F();void 0!==e&&t&&(t.playbackRate=e)},s.r.setSourceIndex=function(e){this.af=e},s.r.getSourceIndex=function(){return this.af},s.r.getLoadedSource=function(){return this.j&&this.j[this.getSourceIndex()]},s.r.getThumbnailStreams=function(){return[]},s.r.getNetworkEngine=function(){return this.Ye},s.r.setNetworkEngine=function(e){this.Ye=e},s.r.getTextDisplayer=function(){return this.J},s.r.getTimelineCues=function(){return[]},s.r.resetAbr=function(){},s.r.pj=function(e){var t=this.getSurface().F(),n=this.getPosition(),i="Received Video Element Event: '"+e.type+"' with playhead at: "+n;if(e.type===s.Ld||e.type===s.ld)this.sf.debug(i);else{var r="";switch(e.type){case s.md:r="Rate: "+this.getPlaybackRate();break;case J:r="Duration: "+this.getDuration();break;case"volumechange":r="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case s.hd:case s.id:case"suspend":case s.ae:case se:case s.ud:case s.td:case s.Ld:case s.ld:case L:case j:t=this.getBufferInfo().qa(n),r="State "+this.getSurface().F().readyState+" Buffer: "+t;break;case s.rd:null!=t&&(r="Size: "+t.videoWidth+"x"+t.videoHeight)}r&&(i+=". "+r),this.sf.info(i)}this.trigger(new s.O(e.type,{detail:e}))},s.r.Hf=function(){},s.Gj.prototype.getTextDisplayer=s.Gj.prototype.getTextDisplayer,s.Gj.prototype.setNetworkEngine=s.Gj.prototype.setNetworkEngine,s.Gj.prototype.getNetworkEngine=s.Gj.prototype.getNetworkEngine,Vn.prototype.release=function(){this.a=this.b=null},s.B("clpp.utils.url.queryString",Gn);var so=new s.H("clpp.utils.FairplayUtils");s.Xj.prototype.f=function(e){if(1<e.version)s.G("Unrecognized PSSH version found!");else{var t=s.Qj(s.eh(e.u,16)),n=[];if(0<e.version)for(var i=s.bh(e.u),r=0;r<i;++r){var a=s.Qj(s.eh(e.u,16));n.push(a)}i=s.bh(e.u),e.u.skip(i),this.c.push.apply(this.c,n),this.b.push(t),this.a.push({start:e.start,end:e.start+e.size-1}),e.u.getPosition()!=e.u.ha()&&s.G("Mismatch between box size and data size!")}},s.r=s.bk.prototype,s.r.destroy=function(){var e=this;return s.A((function(t){return 1==t.a?e.g?s.x(t,e.ua,0):(e.g=!0,s.x(t,Xn(e),4)):(e.ua.resolve(),t.A(0))}))},s.r.keySystem=function(){return this.a?this.a.keySystem:""},s.r.getDrmInfo=function(){return this.a},s.r.Gf=function(e){this.w&&this.J===co||(!this.f.delayLicenseRequestUntilPlayed||this.i&&!this.i.paused||this.Pa?ni(this,e):this.K.push(e))},s.r.Af=function(e){var t=this;e=e.target,this.b.debug("Key status changed for session",e.sessionId);var n=this.c.get(e),i=!1;e.keyStatuses.forEach((function(e,r){if(a(r)==s.Dd){var o=r;r=e,e=o}if(!(t.a.keySystem!=s.jc||16!=r.byteLength||s.xh()||s.wh("VITIS")||s.wh("Web0S")||s.wh("TiVo"))){var u=void 0===u?1/0:u;o=s.bf(r,u,DataView),u=o.getUint32(0,!0);var c=o.getUint16(4,!0),l=o.getUint16(6,!0);o.setUint32(0,u,!1),o.setUint16(4,c,!1),o.setUint16(6,l,!1)}t.a.keySystem==s.jc&&e==s.Cd&&(e=s.Pd),e!=s.Cd&&(n.loaded=!0),"expired"==e&&(i=!0),o=s.Qj(s.cf(r)),t.b.debug("Key status for",o,e),t.Qa.set(o,e)}));var r=e.expiration-Date.now();(0>r||i&&1e3>r)&&n&&!n.Na&&(this.b.debug("Session has expired",e.sessionId),this.c["delete"](e),e.close()["catch"]((function(){}))),si(this)&&(this.s.resolve(),1!==this.c.size||i?this.U.P(.5):ai(this))};var uo,co=0,lo=3;s.Tk={VIDEO:s.Vd,AUDIO:s.Lb,TEXT:s.k,Gj:s.Bb,Lj:"image"},s.to=1/15,s.Mk.prototype.getStats=function(){return{width:this.c,height:this.b,streamBandwidth:this.l,decodedFrames:this.f,droppedFrames:this.g,corruptedFrames:this.m,estimatedBandwidth:this.h,loadLatency:this.i,playTime:hi(this.a,s.dn),pauseTime:hi(this.a,s.Cn),bufferingTime:hi(this.a,s.un),stateHistory:pi(this.a),switchHistory:mi(this.j)}},s.w(vi,s.Gj),s.r=vi.prototype,s.r.init=function(e,t){s.Gj.prototype.init.call(this,e,t),this.f=new Cr(this),Rr(this.f,s.qn)},s.r.namespace=function(){return U},s.r.unload=function(){var e=this;return this.j?new Promise((function(t){e.log.debug(s.Ma,e.j);var n=e.getTrackManager();n&&n.release(),e.i&&e.i.release(),e.g&&e.g.release(),e.h&&(e.h.destroy(),e.h=null),e.b.off(e,s.Bd),e.c&&(e.c=new s.Mk),e.j=null,e.o=!1,e.a&&(e.a.removeAttribute("src"),e.a.load()),yi(e).then(t)})):new Promise((function(e){e()}))},s.r.release=function(){var e=this;return s.Gj.prototype.release.call(this).then((function(){return e.unload()})).then((function(){e.f&&Rr(e.f,s.qn)}))},s.r.destroy=function(){var e=this;return this.m?(this.log.warn("Player is already destroyed!"),Promise.resolve()):(this.m=!0,s.Gj.prototype.destroy.call(this).then((function(){return e.release()})).then((function(){e.log.debug(h);var t=e.getTrackManager();t&&t.destroy(),e.i&&(e.i.destroy()["catch"]((function(t){e.log.warn("Error while disposing cue handler",t)})),e.i=null),e.g&&(e.g.destroy()["catch"]((function(t){e.log.warn("Error while disposing metadata handler",t)})),e.g=null),e.f&&(e.f.destroy(),e.f=null),e.c=null})))},s.r.getDrmInfo=function(){return this.h?this.h.getDrmInfo():null},s.r.load=function(e){var t,n,i,r,a,o=this;return s.A((function(u){switch(u.a){case 1:return o.m?u["return"](ki()):o.getSurface()&&o.getSurface().F(!0)?(t=s.C,n=o.l.F(),o.s=Date.now()/1e3,o.c=new s.Mk,o.b.on(o,s.Bd,(function(){o.c&&s.Hk(o.c.a,o.getState())})),Rr(o.f,s.Bn),o.j=s.ql(e),s.Fj(e)&&(o.configuration=s.Ej(o.Oc,e)),o.log.debug(s.xa,o.configuration),o.log.debug(s.Ha,o.j),i=s.Pf(o.configuration,["html",s.Wc]),o.J=i.create(o),o.J.setTextVisibility(!0),!0!==o.configuration.enableEnhancedSubtitleManager||Pt()||(o.i?o.i.release():o.i=new hn(o),o.i.start(n)),o.g?o.g.release():o.g=new zt(o),Yt(o.g,n),r=o.getTrackManager(),r.load(),n.loop=!!o.configuration.loop,t.H(o.configuration.volume)||o.setVolume(o.configuration.volume),t.H(o.configuration.muted)||o.setMuted(o.configuration.muted),o.b.one(n,L,(function(){o.trigger(new s.O(s.ko))})),s.Ae(u,2),s.x(u,bi(o,n),4)):u["return"](Promise.reject("No surface or no media element in surface"));case 4:return s.x(u,wi(o),5);case 5:return s.x(u,Ei(o).promise,6);case 6:s.Be(u,0);break;case 2:a=s.Ce(u),o.o=!1,o.onError(a),s.y(u)}}))},s.r.onError=function(e){this.o||(e.a===s.K&&null!==this.f&&Rr(this.f,s.Wk),this.trigger(new s.O(s.yc,{detail:e})))},s.r.Ve=function(){return new en},s.r.getState=function(){return null!==this.f?this.f.getState().currentState:s.rn},s.r.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var e=this.a.getStartDate();return isNaN(e.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):e.getTime()/1e3}return 0},s.r.getSeekRange=function(){var e=this.getSurface().F(!1);return e&&e.src&&(e=e.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:this.getDuration()}},s.r.isLive=function(){return!(!this.a||!this.a.src)&&1/0===this.a.duration},s.r.getStats=function(){if(!this.c||!this.a)return s.Nk();this.c&&s.Hk(this.c.a,this.getState());var e=this.a,t=this.c,n=e.videoHeight;return t.c=e.videoWidth,t.b=n,e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),t=this.c,n=Number(e.totalVideoFrames),t.g=Number(e.droppedVideoFrames),t.f=n,this.c.m=Number(e.corruptedVideoFrames)),this.c.getStats()},s.r.getTimelineCues=function(){return this.g?this.g.getTimelineCues():[]},Ai.prototype.canPlay=function(e){e=e.type||"";var t=e===s.nl;return!(e===s.ll||t||e===s.ml&&!s.yh())&&(!s.xh()&&!s.wh("CrKey")&&Mt(e))},Ai.prototype.create=function(){return new vi},Ai.prototype.create=Ai.prototype.create,Ai.prototype.canPlay=Ai.prototype.canPlay,s.ai(new Ai),uo=new s.H("clpp.Components"),s.al=new Map,s.fl.prototype.vc=function(){},s.fl.prototype.release=function(){},Ii.prototype.F=function(e){return this.b||!e||this.h||(this.g.info("Creating new media element upon request"),e=document.createElement(this.a.mediaTag),s.vf(e,this.a.css.fill),e.controls=this.a.controls,e.setAttribute(V,this.a.crossorigin),this.b=e,this.c.appendChild(this.b)),this.b},Ii.prototype.getMedia=Ii.prototype.F,Ii.prototype.Yh=function(){return this.c},Ii.prototype.getContainer=Ii.prototype.Yh,Ii.prototype.Xh=function(){return this.h},Ii.prototype.getCastElement=Ii.prototype.Xh,Ii.prototype.tc=function(e,t,n){var i=this.c;if(!i)throw Error("No container is available. Unable to add element");var r=this.a.css;t&&s.vf(e,r.fill),n?i.insertBefore(e,i.firstElementChild):i.appendChild(e)},Ii.prototype.addContainerElement=Ii.prototype.tc,Ii.prototype.me=function(e){var t=this.c;if(!t)throw Error("No container is available. Unable to remove element");t.removeChild(e)},Ii.prototype.removeContainerElement=Ii.prototype.me,Ii.prototype.release=function(){var e=document.querySelector(r);e&&e.parentElement.removeChild(e)};var fo,ho,po={disableContainer:!1,moveCssToContainer:!0,containerTag:s.oc,mediaTag:s.Vd,crossorigin:"anonymous",controls:!1,css:{container:"clpp-container",fill:"clpp-fill",hidden:"clpp-hidden"},containerEl:null};s.B("clpp.version",s.da),s.B("clpp.name",s.ka),s.ll=P,s.ml=N,s.nl=R,s.B("clpp.Type",{DASH:s.ll,HLS:s.ml,SMOOTH_STREAMING:s.nl,MP4:s.Xd}),fo="scte35",ho=de,s.uo={SCTE35:fo,UNKNOWN:ho},s.B("clpp.TimelineCueType",s.uo),s.B("clpp.utils.media.detectType",Mi);var go=new s.H("clpp.sources");s.vo={tb:{},Rb:{},od:function(e,t){s.vo.Rb[e]=t}},s.B("clpp.ManifestParser.registerParserByExtension",s.vo.od),s.vo.Gc=function(e,t){s.vo.tb[e]=t},s.B("clpp.ManifestParser.registerParserByMime",s.vo.Gc),s.vo.ne=function(e){s.vo.Rb[e]&&delete s.vo.Rb[e]},s.vo.pd=function(e){s.vo.tb[e]&&delete s.vo.tb[e]},s.vo.ck=function(){var e={};if(s.th()){for(var t in s.vo.tb)e[t]=!0;for(var n in s.vo.Rb)e[n]=!0}t={mpd:P,m3u8:N,ism:R},n=s.u([P,N,s.Gb,R]);for(var i=n.next();!i.done;i=n.next())i=i.value,e[i]=s.th()?!!s.vo.tb[i]:Mt(i);for(var r in t)e[r]=s.th()?!!s.vo.Rb[r]:Mt(t[r]);return e},s.vo.create=function(e,t,n,i){var r,a;return s.A((function(o){if(1==o.a)return s.Ae(o,2),s.x(o,s.vo.ai(e,t,n,i),4);if(2!=o.a)return r=o.b,o["return"](new r);throw a=s.Ce(o),a.ib(s.K),a}))},s.vo.ai=function(e,t,n,i){var r,a,o,u,c;return s.A((function(l){if(1==l.a){if(r=s.vo,i){if(a=r.tb[i.toLowerCase()])return l["return"](a);s.G("Could not determine manifest type using MIME type ",i)}if(o=r.getExtension(e)){if(u=r.Rb[o])return l["return"](u);s.G("Could not determine manifest type for extension ",o)}else s.G("Could not find extension for ",e);return i?l.A(2):s.x(l,r.ci(e,t,n),3)}if(2!=l.a&&(i=l.b)){if(c=s.vo.tb[i])return l["return"](c);s.G("Could not determine manifest type using MIME type",i)}throw new s.J(s.K,4,4e3,{url:e})}))},s.vo.ci=function(e,t,n){var i,r,a;return s.A((function(o){return 1==o.a?(i=s.Ci(e),_n(i,n),i.type=1,i.method="HEAD",s.x(o,t.fetch(i).promise,2)):(r=o.b,a=r.headers["content-type"],o["return"](a?a.toLowerCase():""))}))},s.vo.getExtension=function(e){return e=new s.kj(e).fa.split("/").pop().split("."),1==e.length?"":e.pop().toLowerCase()},s.vo.N=function(e,t){return!!s.th()&&(t in s.vo.tb||s.vo.getExtension(e)in s.vo.Rb)},s.B("clpp.polyfill.installAll",Ri);var mo,vo,bo,yo,wo=[];s.B("clpp.polyfill.register",s.ul),s.ul((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,z in document||(Object.defineProperty(document,z,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ni),document.addEventListener("webkitfullscreenerror",Ni),document.addEventListener("mozfullscreenchange",Ni),document.addEventListener("mozfullscreenerror",Ni),document.addEventListener("MSFullscreenChange",Ni),document.addEventListener("MSFullscreenError",Ni)}})),s.ul((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Di)}})),ji.prototype.createSession=function(){},ji.prototype.setServerCertificate=function(){},_i.prototype.getConfiguration=function(){},_i.prototype.createMediaKeys=function(){},s.ul((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.$e("EME not available."),navigator.requestMediaKeySystemAccess=Oi,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Li,e.MediaKeys=ji,e.MediaKeySystemAccess=_i)}),-10),s.ul((function(){if(s.I("VideoPlayPromise.install"),e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e["catch"]((function(){})),e}}})),s.ul((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),s.ul((function(){if(e.VTTCue)s.$e("Using native VTTCue.");else if(e.TextTrackCue){var t=TextTrackCue.length;if(3===t)s.$e(I),e.VTTCue=Ui;else if(6===t)s.$e("Using VTTCue polyfill from 6 argument TextTrackCue."),e.VTTCue=Bi;else{try{var n=!!Ui(1,2,"")}catch(i){n=!1}n&&(s.$e(I),e.VTTCue=Ui)}}else s.af("VTTCue not available.")})),s.ul((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(s.I("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Fi,document.exitPictureInPicture=Hi,document.addEventListener("webkitpresentationmodechanged",Ki,!0))}})),qi.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new Gi(this.keySystem);return Promise.resolve(e)},qi.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.a},Gi.prototype.createSession=function(e){if(s.I("PatchedMediaKeysApple.MediaKeys.createSession"),e=e||s.Hd,e!=s.Hd)throw new TypeError(s.Qa+e+s.ba);return new zi(this.b,e)},Gi.prototype.setServerCertificate=function(e){return s.I("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),e&&s.cf(e),Promise.resolve(!0)},s.Le(zi,s.Si),s.r=zi.prototype,s.r.generateRequest=function(e,t){s.I("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.a=new s.gj;try{this.c=this.g.createSession(s.Xd,s.cf(t)),this.f.on(this.c,pe,this.lh.bind(this)),this.f.on(this.c,fe,this.jh.bind(this)),this.f.on(this.c,he,this.kh.bind(this)),Xi(this,s.Cd)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.I("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error(s.Ba))},s.r.update=function(e){s.I("PatchedMediaKeysApple.MediaKeySession.update"),this.b=new s.gj;try{this.c.update(s.cf(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.I("PatchedMediaKeysApple.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.hi(this.f)}catch(Uo){this.closed.reject(Uo)}return this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error(s.Ca))},s.r.lh=function(e){s.I("PatchedMediaKeysApple.onWebkitKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new s.O(s.Rc,{messageType:void 0==this.keyStatuses.a?s.Jc:s.Ic,message:e.message.buffer}))},s.r.jh=function(e){s.I("PatchedMediaKeysApple.onWebkitKeyAdded_",e),this.b&&(Xi(this,s.Pd),this.b.resolve(),this.b=null)},s.r.kh=function(e){if(s.I("PatchedMediaKeysApple.onWebkitKeyError_",e),e=Error("EME PatchedMediaKeysApple key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Xi(this,s.bd);break;default:Xi(this,s.Gc)}},s.r=$i.prototype,s.r.forEach=function(e){this.a&&e(this.a,mo)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=mo;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(s.$e("Using Apple-prefixed EME"),mo=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wi,e.MediaKeys=Gi,e.MediaKeySystemAccess=qi,navigator.requestMediaKeySystemAccess=Vi)})),s.ul((function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){if(t=void 0!==t?t:this.byteLength,e=Math.floor(e),t=Math.floor(t),0>e&&(e+=this.byteLength),0>t&&(t+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),t=Math.min(Math.max(0,t),this.byteLength),0>=t-e)return new ArrayBuffer(0);var n=new ArrayBuffer(t-e),i=s.cf(n),r=new Uint8Array(this,e,t-e);return i.set(r),n})})),s.ul((function(){s.I("mathRound.install")})),s.ul((function(){s.I("InputEvent.install"),s.wh("Trident/")&&HTMLInputElement.prototype.addEventListener!==Qi&&(s.$e("Patching input event support on IE."),vo=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Qi)})),s.Yk.prototype.abort=function(){return this.a=!0,this.j()},s.Yk.prototype.Tc=function(e,t){function n(){return r.reject(new s.J(s.K,7,7001)),i.abort()}var i=this,r=new s.gj;return this.promise.then((function(t){i.a?r.reject(new s.J(s.K,7,7001)):e?n=er(e,t,r):r.resolve(t)}),(function(e){t?n=er(t,e,r):r.reject(e)})),new s.Yk(r,(function(){return n()}))},s.Yk.aborted=function(){var e=Promise.reject(new s.J(s.K,7,7001));return e["catch"]((function(){})),new s.Yk(e,(function(){return Promise.resolve()}))},s.Yk.prototype.chain=s.Yk.prototype.Tc,s.w(tr,s.Yk),tr.prototype.then=function(e,t){return this.promise=this.promise.then(e,t),this},tr.prototype["catch"]=function(e){return this.promise=this.promise["catch"](e),this},tr.prototype.abort=function(){var e=this;return this.a?Promise.resolve():(this.a=!0,this.c.then((function(t){return e.h&&clearTimeout(e.h),e.g&&e.g(),t.abort()}))["catch"]((function(){})))},s.Xl.prototype.Ub=function(e,t){this.a[e]=t},s.B("clpp.drm.DrmEnvironment",s.Xl),s.Xl.prototype.setDrmSystem=s.Xl.prototype.Ub,s.B("clpp.drm.RobustnessLevel",{SW_SECURE_CRYPTO:S,SW_SECURE_DECODE:k,HW_SECURE_CRYPTO:p,HW_SECURE_DECODE:g,HW_SECURE_ALL:"HW_SECURE_ALL"}),s.Yl=s.kc,s.wk=s.jc,s.Zl="com.apple.fps.1_0",s.B("clpp.drm.KeySystem",{WIDEVINE:s.Yl,PLAYREADY:s.wk,FAIRPLAY:s.Zl}),s.am={},s.B("clpp.drm.registerDrmEnvironment",s.bm),s.km=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149],bo=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],yo=[112,115,115,104,0,0,0,0],s.w(or,ar),s.w(s.im,ar);var To={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,244]},So=new s.H("clpp.drm.DrmToday"),ko="PRODUCTION",Eo="STAGING",Ao="TEST",xo={PRODUCTION:ko,STAGING:Eo,TEST:Ao};s.B("clpp.drm.DrmToday.Environment",xo);var Io="/license-proxy-widevine/cenc/",Co="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Mo="/license-server-fairplay/";(function(){var e=s.wm();Object.keys(xo).forEach((function(t){var n=d;t!==ko&&(n+="_"+t),n=new s.Xl(n),n.Ub(s.Yl,{licenseUrl:ur(s.Yl,t),videoRobustness:e.video,audioRobustness:e.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:cr(t),modifiers:{licenseRequest:s.zm,licenseResponse:s.Dm}}),n.Ub(s.Zl,{licenseUrl:ur(s.Zl,t),certificateUrl:sr(t)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:s.Am,licenseResponse:s.Bm,extractContentId:s.ym,certificateRequest:s.Cm}}),n.Ub(s.wk,{licenseUrl:ur(s.wk,t),modifiers:{licenseRequest:s.zm}}),s.bm(n)}))})(),dr.prototype.verify=function(t,n){var i={kty:"RSA",n:t.n,e:t.e},r=this.c+"."+this.b,a=this.f;return new Promise((function(t,o){try{var u=e&&e.crypto&&e.crypto.subtle}catch(l){}if(u){var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};u.importKey("jwk",i,c,!1,["verify"]).then((function(e){var t=s.nf(r),n=Be(a);return u.verify(c,e,n.buffer,t.buffer)})).then((function(e){e?t():o(E)}))["catch"](o)}else n?o("Web Crypto API is not supported"):t()}))};var Po={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"};fr.prototype.verify=function(){var t=this;return new Promise((function(e,n){try{var i=hr(t);e(i)}catch(r){n()}})).then((function(e){return e.verify(Po)}))["catch"]((function(t){if(t&&t!==E){var n=e.location.href,i=new s.kj(n);if(n=i.Ba||i.wa?i:new s.kj("//"+n),/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(n.wa))return Promise.resolve()}throw t}))};var Ro="vod",No="live";s.Um.prototype.start=function(){this.a=new s.Ef(this.i.bind(this)).Ea(.25)},s.Um.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},s.Um.prototype.i=function(){var e=parseInt(getComputedStyle(this.f).height,10),t=parseInt(getComputedStyle(this.f).width,10);this.b===e&&this.c===t||(this.b=e,this.c=t,this.h(this.c,this.b,!!document.fullscreenElement))},s.xj.prototype.destroy=function(){var e=[];return this.a.forEach((function(t){t.promise["catch"]((function(){})),e.push(t.abort())})),this.a=[],Promise.all(e)};var Do=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],[s.oc,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);s.$m.prototype.canPlay=function(e){function t(e){r.stop(),i.resolve(e)}var n=document.createElement(s.Vd);n.setAttribute("playsinline","playsinline"),e&&(n.muted=!0,n.setAttribute("muted","muted")),n.src=URL.createObjectURL(this.a);var i=new s.gj;e=n.play();var r=new s.Ef((function(){t(!1)})).P(.25);return void 0!==e?e.then((function(){return t(!0)}))["catch"]((function(){return t(!1)})):t(!0),i};var Oo=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);s.w(kr,s.Si),s.r=kr.prototype,s.r.init=function(){},s.r.onError=function(e){null!==this.a?this.a.onError(e):this.trigger(new s.O(s.yc,{detail:e}))},s.r.Hb=function(e){return e=this.v[e],void 0===e&&(e=null),e},s.r.getSurface=function(){return this.f},s.r.getConfiguration=function(){return s.C.lb(this.b)},s.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null},s.r.unload=function(){return this.a?this.a.unload():Promise.resolve()},s.r.release=function(){var e=this;if(this.m)return this.c.debug("The player is already released. No-op"),new Promise((function(e){return e()}));if(this.off(s.Bd,this.w),this.trigger(new s.O(s.od)),this.f&&this.f.release(),this.g&&(this.g.dispose(),this.g=null),xi((function(e){e.release()})),this.a){var t=null,n=this.a.on(s.Bd,(function(e){t=e}));return this.Fc("onPlayerWillRelease").then((function(){return e.a.removeDelegate(e),Promise.all([e.a.release(),e.l.release()])})).then((function(){e.c.debug("Releasing player completed"),t&&(e.c.debug("Re-post state change event after release"),e.trigger(t))}))["finally"]((function(){e.a.off(s.Bd,n),e.trigger(new s.O(re))}))}return this.trigger(new s.O(re)),new Promise((function(e){return e()}))},s.r.destroy=function(){var e=this;return this.j?(this.c.debug("The player is already destroyed. No-op"),new Promise((function(e){return e()}))):(this.j=!0,this.release().then((function(){return e.c.debug(h),e.trigger(new s.O("destroying")),e.Fc("onPlayerWillDestroy")})).then((function(){if(e.a&&e.a.removeDelegate(e),e.xc.clear(),e.a)return e.a.destroy()})).then((function(){xi((function(e){e.hb()})),s.al.clear(),e.a=null,e.trigger(new s.O("destroyed"))})))},s.r.load=function(e){var t=this;return s.A((function(n){return 1==n.a?s.x(n,s.mn(t,e),2):3!=n.a?s.x(n,s.nn(t),3):s.x(n,s.on(t),0)}))},s.r.Fc=function(e,t){for(var n=[],i=1;i<arguments.length;++i)n[i-1]=arguments[i];var r=this;return i=this.s.map((function(t){var i=t[e];return i.call.apply(i,[t,r].concat(s.ne(n)))})).filter((function(e){return e instanceof Promise})),Promise.all(i)},s.r.use=function(e){e=new e,e.rb(this),s.dl(e)},s.r.remove=function(e){if(this.getState()<=s.qn||this.m){var t="";if(xi((function(n){n instanceof e&&(t=n.id(),n.hb())})),t)return s.al["delete"](t),this.o=!0}return!1},s.r.play=function(){return this.a?this.g&&this.a.namespace()!==s.bc?this.g.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")},s.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")},s.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()},s.r.getBufferInfo=function(e){return this.a?this.a.getBufferInfo(e):new s.Ri},s.r.getState=function(){return this.a?this.a.getState():s.qn},s.r.getThumbnailStreams=function(){return this.a?this.a.getThumbnailStreams():[]},s.r.isEnded=function(){return this.a&&this.a.isEnded()||!1},s.r.isPaused=function(){return this.a&&this.a.isPaused()||!1},s.r.getPosition=function(){return this.a?this.a.getPosition():0},s.r.seek=function(e){return this.getState()===s.Wk?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(e):Promise.reject("delegate does not exist")},s.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0},s.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}},s.r.getVolume=function(){return this.a?this.a.getVolume():null},s.r.setVolume=function(e){this.a&&this.a.setVolume(e)},s.r.getDuration=function(){return this.a?this.a.getDuration():-1},s.r.getAdsManager=function(){return this.g},s.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"},s.r.canPlay=function(e){return!!this.a&&this.a.canPlay(e)},s.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1},s.r.setPlaybackRate=function(e){this.a&&this.a.setPlaybackRate(e)},s.r.isMuted=function(){return this.a&&this.a.isMuted()||!1},s.r.setMuted=function(e){this.a&&this.a.setMuted(e)},s.r.getNetworkEngine=function(){return this.l},s.r.setNetworkEngine=function(e){this.l=e},s.r.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()},s.r.isLive=function(){return!!this.a&&this.a.isLive()},s.r.getStats=function(){return this.a?this.a.getStats():null},s.r.dd=function(){return Object.freeze(this.h)},s.r.setSourceIndex=function(e){this.a&&this.a.setSourceIndex(e)},s.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():0},s.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()},s.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]},s.r.resetAbr=function(){this.a&&this.a.resetAbr()},s.B("clpp.Player",kr),kr.prototype.resetAbr=kr.prototype.resetAbr,kr.prototype.getTimelineCues=kr.prototype.getTimelineCues,kr.prototype.getLoadedSource=kr.prototype.getLoadedSource,kr.prototype.getSources=kr.prototype.dd,kr.prototype.getStats=kr.prototype.getStats,kr.prototype.isLive=kr.prototype.isLive,kr.prototype.getTextDisplayer=kr.prototype.getTextDisplayer,kr.prototype.setNetworkEngine=kr.prototype.setNetworkEngine,kr.prototype.getNetworkEngine=kr.prototype.getNetworkEngine,kr.prototype.setMuted=kr.prototype.setMuted,kr.prototype.isMuted=kr.prototype.isMuted,kr.prototype.setPlaybackRate=kr.prototype.setPlaybackRate,kr.prototype.getPlaybackRate=kr.prototype.getPlaybackRate,kr.prototype.namespace=kr.prototype.namespace,kr.prototype.getAdsManager=kr.prototype.getAdsManager,kr.prototype.getDuration=kr.prototype.getDuration,kr.prototype.setVolume=kr.prototype.setVolume,kr.prototype.getVolume=kr.prototype.getVolume,kr.prototype.getSeekRange=kr.prototype.getSeekRange,kr.prototype.getPresentationStartTime=kr.prototype.getPresentationStartTime,kr.prototype.seek=kr.prototype.seek,kr.prototype.getPosition=kr.prototype.getPosition,kr.prototype.isPaused=kr.prototype.isPaused,kr.prototype.isEnded=kr.prototype.isEnded,kr.prototype.getState=kr.prototype.getState,kr.prototype.getBufferInfo=kr.prototype.getBufferInfo,kr.prototype.getTrackManager=kr.prototype.getTrackManager,kr.prototype.pause=kr.prototype.pause,kr.prototype.play=kr.prototype.play,kr.prototype.remove=kr.prototype.remove,kr.prototype.use=kr.prototype.use,kr.prototype.load=kr.prototype.load,kr.prototype.destroy=kr.prototype.destroy,kr.prototype.release=kr.prototype.release,kr.prototype.getDrmInfo=kr.prototype.getDrmInfo,kr.prototype.getConfiguration=kr.prototype.getConfiguration,kr.prototype.getSurface=kr.prototype.getSurface,kr.prototype.getPlugin=kr.prototype.Hb,s.qn=0,s.Bn=1,s.un=2,s.dn=3,s.Cn=4,s.wn=5,s.Wk=6,s.rn=7,s.yn={IDLE:s.qn,PREPARING:s.Bn,BUFFERING:s.un,PLAYING:s.dn,PAUSED:s.Cn,ENDED:s.wn,ERROR:s.Wk,UNSET:s.rn},kr.State=s.yn;var Lo=[];kr.registerPlugin=s.pn,s.r=Cr.prototype,s.r.Jc=function(e,t){this.a&&this.a.trigger(new s.O(e,{detail:t}))},s.r.getState=function(){return Pr(this,"")},s.r.zf=function(){this.h=!1,Rr(this,s.wn)},s.r.Ee=function(){Dr(this,L)},s.r.wf=function(){this.o=!0,Dr(this,j)},s.r.Ge=function(){this.h=this.s=!1,Dr(this,s.ed)},s.r.He=function(){this.s=!0,this.h=!1,Dr(this,s.id)},s.r.Bf=function(){Dr(this,s.Oc)},s.r.Ie=function(){Nr(this)&&Dr(this,s.ld)},s.r.Je=function(){Dr(this,s.md)},s.r.Vc=function(e){this.h=this.l=!1,Dr(this,e.type)},s.r.Wc=function(e){this.l=!0,Dr(this,e.type)},s.r.Ke=function(){Dr(this,se)},s.r.If=function(){this.h=!0,Dr(this,s.ae)},s.r.Fe=function(e){(e=e&&e.detail)&&e.a&&e.a===s.K&&Rr(this,s.Wk)},s.r.destroy=function(){this.c.debug("Stop watching for video events for "+this.a.namespace()),this.a.off(s.xc,this.zf),this.a.off(L,this.Ee),this.a.off(s.id,this.He),this.a.off(s.ed,this.Ge),this.a.off(s.ld,this.Ie),this.a.off(s.md,this.Je),this.a.off(s.td,this.Vc),this.a.off(s.ud,this.Wc),this.a.off(se,this.Ke),this.a.off(s.ae,this.If),this.a.off(s.yc,this.Fe),this.a.off(s.Oc,this.Bf),this.a.off(j,this.wf),this.a.off(s.Rd,this.Wc),this.a.off(s.Qd,this.Vc)},s.En.prototype.a=function(){return this.keyInfo},s.Fn.prototype.getPosition=function(){return this.position},s.Fn.prototype.a=function(){return this.keyInfo},s.r=s.Gn.prototype,s.r.getDuration=function(){return this.f},s.r.Ab=function(e){this.f=e},s.r.getPresentationStartTime=function(){return this.h},s.r.Nb=function(){return this.m},s.r.offset=function(e){null!=this.g&&(this.g+=e),null!=this.c&&(this.c+=e)},s.r.isLive=function(){return 1/0==this.f&&!this.b},s.r=s.Mn.prototype,s.r.destroy=function(){return this.a=null,Promise.resolve()},s.r.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},s.r.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},s.r.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},s.r.ac=function(e,t){var n=e-this.a[0].position;if(0<=n&&n<this.a.length)for(this.a[n].endTime+=t,n+=1;n<this.a.length;++n)this.a[n].startTime+=t,this.a[n].endTime+=t},s.Mn.prototype.adjust=s.Mn.prototype.ac,s.Mn.prototype.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime},s.Mn.prototype.getDuration=s.Mn.prototype.getDuration,s.Mn.prototype.cb=function(e){for(var t=[],n=[],i=0,r=0;i<this.a.length&&r<e.length;){var a=this.a[i],o=e[r];a.startTime<o.startTime?(t.push(a),i++):(a.startTime>o.startTime?0===i?n.push(o):s.G("Refusing to rewrite original references on update!"):(.1<Math.abs(a.endTime-o.endTime)?t.push(new s.Fn(a.position,o.startTime,o.endTime,o.za,o.ta,o.ga,o.keyInfo,o.ec,o.timescale)):t.push(a),i++),r++)}for(;i<this.a.length;)t.push(this.a[i++]);if(t.length)for(i=t[t.length-1].position+1;r<e.length;)a=e[r++],a=new s.Fn(i++,a.startTime,a.endTime,a.za,a.ta,a.ga,a.keyInfo,a.ec,a.timescale),t.push(a);else t=e;var u=t;if(n.length&&t.length){u=[];var c=t[0].position,l=n.length;n.forEach((function(e){u.push(new s.Fn(c-l--,e.startTime,e.endTime,e.za,e.ta,e.ga,e.keyInfo,e.ec))})),t.forEach((function(e){u.push(e)}))}this.a=u},s.Mn.prototype.replace=function(e){this.a=e},s.r=Or.prototype,s.r.load=function(){return Promise.resolve()},s.r.start=function(e){return e.play()},s.r.resume=function(){},s.r.pause=function(){},s.r.skip=function(){},s.r.getVolume=function(){return 1},s.r.setVolume=function(){},s.r.getPosition=function(){return-1},s.r.dispose=function(){},Or.prototype.dispose=Or.prototype.dispose,Or.prototype.getPosition=Or.prototype.getPosition,Or.prototype.setVolume=Or.prototype.setVolume,Or.prototype.getVolume=Or.prototype.getVolume,Or.prototype.skip=Or.prototype.skip,Or.prototype.pause=Or.prototype.pause,Or.prototype.resume=Or.prototype.resume,Or.prototype.start=Or.prototype.start,Or.prototype.load=Or.prototype.load,Lr.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"},Lr.prototype.N=function(){return!0},Lr.prototype.create=function(){return new Or},Lr.prototype.create=Lr.prototype.create,Lr.prototype.isSupported=Lr.prototype.N,Lr.prototype.name=Lr.prototype.name,s.B("clpp.ads.IAdsManagerFactory",jr),jr.prototype.name=function(){},jr.prototype.name=jr.prototype.name,jr.prototype.N=function(){},jr.prototype.isSupported=jr.prototype.N,jr.prototype.create=function(){},jr.prototype.create=jr.prototype.create,s.B("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2}),s.B("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1}),s.B("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var jo=new s.H("clpp.ads"),_o=[];s.B("clpp.ads.IAdsManager",Ur),Ur.prototype.load=function(){},Ur.prototype.start=function(){},Ur.prototype.resume=function(){},Ur.prototype.resume=Ur.prototype.resume,Ur.prototype.pause=function(){},Ur.prototype.pause=Ur.prototype.pause,Ur.prototype.skip=function(){},Ur.prototype.skip=Ur.prototype.skip,Ur.prototype.getVolume=function(){},Ur.prototype.getVolume=Ur.prototype.getVolume,Ur.prototype.setVolume=function(){},Ur.prototype.setVolume=Ur.prototype.setVolume,Ur.prototype.getPosition=function(){},Ur.prototype.getPosition=Ur.prototype.getPosition,Ur.prototype.dispose=function(){},s.B("clpp.ads.IAd",Br),Br.prototype.Sa=function(){},Br.prototype.getAdManagerName=Br.prototype.Sa,Br.prototype.Ta=function(){},Br.prototype.getAdManagerVersion=Br.prototype.Ta,Br.prototype.Za=function(){},Br.prototype.getTechnology=Br.prototype.Za,Br.prototype.Ua=function(){},Br.prototype.getId=Br.prototype.Ua,Br.prototype.getCreativeId=function(){},Br.prototype.getCreativeId=Br.prototype.getCreativeId,Br.prototype.getApiFramework=function(){},Br.prototype.getApiFramework=Br.prototype.getApiFramework,Br.prototype.getAdSystem=function(){},Br.prototype.getAdSystem=Br.prototype.getAdSystem,Br.prototype.getAdvertiserName=function(){},Br.prototype.getAdvertiserName=Br.prototype.getAdvertiserName,Br.prototype.getTitle=function(){},Br.prototype.getTitle=Br.prototype.getTitle,Br.prototype.getDuration=function(){},Br.prototype.getDuration=Br.prototype.getDuration,Br.prototype.getSkipTimeOffset=function(){},Br.prototype.getSkipTimeOffset=Br.prototype.getSkipTimeOffset,Br.prototype.Lb=function(){},Br.prototype.isBumper=Br.prototype.Lb,Br.prototype.nb=function(){},Br.prototype.getClickThroughUrl=Br.prototype.nb,Br.prototype.getMediaUrl=function(){},Br.prototype.getMediaUrl=Br.prototype.getMediaUrl,Br.prototype.Wa=function(){},Br.prototype.getMediaWidth=Br.prototype.Wa,Br.prototype.Va=function(){},Br.prototype.getMediaHeight=Br.prototype.Va,Br.prototype.Ia=function(){},Br.prototype.getMediaBitrate=Br.prototype.Ia,Br.prototype.ya=function(){},Br.prototype.getPodType=Br.prototype.ya,Br.prototype.getPodIndex=function(){},Br.prototype.getPodIndex=Br.prototype.getPodIndex,Br.prototype.ob=function(){},Br.prototype.getPodTimeOffset=Br.prototype.ob,Br.prototype.pb=function(){},Br.prototype.getPositionInSequence=Br.prototype.pb,Br.prototype.Ya=function(){},Br.prototype.getSequenceLength=Br.prototype.Ya,Br.prototype.getWrapperAdIds=function(){},Br.prototype.getWrapperAdIds=Br.prototype.getWrapperAdIds,Br.prototype.getWrapperAdSystems=function(){},Br.prototype.getWrapperAdSystems=Br.prototype.getWrapperAdSystems,Br.prototype.getWrapperCreativeIds=function(){},Br.prototype.getWrapperCreativeIds=Br.prototype.getWrapperCreativeIds,s.B("clpp.ads.IAdsTimeline",Kr),Kr.prototype.getCuePoints=function(){},Kr.prototype.getCuePoints=Kr.prototype.getCuePoints,Kr.prototype.qb=function(){},Kr.prototype.hasPreroll=Kr.prototype.qb,Kr.prototype.$a=function(){},Kr.prototype.hasPostroll=Kr.prototype.$a,s.Xn.prototype.onContentWillLoad=function(){return Promise.resolve()},s.Xn.prototype.onContentLoaded=function(e,t){for(var n=1;n<arguments.length;++n);return Promise.resolve()},s.Xn.prototype.onPlayerWillDestroy=function(){},s.Xn.prototype.onPlayerWillRelease=function(){}}).call(o,this),o.clpp._=s,e.exports?e.exports=o.clpp:(r=function(){return o.clpp}.call(t,n,t,e),void 0===r||(e.exports=r))})()}).call(this,n("c8ba"))},"3fcc":function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").map,a=n("4840"),o=i.aTypedArray,s=i.aTypedArrayConstructor,u=i.exportTypedArrayMethod;u("map",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},"408a":function(e,t,n){var i=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,n){"use strict";var i=n("23e7"),r=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"44e7":function(e,t,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},"45fc":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").some,a=n("a640"),o=n("ae40"),s=a("some"),u=o("some");i({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),u=n("14c3");i("match",1,(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var o=r(e),c=String(this);if(!o.global)return u(o,c);var l=o.unicode;o.lastIndex=0;var d,f=[],h=0;while(null!==(d=u(o,c))){var p=String(d[0]);f[h]=p,""===p&&(o.lastIndex=s(c,a(o.lastIndex),l)),h++}return 0===h?null:f}]}))},"4d60":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"assets"}},[n("section",{staticClass:"section"},[n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Purchased Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMoviePurchases,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Rented Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getMovieRentals,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[t.images?n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}}):e._e()])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - Movies")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.movies,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("h1",{staticClass:"is-size-4 has-text-left"},[e._v("Wishlist - TV Shows")]),n("div",{staticClass:"horizontal-scroll-wrapper has-text-left"},e._l(e.getWishList.series,(function(t){return n("router-link",{key:t.id,attrs:{to:"/assets/"+t.id}},[n("img",{attrs:{src:e.filterImage(t.images)[0].url+"?im=Resize,height=200"}})])})),1),n("router-view")],1)])},r=[],a=(n("4de4"),n("5530")),o=n("2f62"),s={name:"Assets",data:function(){return{wishlist:{},librarylist:{},movieRentals:[]}},computed:Object(o["c"])(["getWishList","getMovieRentals","getMoviePurchases"]),created:function(){var e=JSON.parse(localStorage.getItem("authData"));this.fetchWishList({authData:e}),this.fetchMovieRentals({authData:e})},$route:{immediate:!0,handler:function(e){this.showModal=e.meta&&e.meta.showModal}},methods:Object(a["a"])({filterImage:function(e){var t=e.filter((function(e){return"SLICK"===e.type}));return t}},Object(o["b"])(["fetchWishList","fetchMovieRentals"]))},u=s,c=(n("6993"),n("2877")),l=Object(c["a"])(u,i,r,!1,null,"31248d33",null);t["default"]=l.exports},"4df4":function(e,t,n){"use strict";var i=n("0366"),r=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),u=n("8418"),c=n("35a1");e.exports=function(e){var t,n,l,d,f,h,p=r(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=c(p),w=0;if(b&&(v=i(v,m>2?arguments[2]:void 0,2)),void 0==y||g==Array&&o(y))for(t=s(p.length),n=new g(t);t>w;w++)h=b?v(p[w],w):p[w],u(n,w,h);else for(d=y.call(p),f=d.next,n=new g;!(l=f.call(d)).done;w++)h=b?a(d,v,[l.value,w],!0):l.value,u(n,w,h);return n.length=w,n}},"4eb8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"watch"},[n("div",{staticClass:"poster",style:"background-image: url("+e.posterImg+");"}),n("div",{staticClass:"overlay"},[n("div",{staticClass:"backbutton"},[n("arrow-left-icon",{staticClass:"icons",attrs:{size:"2x"},on:{click:function(t){return e.$router.push({path:"/assets"})}}})],1),n("div",{staticClass:"is-size-4 has-text-left title"},[e._v(" "+e._s(e.title)+" ")]),n("div",{staticClass:"is-size-6 has-text-left error has-text-danger"},[e._v(" "+e._s(e.errorTitle)+" ")])]),n("video",{staticClass:"video",attrs:{id:"player",crossOrigin:"anonymous",poster:e.posterImg,controls:""}})])},r=[],a=(n("99af"),n("4de4"),n("caad"),n("d3b7"),n("2532"),n("5530")),o=(n("96cf"),n("1da1")),s=n("3f2b"),u=n.n(s),c=n("4fb8"),l=n.n(c);n("5719"),n("d570"),n("78fe"),n("c1c5"),n("4fc2");function d(e){this.message=e}d.prototype=new Error,d.prototype.name="InvalidCharacterError";var f="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,a=0,o="";i=t.charAt(a++);~i&&(n=r%4?64*n+i:i,r++%4)?o+=String.fromCharCode(255&n>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};function h(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(f(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return f(t)}}function p(e){this.message=e}function g(e,t){if("string"!=typeof e)throw new p("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(h(e.split(".")[n]))}catch(e){throw new p("Invalid token specified: "+e.message)}}p.prototype=new Error,p.prototype.name="InvalidTokenError";var m=g,v=n("92fa"),b=n.n(v),y={name:"ArrowLeftIcon",props:{size:{type:String,default:"24",validator:function(e){return!isNaN(e)||e.length>=2&&!isNaN(e.slice(0,e.length-1))&&"x"===e.slice(-1)}}},functional:!0,render:function(e,t){var n="x"===t.props.size.slice(-1)?t.props.size.slice(0,t.props.size.length-1)+"em":parseInt(t.props.size)+"px",i=t.data.attrs||{};return i.width=i.width||n,i.height=i.height||n,t.data.attrs=i,e("svg",b()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-arrow-left"},t.data]),[e("line",{attrs:{x1:"19",y1:"12",x2:"5",y2:"12"}}),e("polyline",{attrs:{points:"12 19 5 12 12 5"}})])}},w={components:{ArrowLeftIcon:y},props:["embedCode","posterImg"],data:function(){return{drmHeaders:null,currentTime:null,lastPing:-1,title:"",errorTitle:"",platform:"",pingInterval:300,eventNumber:1,duration:0,firstPlay:!0,player:null,profileRank:{uhd:1,fhd:2,hd:3,sd:4},envConfig:{prod:{playerInit:"ttvbo.play.cf.ap-southeast-2-prod.vmnd.tv",playService:"ttvbo.mediaservices.com.au",drmPlatform:"DRMtoday"},preprod:{playerInit:"ttvbo.play.cf.ap-southeast-2-preprod.vmnd.tv",playService:"ttvbo.testmediaservices.com.au",drmPlatform:"DRMtoday_STAGING"}},drmType:"drmtoday.widevine",contentType:"DASH-H264"}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.onkeydown=function(t){"i"===t.key&&(t.ctrlKey||t.metaKey)&&(e.initiateRoku(),t.preventDefault())},e.platform=localStorage.getItem("platform")||"preprod",e.authData=JSON.parse(localStorage.getItem("authData")),n=void 0!==window.safari,n&&(e.drmType="drmtoday.fairplay",e.contentType="HLS"),i=e.$parent.clPlayerLicense,r=document.getElementById("player"),new l.a(r),e.player=new u.a.Player("player",{license:i}),e.player.use(u.a.dash.DashComponent),e.player.use(u.a.hls.HlsComponent),e.player.use(u.a.crypto.CryptoComponent),console.log("watch initiated"),t.prev=13,t.next=16,e.initatePlayer();case 16:o=t.sent,s=e.getPlayerOptions(o),console.log(s),e.player.load(Object(a["a"])(Object(a["a"])({},s),{},{autoplay:!0})),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](13),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[13,22]])})))()},beforeDestroy:function(){},methods:{initiateRoku:function(){var e=this.source.src,t=this.source.type,n=!1,i=t.includes("dash")?"DASH":"HLS",r=!0,a=this.drmHeaders["x-dt-auth-token"],o=JSON.parse(m(a).optData),s=null;s="drmtoday.playready"==this.drmType?{encodingType:"PlayReadyLicenseAcquisitionUrl",encodingKey:"",licenseServerURL:"https://lic.staging.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx?assetId=ttvbo-".concat(this.assetId),serializationUrl:"",appData:""}:{name:"Widevine",licenseServerURL:"https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/?specConform=true&assetId=ttvbo-".concat(this.assetId),serializationUrl:"",licenseRenewUrl:"",appData:""};var u={"x-dt-auth-token":a,"dt-custom-data":btoa(JSON.stringify({userId:this.userId,sessionId:o.sessionId,merchant:o.merchant}))};console.log("http://{ip}:8060/launch/63218?live=".concat(n,"&autoCookie=false&debugVideoHud=").concat(r,"&url=").concat(encodeURIComponent(e),"&fmt=").concat(i,"&drmParams=").concat(encodeURIComponent(JSON.stringify(s)),"&headers=").concat(encodeURIComponent(JSON.stringify(u)),"&metadata=%7B%22isFullHD%22%3Afalse%7D&cookies=%5B%5D"))},getPlayerOptions:function(e){var t,n,i,r=this;if(e.data[0].isDrmProtected){var a=e.data[0].alternativeStreams.filter((function(e){return e.drmProxyType===r.drmType}))[0];t=a.manifest.uri,n=a.mimeType,this.source={src:t,type:n},this.drmHeaders=a.drm.headers;var o=this.drmHeaders["x-dt-auth-token"];e.data[0].playerEventRequest.body.client.viewingSession=this.authData.uuid;var s=JSON.parse(m(o).optData);i={source:{url:t,type:n},drm:{env:this.envConfig[this.platform].drmPlatform,customData:{userId:s.userId,sessionId:s.sessionId,merchant:s.merchant,authToken:o,assetId:"ttvbo-".concat(e.data[0].assetId)}},vimond:{authToken:e.token,playerEventRequest:e.data[0].playerEventRequest}}}else t=e.data[0].alternativeStreams[0].manifest.uri,n=e.data[0].alternativeStreams[0].mimeType,i={source:{url:t,type:n}};return i},initatePlayer:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,r,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getOoyalaToken({embedCode:e.$route.params.embedCode});case 3:return n=t.sent,i=n.embedToken,t.next=7,e.getJWT({OoyalaToken:i,embedCode:e.$route.params.embedCode,deviceType:"TTV",deviceModel:"Model",osVersion:"OS Version",security:{playready:{level:"default"}}});case 7:return r=t.sent,a=r.token,o=r.assetId,t.next=12,e.getPlayUrl({token:a,assetId:o});case 12:return s=t.sent,e.title=s["data"][0].assetTitle,s.token=a,s["data"][0].alternativeStreams.push(s["data"][0].recommendedStream),s["data"][0].alternativeStreams.sort(e.compareProfileRank),t.abrupt("return",s);case 20:t.prev=20,t.t0=t["catch"](0),e.errorTitle="ASSET NOT FOUND";case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},getPlayUrl:function(e){var t=this,n=e.assetId,i=e.token;return new Promise((function(e,r){var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer ".concat(i));var o=JSON.stringify({device:{label:"SANDPIT",udid:t.authData.uuid}}),s={method:"POST",headers:a,body:o,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playerInit,"/api/v2/asset/").concat(n,"/play?extraFields=alternativeStreams&contentType=").concat(t.contentType),s).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return r(e)}))}))},getJWT:function(e){var t=this;return new Promise((function(n,i){var r=new Headers;r.append("Content-Type","application/json");var a=JSON.stringify(e),o={method:"POST",headers:r,body:a,redirect:"follow"};fetch("https://".concat(t.envConfig[t.platform].playService,"/users/").concat(t.authData.uuid,"/playbackInit"),o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return i(e)}))}))},compareProfileRank:function(e,t){return this.profileRank[e.urlProfile]-this.profileRank[t.urlProfile]},getOoyalaToken:function(e){var t=this,n=e.embedCode;return new Promise((function(e,i){var r=new Headers;r.append("ovs-token","".concat(t.authData.access_token)),r.append("Content-Type","application/json"),r.append("ovs-uuid","".concat(t.authData.uuid)),r.append("bpm-environment","bpm");var a={method:"GET",headers:r,redirect:"follow"};fetch("https://telstramedia-prod.apigee.net/v2/bpm/ovs/users/".concat(t.authData.uuid,"/ooyalaToken?deviceType=ios&embedCode=").concat(n),a).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){return i(e)}))}))}}},T=w,S=(n("1b05"),n("2877")),k=Object(S["a"])(T,i,r,!1,null,null,null);t["default"]=k.exports},"4ec9":function(e,t,n){"use strict";var i=n("6d61"),r=n("6566");e.exports=i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"4fb8":function(e,t,n){(function(t){"object"==typeof navigator&&function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={addCSS:!0,thumbWidth:15,watch:!0};function v(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var b=function(e){return null!=e?e.constructor:null},y=function(e,t){return!!(e&&t&&e instanceof t)},w=function(e){return null==e},T=function(e){return b(e)===Object},S=function(e){return b(e)===String},k=function(e){return Array.isArray(e)},E=function(e){return y(e,NodeList)},A=S,x=k,I=E,C=function(e){return y(e,Element)},M=function(e){return y(e,Event)},P=function(e){return w(e)||(S(e)||k(e)||E(e))&&!e.length||T(e)&&!Object.keys(e).length};function R(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var N,D,O,L=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),C(t)?this.element=t:A(t)&&(this.element=document.querySelector(t)),C(this.element)&&P(this.element.rangeTouch)&&(this.config=g({},m,{},n),this.init())}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!M(t))return null;var n,i=t.target,r=t.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,o=parseFloat(i.getAttribute("max"))||100,s=parseFloat(i.getAttribute("step"))||1,u=i.getBoundingClientRect(),c=100/u.width*(this.config.thumbWidth/2)/100;return 0>(n=100/u.width*(r.clientX-u.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),a+R(n/100*(o-a),s)}},{key:"set",value:function(t){e.enabled&&M(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(P(t)||A(t)?i=Array.from(document.querySelectorAll(A(t)?t:'input[type="range"]')):C(t)?i=[t]:I(t)?i=Array.from(t):x(t)&&(i=t.filter(C)),P(i))return null;var r=g({},m,{},n);if(A(t)&&r.watch){var a=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){C(n)&&v(n,t)&&new e(n,r)}))}))}));a.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),j=function(e){return null!=e?e.constructor:null},_=function(e,t){return Boolean(e&&t&&e instanceof t)},U=function(e){return null==e},B=function(e){return j(e)===Object},K=function(e){return j(e)===String},F=function(e){return j(e)===Function},H=function(e){return Array.isArray(e)},V=function(e){return _(e,NodeList)},q=function(e){return U(e)||(K(e)||H(e)||V(e))&&!e.length||B(e)&&!Object.keys(e).length},W=U,G=B,J=function(e){return j(e)===Number&&!Number.isNaN(e)},z=K,Y=function(e){return j(e)===Boolean},X=F,$=H,Q=V,Z=function(e){return _(e,Element)},ee=function(e){return _(e,Event)},te=function(e){return _(e,KeyboardEvent)},ne=function(e){return _(e,TextTrack)||!U(e)&&K(e.kind)},ie=function(e){return _(e,Promise)&&F(e.then)},re=function(e){if(_(e,window.URL))return!0;if(!K(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!q(new URL(t).hostname)}catch(e){return!1}},ae=q,oe=(N=document.createElement("span"),D={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},O=Object.keys(D).find((function(e){return void 0!==N.style[e]})),!!z(O)&&D[O]);function se(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var ue={isIE:
/* @cc_on!@ */
!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function ce(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function le(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var a=n.shift();return G(a)?(Object.keys(a).forEach((function(t){G(a[t])?(Object.keys(e).includes(t)||Object.assign(e,r({},t,{})),le(e[t],a[t])):Object.assign(e,r({},t,a[t]))})),le.apply(void 0,[e].concat(n))):e}function de(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var i=n>0?t.cloneNode(!0):t,r=e.parentNode,a=e.nextSibling;i.appendChild(e),a?r.insertBefore(i,a):r.appendChild(i)}))}function fe(e,t){Z(e)&&!ae(t)&&Object.entries(t).filter((function(e){var t=u(e,2)[1];return!W(t)})).forEach((function(t){var n=u(t,2),i=n[0],r=n[1];return e.setAttribute(i,r)}))}function he(e,t,n){var i=document.createElement(e);return G(t)&&fe(i,t),z(n)&&(i.innerText=n),i}function pe(e,t,n,i){Z(t)&&t.appendChild(he(e,n,i))}function ge(e){Q(e)||$(e)?Array.from(e).forEach(ge):Z(e)&&Z(e.parentNode)&&e.parentNode.removeChild(e)}function me(e){if(Z(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function ve(e,t){return Z(t)&&Z(t.parentNode)&&Z(e)?(t.parentNode.replaceChild(e,t),e):null}function be(e,t){if(!z(e)||ae(e))return{};var n={},i=le({},t);return e.split(",").forEach((function(e){var t=e.trim(),r=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),o=u(a,1)[0],s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":z(i.class)?n.class="".concat(i.class," ").concat(r):n.class=r;break;case"#":n.id=t.replace("#","");break;case"[":n[o]=s}})),le(i,n)}function ye(e,t){if(Z(e)){var n=t;Y(n)||(n=!e.hidden),e.hidden=n}}function we(e,t,n){if(Q(e))return Array.from(e).map((function(e){return we(e,t,n)}));if(Z(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function Te(e,t){return Z(e)&&e.classList.contains(t)}function Se(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function ke(e){return this.elements.container.querySelectorAll(e)}function Ee(e){return this.elements.container.querySelector(e)}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Z(e)&&(e.focus({preventScroll:!0}),t&&we(e,this.config.classNames.tabFocus))}var xe,Ie={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Ce={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=ue.isIPhone&&n&&Ce.playsinline,r=Ce[e]||"html5"!==t;return{api:r,ui:r&&Ce.rangeInput&&("video"!==e||!ue.isIPhone||i)}},pip:!(ue.isIPhone||!X(he("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||he("video").disablePictureInPicture)),airplay:X(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(ae(e))return!1;var t=u(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Ie).includes(n)&&(n+='; codecs="'.concat(Ie[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(xe=document.createElement("input"),xe.type="range","range"===xe.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==oe,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Me=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Pe(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!ae(t)&&X(n)){var s=t.split(" "),u=o;Me&&(u={passive:a,capture:o}),s.forEach((function(t){i&&i.eventListeners&&r&&i.eventListeners.push({element:e,type:t,callback:n,options:u}),e[r?"addEventListener":"removeEventListener"](t,n,u)}))}}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pe.call(this,e,t,n,!0,i,r)}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pe.call(this,e,t,n,!1,i,r)}function De(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function o(){Ne(e,n,o,r,a);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];i.apply(t,u)};Pe.call(this,e,n,o,!0,r,a)}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Z(e)&&!ae(t)){var r=new CustomEvent(t,{bubbles:n,detail:o(o({},i),{},{plyr:this})});e.dispatchEvent(r)}}function Le(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,i=e.callback,r=e.options;t.removeEventListener(n,i,r)})),this.eventListeners=[])}function je(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):Re.call(e,e.elements.container,"ready",t)})).then((function(){}))}function _e(e){ie(e)&&e.then(null,(function(){}))}function Ue(e){return!!($(e)||z(e)&&e.includes(":"))&&($(e)?e:e.split(":")).map(Number).every(J)}function Be(e){if(!$(e)||!e.every(J))return null;var t=u(e,2),n=t[0],i=t[1],r=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/r,i/r]}function Ke(e){var t=function(e){return Ue(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!ae(this.embed)&&$(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Be([i.videoWidth,i.videoHeight])}return n}function Fe(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=Ke.call(this,e),i=u($(n)?n:[0,0],2),r=100/i[0]*i[1];if(t.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),o=(a-r)/(a/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(o,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:r,ratio:n}}var He={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!ae(n)||Ce.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:He.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,ae(this.config.ratio)||Fe.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=He.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&X(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=He.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var i=e.media,r=i.currentTime,a=i.paused,o=i.preload,s=i.readyState,u=i.playbackRate;e.media.src=n.getAttribute("src"),("none"!==o||s)&&(e.once("loadedmetadata",(function(){e.speed=u,e.currentTime=r,a||_e(e.play())})),e.media.load())}Oe.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(ge(He.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ve(e){return $(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ae(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return t=We(t,"-"," "),t=We(t,"_"," "),t=Ge(t),We(t," ","")}function ze(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Ye={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ae(e)||ae(t))return"";var n=ce(t.i18n,e);if(ae(n))return Object.keys(Ye).includes(e)?Ye[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((function(e){var t=u(e,2),i=t[0],r=t[1];n=We(n,i,r)})),n},$e=function(){function t(n){e(this,t),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return i(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(ae(n))return null;var i=JSON.parse(n);return z(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(t.supported&&this.enabled&&G(e)){var n=this.get();ae(n)&&(n={}),le(n,e),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),t}();function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(r.responseText))}catch(e){n(r.responseText)}else n(r.response)})),r.addEventListener("error",(function(){throw new Error(r.status)})),r.open("GET",e,!0),r.responseType=t,r.send()}catch(e){i(e)}}))}function Ze(e,t){if(z(e)){var n="cache",i=z(t),r=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,i&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!r()){var o=$e.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),i&&s.setAttribute("id",t),o){var u=window.localStorage.getItem("".concat(n,"-").concat(t));if(null!==u){var c=JSON.parse(u);a(s,c.content)}}Qe(e).then((function(e){ae(e)||(o&&window.localStorage.setItem("".concat(n,"-").concat(t),JSON.stringify({content:e})),a(s,e))})).catch((function(){}))}}}var et=function(e){return Math.trunc(e/60/60%60,10)},tt=function(e){return Math.trunc(e/60%60,10)},nt=function(e){return Math.trunc(e%60,10)};function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!J(e))return it(void 0,t,n);var i=function(e){return"0".concat(e).slice(-2)},r=et(e),a=tt(e),o=nt(e);return r=t||r>0?"".concat(r,":"):"","".concat(n&&e>0?"-":"").concat(r).concat(i(a),":").concat(i(o))}var rt={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||ue.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=Ee.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ke.call(this,this.config.selectors.buttons.play),pause:Ee.call(this,this.config.selectors.buttons.pause),restart:Ee.call(this,this.config.selectors.buttons.restart),rewind:Ee.call(this,this.config.selectors.buttons.rewind),fastForward:Ee.call(this,this.config.selectors.buttons.fastForward),mute:Ee.call(this,this.config.selectors.buttons.mute),pip:Ee.call(this,this.config.selectors.buttons.pip),airplay:Ee.call(this,this.config.selectors.buttons.airplay),settings:Ee.call(this,this.config.selectors.buttons.settings),captions:Ee.call(this,this.config.selectors.buttons.captions),fullscreen:Ee.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Ee.call(this,this.config.selectors.progress),this.elements.inputs={seek:Ee.call(this,this.config.selectors.inputs.seek),volume:Ee.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Ee.call(this,this.config.selectors.display.buffer),currentTime:Ee.call(this,this.config.selectors.display.currentTime),duration:Ee.call(this,this.config.selectors.display.duration)},Z(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",i=rt.getIconUrl.call(this),r="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),a=document.createElementNS(n,"svg");fe(a,le(t,{"aria-hidden":"true",focusable:"false"}));var o=document.createElementNS(n,"use"),s="".concat(r,"-").concat(e);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(o),a},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xe(e,this.config),i=o(o({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return he("span",i,n)},createBadge:function(e){if(ae(e))return null;var t=he("span",{class:this.config.classNames.menu.value});return t.appendChild(he("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=le({},t),r=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=Je(e)).charAt(0).toLowerCase()+e.slice(1)}(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(a[e]=i[e],delete i[e])})),"button"!==a.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(e){return e===n.config.classNames.control}))||le(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",a.label="play",a.icon="play";break;default:ae(a.label)&&(a.label=r),ae(a.icon)&&(a.icon=e)}var o=he(a.element);return a.toggle?(o.appendChild(rt.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),o.appendChild(rt.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),o.appendChild(rt.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),o.appendChild(rt.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(o.appendChild(rt.createIcon.call(this,a.icon)),o.appendChild(rt.createLabel.call(this,a.label))),le(i,be(this.config.selectors.buttons[r],i)),fe(o,i),"play"===r?($(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange:function(e,t){var n=he("input",le(be(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Xe(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,rt.updateRangeFill.call(this,n),L.setup(n),n},createProgress:function(e,t){var n=he("progress",le(be(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(he("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],r=i?Xe(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=be(this.config.selectors.display[e],t),i=he("div",le(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Xe(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var n=this;Re.call(this,e,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var r,a=Se(e,'[role="menuitemradio"]');!a&&[32,39].includes(i.which)?rt.showMenuPanel.call(n,t,!0):32!==i.which&&(40===i.which||a&&39===i.which?(r=e.nextElementSibling,Z(r)||(r=e.parentNode.firstElementChild)):(r=e.previousElementSibling,Z(r)||(r=e.parentNode.lastElementChild)),Ae.call(n,r,!0))}}),!1),Re.call(this,e,"keyup",(function(e){13===e.which&&rt.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,i=e.list,r=e.type,a=e.title,o=e.badge,s=void 0===o?null:o,u=e.checked,c=void 0!==u&&u,l=be(this.config.selectors.inputs[r]),d=he("button",le(l,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(l.class?l.class:"").trim(),"aria-checked":c,value:n})),f=he("span");f.innerHTML=a,Z(s)&&f.appendChild(s),d.appendChild(f),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return Se(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!te(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,r){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}rt.showMenuPanel.call(t,"home",te(e))}}),r,!1),rt.bindMenuItemShortcuts.call(this,d,r),i.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!J(e))return e;var n=et(this.duration)>0;return it(e,n,t)},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Z(e)&&J(t)&&(e.innerText=rt.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(Z(this.elements.inputs.volume)&&rt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Z(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Z(e)&&(e.value=t,rt.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&ee(e)){var n,i,r=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,r=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&rt.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(e,n){var i=J(n)?n:0,r=Z(e)?e:t.elements.display.buffer;if(Z(r)){r.value=i;var a=r.getElementsByTagName("span")[0];Z(a)&&(a.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=ee(e)?e.target:e;if(Z(t)&&"range"===t.getAttribute("type")){if(Se(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=rt.formatTime(this.currentTime),i=rt.formatTime(this.duration),r=Xe("seekLabel",this.config);t.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(Se(t,this.config.selectors.inputs.volume)){var a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext","".concat(a.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);ue.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&Z(this.elements.inputs.seek)&&Z(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return we(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var r=0,a=this.elements.progress.getBoundingClientRect();if(ee(e))r=100/a.width*(e.pageX-a.left);else{if(!Te(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:r>100&&(r=100),rt.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),ee(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!Z(this.elements.display.duration)&&this.config.invertTime;rt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||rt.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return ye(this.elements.display.currentTime,!0),void ye(this.elements.progress,!0);Z(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=Z(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&rt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&rt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),rt.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){ye(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],r=null,a=t;if("captions"===e)r=this.currentTrack;else{if(r=ae(n)?this[e]:n,ae(r)&&(r=this.config[e].default),!ae(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}if(Z(a)||(a=i&&i.querySelector('[role="menu"]')),Z(a)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=rt.getLabel.call(this,e,r);var o=a&&a.querySelector('[value="'.concat(r,'"]'));Z(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Xe("normal",this.config):"".concat(t,"&times;");case"quality":if(J(t)){var n=Xe("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return Ge(t);case"captions":return st.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(Z(this.elements.settings.panels.quality)){var n="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');$(e)&&(this.options.quality=Ve(e).filter((function(e){return t.config.quality.options.includes(e)})));var r=!ae(this.options.quality)&&this.options.quality.length>1;if(rt.toggleMenuButton.call(this,n,r),me(i),rt.checkMenu.call(this),r){var a=function(e){var n=Xe("qualityBadge.".concat(e),t.config);return n.length?rt.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var i=t.config.quality.options;return i.indexOf(e)>i.indexOf(n)?1:-1})).forEach((function(e){rt.createMenuItem.call(t,{value:e,list:i,type:n,title:rt.getLabel.call(t,"quality",e),badge:a(e)})})),rt.updateSetting.call(this,n,i)}}},setCaptionsMenu:function(){var e=this;if(Z(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=st.getTracks.call(this),r=Boolean(i.length);if(rt.toggleMenuButton.call(this,t,r),me(n),rt.checkMenu.call(this),r){var a=i.map((function(t,i){return{value:i,checked:e.captions.toggled&&e.currentTrack===i,title:st.getLabel.call(e,t),badge:t.language&&rt.createBadge.call(e,t.language.toUpperCase()),list:n,type:"language"}}));a.unshift({value:-1,checked:!this.captions.toggled,title:Xe("disabled",this.config),list:n,type:"language"}),a.forEach(rt.createMenuItem.bind(this)),rt.updateSetting.call(this,t,n)}}},setSpeedMenu:function(){var e=this;if(Z(this.elements.settings.panels.speed)){var t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var i=!ae(this.options.speed)&&this.options.speed.length>1;rt.toggleMenuButton.call(this,t,i),me(n),rt.checkMenu.call(this),i&&(this.options.speed.forEach((function(i){rt.createMenuItem.call(e,{value:i,list:n,type:t,title:rt.getLabel.call(e,"speed",i)})})),rt.updateSetting.call(this,t,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!ae(e)&&Object.values(e).some((function(e){return!e.hidden}));ye(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;Z(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var i=n.querySelector('[role^="menuitem"]');Ae.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(Z(t)&&Z(n)){var i=t.hidden,r=i;if(Y(e))r=e;else if(te(e)&&27===e.which)r=!1;else if(ee(e)){var a=X(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),ye(t,!r),we(this.elements.container,this.config.classNames.menu.open,r),r&&te(e)?rt.focusFirstMenuItem.call(this,null,!0):r||i||Ae.call(this,n,te(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return ge(t),{width:n,height:i}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(Z(i)){var r=i.parentNode,a=Array.from(r.children).find((function(e){return!e.hidden}));if(Ce.transitions&&!Ce.reducedMotion){r.style.width="".concat(a.scrollWidth,"px"),r.style.height="".concat(a.scrollHeight,"px");var o=rt.getMenuSize.call(this,i),s=function t(n){n.target===r&&["width","height"].includes(n.propertyName)&&(r.style.width="",r.style.height="",Ne.call(e,r,oe,t))};Re.call(this,r,oe,s),r.style.width="".concat(o.width,"px"),r.style.height="".concat(o.height,"px")}ye(a,!0),ye(i,!1),rt.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;Z(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=rt.bindMenuItemShortcuts,i=rt.createButton,r=rt.createProgress,a=rt.createRange,o=rt.createTime,s=rt.setQualityMenu,u=rt.setSpeedMenu,c=rt.showMenuPanel;this.elements.controls=null,$(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var l=he("div",be(this.config.selectors.controls.wrapper));this.elements.controls=l;var d={class:"plyr__controls__item"};return Ve($(this.config.controls)?this.config.controls:[]).forEach((function(s){if("restart"===s&&l.appendChild(i.call(t,"restart",d)),"rewind"===s&&l.appendChild(i.call(t,"rewind",d)),"play"===s&&l.appendChild(i.call(t,"play",d)),"fast-forward"===s&&l.appendChild(i.call(t,"fast-forward",d)),"progress"===s){var u=he("div",{class:"".concat(d.class," plyr__progress__container")}),f=he("div",be(t.config.selectors.progress));if(f.appendChild(a.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),f.appendChild(r.call(t,"buffer")),t.config.tooltips.seek){var h=he("span",{class:t.config.classNames.tooltip},"00:00");f.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=f,u.appendChild(t.elements.progress),l.appendChild(u)}if("current-time"===s&&l.appendChild(o.call(t,"currentTime",d)),"duration"===s&&l.appendChild(o.call(t,"duration",d)),"mute"===s||"volume"===s){var p=t.elements.volume;if(Z(p)&&l.contains(p)||(p=he("div",le({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=p,l.appendChild(p)),"mute"===s&&p.appendChild(i.call(t,"mute")),"volume"===s&&!ue.isIos){var g={max:1,step:.05,value:t.config.volume};p.appendChild(a.call(t,"volume",le(g,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===s&&l.appendChild(i.call(t,"captions",d)),"settings"===s&&!ae(t.config.settings)){var m=he("div",le({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));m.appendChild(i.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=he("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),b=he("div"),y=he("div",{id:"plyr-settings-".concat(e.id,"-home")}),w=he("div",{role:"menu"});y.appendChild(w),b.appendChild(y),t.elements.settings.panels.home=y,t.config.settings.forEach((function(i){var r=he("button",le(be(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,r,i),Re.call(t,r,"click",(function(){c.call(t,i,!1)}));var a=he("span",null,Xe(i,t.config)),o=he("span",{class:t.config.classNames.menu.value});o.innerHTML=e[i],a.appendChild(o),r.appendChild(a),w.appendChild(r);var s=he("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),u=he("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});u.appendChild(he("span",{"aria-hidden":!0},Xe(i,t.config))),u.appendChild(he("span",{class:t.config.classNames.hidden},Xe("menuBack",t.config))),Re.call(t,s,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),c.call(t,"home",!0))}),!1),Re.call(t,u,"click",(function(){c.call(t,"home",!1)})),s.appendChild(u),s.appendChild(he("div",{role:"menu"})),b.appendChild(s),t.elements.settings.buttons[i]=r,t.elements.settings.panels[i]=s})),v.appendChild(b),m.appendChild(v),l.appendChild(m),t.elements.settings.popup=v,t.elements.settings.menu=m}if("pip"===s&&Ce.pip&&l.appendChild(i.call(t,"pip",d)),"airplay"===s&&Ce.airplay&&l.appendChild(i.call(t,"airplay",d)),"download"===s){var T=le({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(T.download="");var S=t.config.urls.download;!re(S)&&t.isEmbed&&le(T,{icon:"logo-".concat(t.provider),label:t.provider}),l.appendChild(i.call(t,"download",T))}"fullscreen"===s&&l.appendChild(i.call(t,"fullscreen",d))})),this.isHTML5&&s.call(this,He.getQualityOptions.call(this)),u.call(this),l},inject:function(){var e=this;if(this.config.loadSprite){var t=rt.getIconUrl.call(this);t.cors&&Ze(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,r,a={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;if(X(this.config.controls)&&(this.config.controls=this.config.controls.call(this,a)),this.config.controls||(this.config.controls=[]),Z(this.config.controls)||z(this.config.controls)?n=this.config.controls:(n=rt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:st.getLabel.call(this)}),o=!1),o&&z(this.config.controls)&&(i=n,Object.entries(a).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];i=We(i,"{".concat(n,"}"),r)})),n=i),z(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),Z(r)||(r=this.elements.container),r[Z(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),Z(this.elements.controls)||rt.findElements.call(this),!ae(this.elements.buttons)){var s=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return Te(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];we(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){$(e)||Q(e)?Array.from(e).filter(Boolean).forEach(s):s(e)}))}if(ue.isEdge&&se(r),this.config.tooltips.controls){var c=this.config,l=c.classNames,d=c.selectors,f="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(l.hidden),h=ke.call(this,f);Array.from(h).forEach((function(t){we(t,e.config.classNames.hidden,!1),we(t,e.config.classNames.tooltip,!0)}))}}};function at(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e;if(t){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch(e){return null}}function ot(e){var t=new URLSearchParams;return G(e)&&Object.entries(e).forEach((function(e){var n=u(e,2),i=n[0],r=n[1];t.set(i,r)})),t}var st={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!Ce.textTracks)$(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this);else{if(Z(this.elements.captions)||(this.elements.captions=he("div",be(this.config.selectors.captions)),function(e,t){Z(e)&&Z(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),ue.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=at(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Qe(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){ge(e)}))}))}var t=Ve((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=u(t,1)[0]);var i=this.storage.get("captions");if(Y(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";Re.call(this,this.media.textTracks,r,st.update.bind(this))}setTimeout(st.update.bind(this),0)}},update:function(){var e=this,t=st.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,a=n.meta,o=n.currentTrackNode,s=Boolean(t.find((function(e){return e.language===r})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!a.get(e)})).forEach((function(t){e.debug.log("Track added",t),a.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),Re.call(e,t,"cuechange",(function(){return st.updateCues.call(e)}))})),(s&&this.language!==r||!t.includes(o))&&(st.setLanguage.call(this,r),st.toggle.call(this,i&&s)),we(this.elements.container,this.config.classNames.captions.enabled,!ae(t)),$(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,a=W(e)?!i:e;if(a!==i){if(n||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!n){var o=st.getTracks.call(this),s=st.findTrack.call(this,[this.captions.language].concat(c(this.captions.languages)),!0);return this.captions.language=s.language,void st.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),we(this.elements.container,r,a),this.captions.toggled=a,rt.updateSetting.call(this,"captions"),Oe.call(this,this.media,a?"captionsenabled":"captionsdisabled")}setTimeout((function(){a&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=st.getTracks.call(this);if(-1!==e)if(J(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var i=n[e],r=i||{},a=r.language;this.captions.currentTrackNode=i,rt.updateSetting.call(this,"captions"),t||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),Oe.call(this,this.media,"languagechange")}st.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&st.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else st.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(z(e)){var n=e.toLowerCase();this.captions.language=n;var i=st.getTracks.call(this),r=st.findTrack.call(this,[n]);st.set.call(this,i.indexOf(r),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Array.from((this.media||{}).textTracks||[]);return n.filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=st.getTracks.call(this),a=function(e){return Number((n.captions.meta.get(e)||{}).default)},o=Array.from(r).sort((function(e,t){return a(t)-a(e)}));return e.every((function(e){return!(t=o.find((function(t){return t.language===e})))})),t||(i?o[0]:void 0)},getCurrentTrack:function(){return st.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!ne(t)&&Ce.textTracks&&this.captions.toggled&&(t=st.getCurrentTrack.call(this)),ne(t)?ae(t.label)?ae(t.language)?Xe("enabled",this.config):e.language.toUpperCase():t.label:Xe("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(Z(this.elements.captions))if(W(e)||Array.isArray(e)){var t=e;if(!t){var n=st.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(ze)}var i=t.map((function(e){return e.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){me(this.elements.captions);var r=he("span",be(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Oe.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ut={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},ct="picture-in-picture",lt="inline",dt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},ft="audio",ht="video",pt=function(){},gt=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return i(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):pt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):pt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):pt}}]),t}(),mt=function(){function t(n){var i=this;e(this,t),this.player=n,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(Se.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,n.config.fullscreen.container),Re.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){i.onChange()})),Re.call(this.player,this.player.elements.container,"dblclick",(function(e){Z(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.player.listeners.proxy(e,i.toggle,"fullscreen")})),Re.call(this,this.player.elements.container,"keydown",(function(e){return i.trapFocus(e)})),this.update()}return i(t,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;Z(e)&&(e.pressed=this.active);var t=this.target===this.player.media?this.target:this.player.elements.container;Oe.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",we(this.target,this.player.config.classNames.fullscreen.fallback,e),ue.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=z(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=",".concat(n))):this.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!ue.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=ke.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=u(n,1)[0],r=n[n.length-1];t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}}},{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),we(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(ue.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?this.toggleFallback(!0):this.prefix?ae(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(ue.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),_e(this.player.play());else if(!t.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ae(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!t.native||this.forceFallback)return Te(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return ue.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(X(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!X(document["".concat(t,"ExitFullscreen")])&&!X(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var r=new Image,a=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=t?n:i)(r)};Object.assign(r,{onload:a,onerror:a,src:e})}))}var bt={addStyleHook:function(){we(this.elements.container,this.config.selectors.container.replace(".",""),!0),we(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void bt.toggleNativeControls.call(this,!0);Z(this.elements.controls)||(rt.inject.call(this),this.listeners.controls()),bt.toggleNativeControls.call(this),this.isHTML5&&st.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,rt.updateVolume.call(this),rt.timeUpdate.call(this),bt.checkPlaying.call(this),we(this.elements.container,this.config.classNames.pip.supported,Ce.pip&&this.isHTML5&&this.isVideo),we(this.elements.container,this.config.classNames.airplay.supported,Ce.airplay&&this.isHTML5),we(this.elements.container,this.config.classNames.isIos,ue.isIos),we(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){Oe.call(e,e.media,"ready")}),0),bt.setTitle.call(this),this.poster&&bt.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&rt.durationUpdate.call(this)},setTitle:function(){var e=Xe("play",this.config);if(z(this.config.title)&&!ae(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=Ee.call(this,"iframe");if(!Z(t))return;var n=ae(this.config.title)?"video":this.config.title,i=Xe("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){we(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),je.call(this).then((function(){return vt(e)})).catch((function(n){throw e===t.poster&&bt.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),bt.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;we(this.elements.container,this.config.classNames.playing,this.playing),we(this.elements.container,this.config.classNames.paused,this.paused),we(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Xe(t.playing?"pause":"play",t.config))})),ee(e)&&"timeupdate"===e.type||bt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){we(t.elements.container,t.config.classNames.loading,t.loading),bt.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(o({},this.media.style)).filter((function(e){return!ae(e)&&z(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),ae(this.media.style)&&this.media.removeAttribute("style")}},yt=function(){function t(n){e(this,t),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return i(t,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,r="keydown"===e.type,a=r&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&J(i))if(r){var o=document.activeElement;if(Z(o)){var s=t.config.selectors.editable;if(o!==n.inputs.seek&&Se(o,s))return;if(32===e.which&&Se(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:a||_e(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:a||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:a||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){rt.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,we(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,n=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var i,r=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||r)&&(i=t.config.classNames.tabFocus,we(ke.call(t,".".concat(i)),i,!1),"focusout"!==e.type&&(this.focusTimer=setTimeout((function(){var e=document.activeElement;n.container.contains(e)&&we(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))}}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&Pe.call(t,window,"keydown keyup",this.handleKey,e,!1),Pe.call(t,document.body,"click",this.toggleMenu,e),De.call(t,document.body,"touchstart",this.firstTouch),Pe.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&Re.call(e,n.container,"keydown keyup",this.handleKey,!1),Re.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var r=n.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(bt.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return bt.toggleControls.call(e,!1)}),a)}));var r=function(t){if(!t)return Fe.call(e);var i=n.container.getBoundingClientRect(),r=i.width,a=i.height;return Fe.call(e,"".concat(r,":").concat(a))},a=function(){clearTimeout(i.resized),i.resized=setTimeout(r,50)};Re.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var i=e.fullscreen,o=i.target,s=i.usingNative;if(o===n.container&&(e.isEmbed||!ae(e.config.ratio))){var c="enterfullscreen"===t.type,l=r(c);l.padding,!function(t,n,i){if(e.isVimeo&&!e.config.vimeo.premium){var r=e.elements.wrapper.firstChild,a=u(t,2)[1],o=u(Ke.call(e),2),s=o[0],c=o[1];r.style.maxWidth=i?"".concat(a/c*s,"px"):null,r.style.margin=i?"0 auto":null}}(l.ratio,0,c),c&&setTimeout((function(){return se(n.container)}),100),s||(c?Re.call(e,window,"resize",a):Ne.call(e,window,"resize",a))}}))}},{key:"media",value:function(){var e=this,t=this.player,n=t.elements;if(Re.call(t,t.media,"timeupdate seeking seeked",(function(e){return rt.timeUpdate.call(t,e)})),Re.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return rt.durationUpdate.call(t,e)})),Re.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())})),Re.call(t,t.media,"progress playing seeking seeked",(function(e){return rt.updateProgress.call(t,e)})),Re.call(t,t.media,"volumechange",(function(e){return rt.updateVolume.call(t,e)})),Re.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return bt.checkPlaying.call(t,e)})),Re.call(t,t.media,"waiting canplay seeked playing",(function(e){return bt.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var i=Ee.call(t,".".concat(t.config.classNames.video));if(!Z(i))return;Re.call(t,n.container,"click",(function(r){([n.container,i].includes(r.target)||i.contains(r.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(r,t.restart,"restart"),e.proxy(r,(function(){_e(t.play())}),"play")):e.proxy(r,(function(){_e(t.togglePlay())}),"play")))}))}t.supported.ui&&t.config.disableContextMenu&&Re.call(t,n.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),Re.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),Re.call(t,t.media,"ratechange",(function(){rt.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),Re.call(t,t.media,"qualitychange",(function(e){rt.updateSetting.call(t,"quality",null,e.detail.quality)})),Re.call(t,t.media,"ready qualitychange",(function(){rt.setDownloadUrl.call(t)}));var r=t.config.events.concat(["keyup","keydown"]).join(" ");Re.call(t,t.media,r,(function(e){var i=e.detail,r=void 0===i?{}:i;"error"===e.type&&(r=t.media.error),Oe.call(t,n.container,e.type,!0,r)}))}},{key:"proxy",value:function(e,t,n){var i=this.player,r=i.config.listeners[n],a=!0;X(r)&&(a=r.call(i,e)),!1!==a&&X(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var r=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.player,s=o.config.listeners[i],u=X(s);Re.call(o,e,t,(function(e){return r.proxy(e,n,i)}),a&&!u)}},{key:"controls",value:function(){var e=this,t=this.player,n=t.elements,i=ue.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach((function(n){e.bind(n,"click",(function(){_e(t.togglePlay())}),"play")})),this.bind(n.buttons.restart,"click",t.restart,"restart"),this.bind(n.buttons.rewind,"click",(function(){t.lastSeekTime=Date.now(),t.rewind()}),"rewind"),this.bind(n.buttons.fastForward,"click",(function(){t.lastSeekTime=Date.now(),t.forward()}),"fastForward"),this.bind(n.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(n.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(n.buttons.download,"click",(function(){Oe.call(t,t.media,"download")}),"download"),this.bind(n.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(n.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(n.buttons.airplay,"click",t.airplay,"airplay"),this.bind(n.buttons.settings,"click",(function(e){e.stopPropagation(),e.preventDefault(),rt.toggleMenu.call(t,e)}),null,!1),this.bind(n.buttons.settings,"keyup",(function(e){var n=e.which;[13,32].includes(n)&&(13!==n?(e.preventDefault(),e.stopPropagation(),rt.toggleMenu.call(t,e)):rt.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(n.settings.menu,"keydown",(function(e){27===e.which&&rt.toggleMenu.call(t,e)})),this.bind(n.inputs.seek,"mousedown mousemove",(function(e){var t=n.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)})),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var n=e.currentTarget,i=e.keyCode?e.keyCode:e.which,r="play-on-seeked";if(!te(e)||39===i||37===i){t.lastSeekTime=Date.now();var a=n.hasAttribute(r),o=["mouseup","touchend","keyup"].includes(e.type);a&&o?(n.removeAttribute(r),_e(t.play())):!o&&t.playing&&(n.setAttribute(r,""),t.pause())}})),ue.isIos){var r=ke.call(t,'input[type="range"]');Array.from(r).forEach((function(t){return e.bind(t,i,(function(e){return se(e.target)}))}))}this.bind(n.inputs.seek,i,(function(e){var n=e.currentTarget,i=n.getAttribute("seek-value");ae(i)&&(i=n.value),n.removeAttribute("seek-value"),t.currentTime=i/n.max*t.duration}),"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",(function(e){return rt.updateSeekTooltip.call(t,e)})),this.bind(n.progress,"mousemove touchmove",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startMove(e)})),this.bind(n.progress,"mouseleave touchend click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),this.bind(n.progress,"mousedown touchstart",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startScrubbing(e)})),this.bind(n.progress,"mouseup touchend",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.endScrubbing(e)})),ue.isWebkit&&Array.from(ke.call(t,'input[type="range"]')).forEach((function(n){e.bind(n,"input",(function(e){return rt.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!Z(n.display.duration)&&this.bind(n.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,rt.timeUpdate.call(t))})),this.bind(n.inputs.volume,i,(function(e){t.volume=e.target.value}),"volume"),this.bind(n.controls,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type})),n.fullscreen&&Array.from(n.fullscreen.children).filter((function(e){return!e.contains(n.container)})).forEach((function(i){e.bind(i,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type}))})),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(n.controls,"focusin",(function(){var i=t.config,r=t.timers;we(n.controls,i.classNames.noTransition,!0),bt.toggleControls.call(t,!0),setTimeout((function(){we(n.controls,i.classNames.noTransition,!1)}),0);var a=e.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout((function(){return bt.toggleControls.call(t,!1)}),a)})),this.bind(n.inputs.volume,"wheel",(function(e){var n=e.webkitDirectionInvertedFromDevice,i=u([e.deltaX,-e.deltaY].map((function(e){return n?-e:e})),2),r=i[0],a=i[1],o=Math.sign(Math.abs(r)>Math.abs(a)?r:a);t.increaseVolume(o/50);var s=t.media.volume;(1===o&&s<1||-1===o&&s>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var wt=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},n={},i={};function r(e,t){e=e.push?e:[e];var r,a,o,s=[],u=e.length,c=u;for(r=function(e,n){n.length&&s.push(e),--c||t(s)};u--;)a=e[u],(o=n[a])?r(a,o):(i[a]=i[a]||[]).push(r)}function a(e,t){if(e){var r=i[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function o(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function s(t,n,i,r){var a,o,u=document,c=i.async,l=(i.numRetries||0)+1,d=i.before||e,f=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(f)?((o=u.createElement("link")).rel="stylesheet",o.href=h,(a="hideFocus"in o)&&o.relList&&(a=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(o=u.createElement("img")).src=h:((o=u.createElement("script")).src=t,o.async=void 0===c||c),o.onload=o.onerror=o.onbeforeload=function(e){var u=e.type[0];if(a)try{o.sheet.cssText.length||(u="e")}catch(e){18!=e.code&&(u="e")}if("e"==u){if((r+=1)<l)return s(t,n,i,r)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";n(t,u,e.defaultPrevented)},!1!==d(t,o)&&u.head.appendChild(o)}function u(e,t,n){var i,r,a=(e=e.push?e:[e]).length,o=a,u=[];for(i=function(e,n,i){if("e"==n&&u.push(e),"b"==n){if(!i)return;u.push(e)}--a||t(u)},r=0;r<o;r++)s(e[r],i,n)}function c(e,n,i){var r,s;if(n&&n.trim&&(r=n),s=(r?i:n)||{},r){if(r in t)throw"LoadJS";t[r]=!0}function c(t,n){u(e,(function(e){o(s,e),t&&o({success:t,error:n},e),a(r,e)}),s)}if(s.returnPromise)return new Promise(c);c()}return c.ready=function(e,t){return r(e,(function(e){o(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},n={},i={}},c.isDefined=function(e){return e in t},c}()}));function Tt(e){return new Promise((function(t,n){wt(e,{success:t,error:n})}))}function St(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Oe.call(this,this.media,e?"play":"pause"))}var kt={setup:function(){var e=this;we(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Fe.call(e),G(window.Vimeo)?kt.ready.call(e):Tt(e.config.urls.vimeo.sdk).then((function(){kt.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=n.premium,r=n.referrerPolicy,a=s(n,["premium","referrerPolicy"]);i&&Object.assign(a,{controls:!1,sidedock:!1});var c=ot(o({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},a)),l=t.media.getAttribute("src");ae(l)&&(l=t.media.getAttribute(t.config.attributes.embed.id));var d,f=ae(d=l)?null:J(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d,h=he("iframe"),p=qe(t.config.urls.vimeo.iframe,f,c);if(h.setAttribute("src",p),h.setAttribute("allowfullscreen",""),h.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),ae(r)||h.setAttribute("referrerPolicy",r),i||!n.customControls)h.setAttribute("data-poster",t.poster),t.media=ve(h,t.media);else{var g=he("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});g.appendChild(h),t.media=ve(g,t.media)}n.customControls||Qe(qe(t.config.urls.vimeo.api,p)).then((function(e){!ae(e)&&e.thumbnail_url&&bt.setPoster.call(t,e.thumbnail_url).catch((function(){}))})),t.embed=new window.Vimeo.Player(h,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return St.call(t,!0),t.embed.play()},t.media.pause=function(){return St.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var m=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return m},set:function(e){var n=t.embed,i=t.media,r=t.paused,a=t.volume,o=r&&!n.hasPlayed;i.seeking=!0,Oe.call(t,i,"seeking"),Promise.resolve(o&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return o&&n.pause()})).then((function(){return o&&n.setVolume(a)})).catch((function(){}))}});var v=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return v},set:function(e){t.embed.setPlaybackRate(e).then((function(){v=e,Oe.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var b=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return b},set:function(e){t.embed.setVolume(e).then((function(){b=e,Oe.call(t,t.media,"volumechange")}))}});var y=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return y},set:function(e){var n=!!Y(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){y=n,Oe.call(t,t.media,"volumechange")}))}});var w,T=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return T},set:function(e){var n=Y(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){T=n}))}}),t.embed.getVideoUrl().then((function(e){w=e,rt.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return w}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var i=u(n,2),r=i[0],a=i[1];t.embed.ratio=[r,a],Fe.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,bt.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){m=e,Oe.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,Oe.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,st.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,i=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));st.updateCues.call(t,i)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){St.call(t,!e),e||Oe.call(t,t.media,"playing")})),Z(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){Oe.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){Oe.call(t,t.media,"playing")})),t.embed.on("play",(function(){St.call(t,!0),Oe.call(t,t.media,"playing")})),t.embed.on("pause",(function(){St.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,m=e.seconds,Oe.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,Oe.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&Oe.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,Oe.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,Oe.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,Oe.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,Oe.call(t,t.media,"error")})),n.customControls&&setTimeout((function(){return bt.build.call(t)}),0)}};function Et(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Oe.call(this,this.media,e?"play":"pause"))}function At(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var xt,It={setup:function(){var e=this;if(we(this.elements.wrapper,this.config.classNames.embed,!0),G(window.YT)&&X(window.YT.Player))It.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){X(t)&&t(),It.ready.call(e)},Tt(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;Qe(qe(this.config.urls.youtube.api,e)).then((function(e){if(G(e)){var n=e.title,i=e.height,r=e.width;t.config.title=n,bt.setTitle.call(t),t.embed.ratio=[r,i]}Fe.call(t)})).catch((function(){Fe.call(t)}))},ready:function(){var e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(ae(n)||!n.startsWith("youtube-")){var i=e.media.getAttribute("src");ae(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));var r,a,o=ae(r=i)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r,s=he("div",{id:(a=e.provider,"".concat(a,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":t.customControls?e.poster:void 0});if(e.media=ve(s,e.media),t.customControls){var u=function(e){return"https://i.ytimg.com/vi/".concat(o,"/").concat(e,"default.jpg")};vt(u("maxres"),121).catch((function(){return vt(u("sd"),121)})).catch((function(){return vt(u("hq"))})).then((function(t){return bt.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}e.embed=new window.YT.Player(e.media,{videoId:o,host:At(t),playerVars:le({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(t){if(!e.media.error){var n=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";e.media.error={code:n,message:i},Oe.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),Oe.call(e,e.media,"ratechange")},onReady:function(n){if(!X(e.media.play)){var i=n.target;It.getTitle.call(e,o),e.media.play=function(){Et.call(e,!0),i.playVideo()},e.media.pause=function(){Et.call(e,!1),i.pauseVideo()},e.media.stop=function(){i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Oe.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var r=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return r},set:function(t){r=t,i.setVolume(100*r),Oe.call(e,e.media,"volumechange")}});var a=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return a},set:function(t){var n=Y(t)?t:a;a=n,i[n?"mute":"unMute"](),i.setVolume(100*r),Oe.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var s=i.getAvailablePlaybackRates();e.options.speed=s.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Oe.call(e,e.media,"timeupdate"),Oe.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Oe.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Oe.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((function(){return bt.build.call(e)}),50)}},onStateChange:function(n){var i=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,Oe.call(e,e.media,"seeked")),n.data){case-1:Oe.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),Oe.call(e,e.media,"progress");break;case 0:Et.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):Oe.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Et.call(e,!0),Oe.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){Oe.call(e,e.media,"timeupdate")}),50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),Oe.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Et.call(e,!1);break;case 3:Oe.call(e,e.media,"waiting")}Oe.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}}},Ct={setup:function(){this.media?(we(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),we(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&we(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=he("div",{class:this.config.classNames.video}),de(this.media,this.elements.wrapper),this.elements.poster=he("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?He.setup.call(this):this.isYouTube?It.setup.call(this):this.isVimeo&&kt.setup.call(this)):this.debug.warn("No media element found!")}},Mt=function(){function t(n){var i=this;e(this,t),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){i.on("loaded",e),i.on("error",t)})),this.load()}return i(t,[{key:"load",value:function(){var e=this;this.enabled&&(G(window.google)&&G(window.google.ima)?this.ready():Tt(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){t.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var e=this;this.elements.container=he("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1),this.requestAds()}},{key:"requestAds",value:function(){var e=this.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");var n=function(){var t=it(Math.max(e.manager.getRemainingTime(),0)),n="".concat(Xe("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",n)};this.countdownTimer=setInterval(n,100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;ae(this.cuePoints)||this.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<e.player.duration){var n=e.player.elements.progress;if(Z(n)){var i=100/e.player.duration*t,r=he("span",{class:e.player.config.classNames.cues});r.style.left="".concat(i.toString(),"%"),n.appendChild(r)}}}))}},{key:"onAdEvent",value:function(e){var t=this,n=this.player.elements.container,i=e.getAd(),r=e.getAdData();switch(function(e){Oe.call(t.player,t.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,n=this.player.elements.container;this.player.on("canplay",(function(){t.addCuePoints()})),this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("timeupdate",(function(){e=t.player.currentTime})),this.player.on("seeked",(function(){var n=t.player.currentTime;ae(t.cuePoints)||t.cuePoints.forEach((function(i,r){e<i&&i<n&&(t.manager.discardAdBreak(),t.cuePoints.splice(r,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,_e(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.initialized=!1,e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=this.events[e];$(a)&&a.forEach((function(e){X(e)&&e.apply(t,i)}))}},{key:"on",value:function(e,t){return $(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){W(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!ae(e.publisherId)||re(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(re(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(ot(t))}}]),t}(),Pt=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},Rt=function(){function t(n){e(this,t),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return i(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)}))}},{key:"getThumbnails",value:function(){var e=this;return new Promise((function(t){var n=e.player.config.previewThumbnails.src;if(ae(n))throw new Error("Missing previewThumbnails.src config attribute");var i=function(){e.thumbnails.sort((function(e,t){return e.height-t.height})),e.player.debug.log("Preview thumbnails",e.thumbnails),t()};if(X(n))n((function(t){e.thumbnails=t,i()}));else{var r=(z(n)?[n]:n).map((function(t){return e.getThumbnail(t)}));Promise.all(r).then(i)}}))}},{key:"getThumbnail",value:function(e){var t=this;return new Promise((function(n){Qe(e).then((function(i){var r,a,o={frames:(r=i,a=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(J(t.startTime)){if(!ae(e.trim())&&ae(t.text)){var n=e.trim().split("#xywh="),i=u(n,1);if(t.text=i[0],n[1]){var r=u(n[1].split(","),4);t.x=r[0],t.y=r[1],t.w=r[2],t.h=r[3]}}}else{var a=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);a&&(t.startTime=60*Number(a[1]||0)*60+60*Number(a[2])+Number(a[3])+Number("0.".concat(a[4])),t.endTime=60*Number(a[6]||0)*60+60*Number(a[7])+Number(a[8])+Number("0.".concat(a[9])))}})),t.text&&a.push(t)})),a),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var s=new Image;s.onload=function(){o.height=s.naturalHeight,o.width=s.naturalWidth,t.thumbnails.push(o),n()},s.src=o.urlPrefix+o.frames[0].text}))}))}},{key:"startMove",value:function(e){if(this.loaded&&ee(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=it(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){(W(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):De.call(this.player,this.player.media,"timeupdate",(function(){e.mouseDown||e.toggleScrubbingContainer(!1)}))}},{key:"listeners",value:function(){var e=this;this.player.on("play",(function(){e.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(function(){e.toggleThumbContainer(!1)})),this.player.on("timeupdate",(function(){e.lastTime=e.player.media.currentTime}))}},{key:"render",value:function(){this.elements.thumb.container=he("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=he("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=he("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=he("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),Z(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=he("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex((function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime})),n=t>=0,i=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach((function(n,r){e.loadedImages.includes(n.frames[t].text)&&(i=r)})),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[t],r=i.urlPrefix,a=i.frames[n],o=i.frames[n].text,s=r+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,a,t,n,o,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var u=new Image;u.src=s,u.dataset.index=n,u.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log("Loading image: ".concat(s)),u.onload=function(){return e.showImage(u,a,t,n,o,!0)},this.loadingImage=u,this.removeOldImages(u)}}},{key:"showImage",value:function(e,t,n,i,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(a)),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,r))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach((function(n){if("img"===n.tagName.toLowerCase()){var i=t.usingSprites?500:1e3;if(n.dataset.index!==e.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;var r=t.currentImageContainer;setTimeout((function(){r.removeChild(n),t.player.debug.log("Removing thumb: ".concat(n.dataset.filename))}),i)}}}))}},{key:"preloadNearby",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(i){setTimeout((function(){var r=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===r){var a;a=n?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse();var o=!1;a.forEach((function(e){var n=e.text;if(n!==r&&!t.loadedImages.includes(n)){o=!0,t.player.debug.log("Preloading thumb filename: ".concat(n));var a=t.thumbnails[0].urlPrefix+n,s=new Image;s.src=a,s.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(n)),t.loadedImages.includes(n)||t.loadedImages.push(n),i()}}})),o||i()}}),300)}))}},{key:"getHigherQuality",value:function(e,t,n,i){var r=this;if(e<this.thumbnails.length-1){var a=t.naturalHeight;this.usingSprites&&(a=n.h),a<this.thumbContainerHeight&&setTimeout((function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))}),300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(n,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,a=this.mousePosX-e.left-n.clientWidth/2;a<i&&(a=i),a>r&&(a=r),n.style.left="".concat(a,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=Pt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.width,n=e.height;this.elements.scrubbing.container.style.width="".concat(t,"px"),this.elements.scrubbing.container.style.height="".concat(n,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var n=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Pt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),Nt={insertElements:function(e,t){var n=this;z(t)?pe(e,this.media,{src:t}):$(t)&&t.forEach((function(t){pe(e,n.media,t)}))},change:function(e){var t=this;ce(e,"sources.length")?(He.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],ge(t.media),t.media=null,Z(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,i=e.type,r=u(n,1)[0],a=r.provider,o=void 0===a?dt.html5:a,s=r.src,c="html5"===o?i:"div",l="html5"===o?{}:{src:s};Object.assign(t,{provider:o,type:i,supported:Ce.check(i,o,t.config.playsinline),media:he(c,l)}),t.elements.container.appendChild(t.media),Y(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),ae(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),bt.addStyleHook.call(t),t.isHTML5&&Nt.insertElements.call(t,"source",n),t.config.title=e.title,Ct.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&Nt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&bt.build.call(t),t.isHTML5&&t.media.load(),ae(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new Rt(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Dt=function(){function t(n,i){var r=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Ce.touch,this.media=n,z(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Q(this.media)||$(this.media))&&(this.media=this.media[0]),this.config=le({},ut,t.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new gt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Ce),!W(this.media)&&Z(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(Ce.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var o=this.media.tagName.toLowerCase(),s=null,u=null;switch(o){case"div":if(s=this.media.querySelector("iframe"),Z(s)){if(u=at(s.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?dt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?dt.vimeo:null}(u.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",u.search.length){var c=["1","true"];c.includes(u.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(u.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(u.searchParams.get("playsinline")),this.config.youtube.hl=u.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ae(this.provider)||!Object.keys(dt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ht;break;case"video":case"audio":this.type=o,this.provider=dt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Ce.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new yt(this),this.storage=new $e(this),this.media.plyr=this,Z(this.elements.container)||(this.elements.container=he("div",{tabindex:0}),de(this.media,this.elements.container)),bt.migrateStyles.call(this),bt.addStyleHook.call(this),Ct.setup.call(this),this.config.debug&&Re.call(this,this.elements.container,this.config.events.join(" "),(function(e){r.debug.log("event: ".concat(e.type))})),this.fullscreen=new mt(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&bt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Mt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return _e(r.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return i(t,[{key:"play",value:function(){var e=this;return X(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return _e(e.media.play())})),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&X(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(Y(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):X(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=J(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=J(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(J(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){st.toggle.call(this,e,!1)}},{key:"airplay",value:function(){Ce.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=Te(this.elements.container,this.config.classNames.hideControls),n=void 0===e?void 0:!e,i=we(this.elements.container,this.config.classNames.hideControls,n);if(i&&$(this.config.controls)&&this.config.controls.includes("settings")&&!ae(this.config.settings)&&rt.toggleMenu.call(this,!1),i!==t){var r=i?"controlshidden":"controlsshown";Oe.call(this,this.media,r)}return!i}return!1}},{key:"on",value:function(e,t){Re.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){De.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){Ne(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(ge(t.elements.buttons.play),ge(t.elements.captions),ge(t.elements.controls),ge(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),X(e)&&e()):(Le.call(t),He.cancelRequests.call(t),ve(t.elements.original,t.elements.container),Oe.call(t,t.elements.original,"destroyed",!0),X(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(bt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&X(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(e){return Ce.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===dt.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===dt.youtube}},{key:"isVimeo",get:function(){return this.provider===dt.vimeo}},{key:"isVideo",get:function(){return this.type===ht}},{key:"isAudio",get:function(){return this.type===ft}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=J(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return J(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=J(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;z(t)&&(t=Number(t)),J(t)||(t=this.storage.get("volume")),J(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!ae(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;Y(t)||(t=this.storage.get("muted")),Y(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;J(e)&&(n=e),J(n)||(n=this.storage.get("speed")),J(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,r=this.maximumSpeed;n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,i,r),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,c(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,c(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var i=[!ae(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(J),r=!0;if(!n.includes(i)){var a=function(e,t){return $(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(a," instead")),i=a,r=!1}t.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=Y(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Nt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return re(e)?e:this.source},set:function(e){re(e)&&(this.config.urls.download=e,rt.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?bt.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Be(Ke.call(this));return $(e)?e.join(":"):e},set:function(e){this.isVideo?z(e)&&Ue(e)?(this.config.ratio=e,Fe.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=Y(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){st.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){st.setLanguage.call(this,e,!1)},get:function(){return(st.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(Ce.pip){var t=Y(e)?e:!this.pip;X(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?ct:lt),X(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return Ce.pip?ae(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ct:null}}],[{key:"supported",value:function(e,t,n){return Ce.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Ze(e,t)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return z(e)?i=Array.from(document.querySelectorAll(e)):Q(e)?i=Array.from(e):$(e)&&(i=e.filter(Z)),ae(i)?null:i.map((function(e){return new t(e,n)}))}}]),t}();return Dt.defaults=(xt=ut,JSON.parse(JSON.stringify(xt))),Dt}))}).call(this,n("c8ba"))},"4fc2":function(e,t,n){var i,r;n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("5319");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t="Registering listeners",n="clpp.vimond.VimondPlugin",i=function(){this.a=!1,this.f=new s.H(n),this.g=this.c=this.b=null},r=function(){},o=function(e,t,n,i,r){this.i=e,this.h=n,this.c=t,this.a=i,this.g=r,this.f=new s.H("clpp.vimond.VimondService"),this.b=0},u=function(e){this.a=e,this.b=new s.ei,this.f=new s.H("clpp.vimond.VimondAdapter"),this.c=this.g=!1,this.a&&this.b&&(this.f.debug(t),this.b.on(this.a,s.od,this.Xi.bind(this)),this.b.on(this.a,s.cb,this.yh.bind(this)),this.b.on(this.a,s.db,this.zh.bind(this)))},c=function(e,t){var n=e.a.getState();if(1===t)return["str-start",s.id];if(e.g)return[s.wc,s.ed];if(n===s.wn)return[s.wc,null];if(n===s.Wk)return[s.yc,s.ed];var i=s.ed;return(n===s.un||n===s.dn||e.c)&&(i=s.id),["period",i]},l=function(e,n,i,r,a){this.v=e,this.w=n,this.B=i,this.b=r,this.s=a,this.c=new s.ei,this.i=!0,this.f=this.h=this.m=!1,this.o=null,this.g=new s.Ef(this.$e.bind(this)),this.a=new s.H("clpp.vimond.VimondDispatcher"),this.j=this.l=0,this.b&&this.c&&(this.a.debug(t),this.c.on(this.b,s.Bd,this.Ch.bind(this)),this.c.on(this.b,s.Ld,this.Dh.bind(this)),this.c.on(this.b,s.cb,this.Ah.bind(this)),this.c.on(this.b,s.db,this.Bh.bind(this)))},d=function(e,t){e.b.trigger(new s.O(s.$d,{detail:t}))},f=function(e,t,n){t&&(e.m=!0,e.g.stop()),e.b.onError(new s.J(t?s.K:1,9,9201,n))};s.w(i,s.Xn),s.r=i.prototype,s.r.onPlayerCreated=function(){},s.r.onContentWillLoad=function(e){var t=e.getConfiguration();if((this.a=!s.C.H(t.vimond)&&a(t.vimond)===s.Yc)?e.namespace()===s.bc&&(this.a=!1,this.f.info("Vimond does not report when casting.")):this.f.warn("Vimond plugin is loaded but not configured. Will do nothing."),this.a){t=e.getConfiguration().vimond;for(var n=s.u(["authToken","playerEventRequest"]),i=n.next();!i.done;i=n.next())if(i=i.value,!t[i])return this.f.warn(i+" key is missing"),void e.onError(new s.J(1,9,9200));this.f.debug("Configuration is valid"),n=t.failIfUnreachable,a(n)!==s.Sb&&(n=!0),i=t.failOnError,a(i)!==s.Sb&&(i=!0),this.b=new u(e),this.c=new o(t.playerEventRequest.uri,t.authToken,t.playerEventRequest.body,this.b,e.getNetworkEngine()),this.g=new l(t.playerEventRequest.eventInterval,n,i,e,this.c)}},s.r.onPlayerWillRelease=function(){this.a&&(this.b&&this.b.dispose(),this.g&&this.g.dispose(),this.g=this.c=this.b=null)},s.r.onPlayerWillDestroy=function(){},s.r.id=function(){return"vimond"},s.r.ue=function(e){this.a&&this.c&&this.c.ue(e)},s.B(n,i),i.prototype.updateAuthToken=i.prototype.ue,i.Id="vimond",r.prototype.create=function(){return new i},s.pn(new r),o.prototype.ue=function(e){this.c=e},s.r=u.prototype,s.r.getPosition=function(){return Math.floor(this.a.getPosition())},s.r.Xi=function(){this.g=!0},s.r.yh=function(){this.c=!0},s.r.zh=function(){this.c=!1},s.r.dispose=function(){this.f.debug(s.Ya),s.hi(this.b)},s.r=l.prototype,s.r.Dh=function(){this.f||(this.f=1<Math.abs(this.l-this.b.getPosition())),this.l=this.b.getPosition()},s.r.Ah=function(){this.a.debug("Ad break started"),this.h=!0},s.r.Bh=function(){this.a.debug("Ad break stopped"),this.h=!1},s.r.Ch=function(e){var t,n,i,r,a,o=this;return s.A((function(u){if(1==u.a)return t=e.detail,n=s.yn,i=t.currentState,r=t.previousState,o.a.debug("State changed, prev: "+r+" curr: "+i),o.m||o.h?u["return"]():i!==o.o||o.f?o.i&&i!==n.PLAYING?u["return"]():o.f&&[n.PAUSED,n.BUFFERING].includes(i)?(o.a.debug("Seeking"),u["return"]()):(o.f&&i===n.PLAYING&&(o.a.debug("Seeked"),o.f=!1),a=[n.PLAYING,n.PAUSED,n.ERROR,n.ENDED],a.includes(i)?(o.o=i,s.x(u,o.$e(),3)):u.A(0)):(o.a.debug("Ignore transition"),u["return"]());i===n.ENDED&&o.g.stop(),s.y(u)}))},s.r.$e=function(){var e,t,n,i,r,o,u=this;return s.A((function(l){if(1==l.a){e=s.fo;var h=Math.floor(Date.now()/1e3);0<u.j&&u.a.debug("Last event was "+(h-u.j)+" seconds ago"),u.j=h,u.g.stop(),u.g.P(u.i?10:u.v),u.i=!1,s.Ae(l,2),h=u.s,h.b++;var p=s.C.cb(h.h);p.client.buildName=s.ka,p.client.buildVersion=s.da;var g=p.client,m=h.a.a.getDrmInfo();if(g.drm=m?m.keySystem:"",p.client.pageUrl=document.location.href,p.client.streamUrl=h.a.a.getLoadedSource().url,p.client.userAgent=navigator.userAgent,p.client.videoFormat=h.a.a.getLoadedSource().type||"",g=p.client,m=h.a.a.getLoadedSource(),m=(new s.Kj(m.url).scheme||"").replace(":",""),g.videoProtocol=m,g=c(h.a,h.b),p.client.playerEvent=g[0],p.client.playerState=g[1],p.progress.vod&&(p.progress.vod.position=h.a.getPosition()),g=p.progress.live){m=h.a,m=Math.floor(m.a.getPresentationStartTime()+m.a.getPosition()),m=new Date(1e3*m).toISOString(),g.position=m;var v=h.a;m=v.a.getPosition(),v=v.a.getSeekRange().end,g.onLiveEdge=30>Math.abs(v-m),a(g.liveResumePossible)!==s.Sb&&(g.liveResumePossible=!0)}return p.progress.eventNumber=h.b,p.timestamp=(new Date).toISOString(),h.f.debug("Fire an event"),g=s.Ci(h.i),g.method="POST",g.contentType="application/json",g.headers.Authorization="Bearer "+h.c,g.body=s.pf(JSON.stringify(p)),h=h.g.fetch(g).promise,s.x(l,h,4)}if(2!=l.a)return t=l.b,d(u,t),s.Be(l,0);i=n=s.Ce(l),r=i.code,o=i.data,[e.Kj,e.TIMEOUT].includes(r)?(u.a.debug("Unreachable service"),d(u,o),f(u,u.w,o)):r===e.Hj?(u.a.debug("Generic service error"),d(u,o),f(u,u.B,o)):u.a.error(n.toString()),s.y(l)}))},s.r.dispose=function(){this.a.debug(s.Ya),s.hi(this.c),this.g.stop()}};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else i=[n("3f2b")],r=function(e){return s=e._,u.call(o,this),o}.apply(t,i),void 0===r||(e.exports=r)})()},5377:function(e,t,n){var i=n("83ab"),r=n("9bf2"),a=n("ad6d"),o=n("9f7f").UNSUPPORTED_Y;i&&("g"!=/./g.flags||o)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:a})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5719:function(e,t,n){var i,r;n("99af"),n("a623"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("b0c0"),n("4ec9"),n("a9e3"),n("aff5"),n("b680"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("2ca0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t,n,i,r,o,c,l,d,f,h,p,g,m,v,b,y,w,T,S,k,E,A,x,I,C,M,P,R,N,D,O,L,j,_,U,B,K,F,H,V,q,W,G,J,z,Y,X,$,Q,Z,ee,te,ne,ie,re,ae,oe,se,ue,ce,le,de,fe,he,pe,ge,me,ve,be,ye,we,Te,Se,ke,Ee,Ae,xe,Ie,Ce,Me,Pe,Re,Ne,De,Oe,Le,je,_e,Ue,Be,Ke,Fe,He,Ve,qe,We,Ge,Je,ze,Ye,Xe,$e,Qe,Ze,et,tt,nt,it,rt,at,ot,st,ut,ct,lt,dt,ft,ht,pt,gt,mt,vt,bt,yt,wt,Tt,St,kt,Et,At,xt,It,Ct,Mt,Pt,Rt,Nt,Dt,Ot,Lt,jt,_t,Ut,Bt,Kt,Ft,Ht,Vt,qt,Wt,Gt,Jt,zt,Yt,Xt,$t,Qt,Zt,en,tn,nn,rn,an,on,sn,un,cn,ln,dn,fn,hn,pn,gn,mn,vn,bn,yn,wn,Tn,Sn,kn,En,An,xn,In,Cn,Mn,Pn,Rn,Nn,Dn,On,Ln,jn,_n,Un,Bn,Kn,Fn,Hn,Vn,qn,Wn,Gn,Jn,zn,Yn,Xn,$n,Qn,Zn,ei,ti,ni,ii,ri,ai,oi,si,ui,ci,li,di,fi,hi,pi,gi,mi,vi,bi,yi,wi,Ti,Si,ki,Ei,Ai,xi,Ii,Ci,Mi,Pi,Ri,Ni,Di,Oi,Li,ji,_i,Ui,Bi;t=" buffer",n=" is being or has been set up",i="Cannot find matching variant",r="Jumping forward",o="MediaSource threw QuotaExceededError:",s.Tr="No stream with id",c="Not a persistent session.",l="PatchedMediaKeysWebkit.MediaKeys.findSession_",s.Wr="Player is in ERROR state and can not switch to ",d="PrestoPlay TextTrack",f="Removing audio from variant - audio not compatible with platform",h="bufferBehind=",p="bufferedBehind=",g="calling onCanSwitch()...",m="clpp.mse.Player",v="currentPeriod.startTime=",s.ds="onChooseStreams_",b="output-restricted",y="presentationTime=",w="reference.endTime=",T="reference.startTime=",S="switch: Stream ",k="webkit-org.w3.clearkey",E=function(e,t,n,i){return Promise.resolve().then((function(){if(e.i&&e.c)if(null==n||null==i)e.i.parseInit(s.cf(t));else{var r={periodStart:e.l,segmentStart:n,segmentEnd:i};r=e.i.parseMedia(s.cf(t),r).filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(r),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(i,e.g)}}))},A=function(e,t,n,i,r){var a=n+" "+i,o=new Map;t=s.u(t);for(var u=t.next();!u.done;u=t.next()){var c=u.value;u=c.stream,o.has(u)||o.set(u,new Map),o.get(u).has(a)||o.get(u).set(a,[]),c.startTime+=r,c.endTime+=r,c.startTime>=e.f&&c.startTime<e.g&&(c=new s.bg(c.startTime,c.endTime,c.text),o.get(u).get(a).push(c),u==e.j&&e.c.append([c]))}for(r=s.u(o.keys()),a=r.next();!a.done;a=r.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),t=s.u(o.get(a).keys()),u=t.next();!u.done;u=t.next())u=u.value,c=o.get(a).get(u),e.h.get(a).set(u,c);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(i,e.g))},x=function(e){for(var t=e.a;s.Yg(e)&&0!==e.b.getUint8(e.a);)e.a+=1;return t=e.b.buffer.slice(t,e.a),e.a+=1,s.ef(t)},I=function(e,t){return!(!s.wh("Edge/")&&!s.wh("Edg/"))||e.C.has(t)},C=function(e,t){var n=t.audio,i=t.video;if(n&&n.encrypted&&!I(e,s.eg(n.mimeType,n.codecs))||i&&i.encrypted&&!I(e,s.eg(i.mimeType,i.codecs)))return!1;var r=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==r}))},M=function(e){var t=e.Nb()||!e.isLive()&&(1/0==e.f||e.b)?0:e.s;return Math.max(0,s.Kn(e)-t)},P=function(e,t){var n=Math.max(e.g,0);if(1/0==e.Sb)return n;var i=s.Kn(e)-e.Sb;return i=Math.min(i+t,M(e)),Math.max(n,i)},R=function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return n;return""},N=function(e){var t=[e.mimeType];return s.go.forEach((function(n,i){var r=e[i];r&&t.push(n+'="'+r+'"')})),t.join(";")},D=function(e,t){var n=0;return e.forEach((function(e){n+=t(e)?1:0})),n},O=function(e,t){var n=new s.Ri(void 0,void 0===t?"total":t);return e.forEach((function(e){n.a.push(e)})),n.length=e.length,n},L=function(e,t){for(var n=null,i=s.u(e),r=i.next();!r.done;r=i.next())r=r.value,t>=r.startTime&&(n=r);return n},j=function(e,t){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_=function(e,t){e=s.Xm(e),t=s.Xm(t);var n=e.split("-"),i=t.split("-");return n[0]==i[0]&&1==n.length&&2==i.length},U=function(e){return e.language?s.Xm(e.language):e.audio&&e.audio.language?s.Xm(e.audio.language):e.video&&e.video.language?s.Xm(e.video.language):s.Md},B=function(e,t){for(var n=s.Xm(e),i=new Set,r=s.u(t),a=r.next();!a.done;a=r.next())i.add(s.Xm(a.value));for(r=s.u(i),a=r.next();!a.done;a=r.next())if(a=a.value,a==n)return a;for(r=s.u(i),a=r.next();!a.done;a=r.next())if(a=a.value,_(a,n))return a;for(r=s.u(i),a=r.next();!a.done;a=r.next()){var o=a=a.value,u=n;if(o=s.Xm(o),u=s.Xm(u),o=o.split("-"),u=u.split("-"),2==o.length&&2==u.length&&o[0]==u[0])return a}for(i=s.u(i),a=i.next();!a.done;a=i.next())if(r=a.value,_(n,r))return r;return null},K=function(){this.b=function(){},this.a=new Set},F=function(e,t){e.b=t},H=function(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{Yb:null,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:1,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:3,Xb:2,Ib:function(e,n){return t.a(e,n)}},{Yb:2,Xb:1,Ib:function(e,n){return t.b(e,n)}},{Yb:2,Xb:3,Ib:function(e,n){return t.b(e,n)}},{Yb:1,Xb:3,Ib:function(e,n){return t.c(e,n)}},{Yb:3,Xb:1,Ib:function(e,n){return t.c(e,n)}}]},V=function(e,t,n,i){e.a=t,e.b=n,e.c=i},q=function(e){var t=this;this.b=e,this.a=new Set,this.c=new s.Ef((function(){W(t,!1)})).Ea(.25)},W=function(e,t){for(var n=s.u(e.a),i=n.next();!i.done;i=n.next())i.value.h(e.b.currentTime,t)},G=function(e,t){return e.start-t.start},s.Hs=function(e){this.h=e,this.log=new s.H("clpp.renditions"),this.b=[],this.g=this.a=null,this.f=!1},J=function(e){var t=[];return e.b.forEach((function(e){t.push({start:e.start,end:e.end,width:e.width,height:e.height,bandwidth:e.bandwidth,rendition:e.rendition})})),t},z=function(e){e.a&&e.a.trigger(new s.O(s.Ob))},Y=function(e){if(e.a){for(var t=!1,n={},i=0;i<e.b.length;i++){var r=e.b[i],a=r.width+"x"+r.height,o=n[a];if(o&&o!==r.bandwidth){t=!0;break}n[a]=r.bandwidth}t&&!e.f?(e.log.debug("Tracking timeupdates"),e.a.on(s.Ld,e.c,e),e.f=!0):!t&&e.f&&(e.log.debug("Stop tracking timeupdates"),e.a.off(s.Ld,e.c),e.f=!1)}},X=function(e,t,n){e.b=e.b.filter((function(e){return!(e.end<=t||e.start>=n)&&(e.start=Math.max(e.start,t),e.end=Math.min(e.end,n),!0)})),e.a&&e.a.trigger(new s.O(s.Yd))},$=function(e){s.Kf.call(this,e),e=e.getSurface().F(),this.a=null;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode=s.nc,n.label===d&&(this.a=n)}this.a||(this.a=e.addTextTrack(s.Gd,d)),this.a.mode=s.Dc},Q=function(e){if(e.startTime>=e.endTime)return s.G("Invalid cue times: "+e.startTime+" - "+e.endTime),null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,t.size=e.size;try{t.align=e.textAlign}catch(n){}return e.textAlign===s.$b&&t.align!==s.$b&&(t.align="middle"),e.writingMode===s.Td?t.vertical="lr":e.writingMode===s.Ud&&(t.vertical="rl"),1===e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t},Z=function(e,t){var n=e.mode;e.mode=n==s.xd?s.xd:s.Dc;for(var i=e.cues,r=i.length-1;0<=r;r--){var a=i[r];a&&t(a)&&e.removeCue(a)}e.mode=n},ee=function(){},te=function(t,n){for(var i in n=void 0===n?{}:n,n)this[i]=n[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1},ne=function(){this.h=new s.bi,this.j=this},ie=function(e,t){s.I("PatchedMediaKeysMs.requestMediaKeySystemAccess");try{var n=new re(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},re=function(e,t){s.I("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=e;for(var n=!1,i=0;i<t.length;++i){var r=t[i],a={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:r.initDataTypes,sessionTypes:[s.Hd],label:r.label},o=!1;if(r.audioCapabilities)for(var u=0;u<r.audioCapabilities.length;++u){var c=r.audioCapabilities[u];c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.audioCapabilities.push(c),n=!0))}if(r.videoCapabilities)for(u=0;u<r.videoCapabilities.length;++u)c=r.videoCapabilities[u],c.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(a.videoCapabilities.push(c),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,s.Xd)),r.persistentState==s.qd&&(n=!1),n)return void(this.a=a)}throw n=Error(s.Za),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},ae=function(e){s.I("PatchedMediaKeysMs.setMediaKeys");var t=this.mediaKeys;return t&&t!=e&&se(t,null),delete this.mediaKeys,(this.mediaKeys=e)?se(e,this):Promise.resolve()},oe=function(e){s.I("PatchedMediaKeysMs.MediaKeys"),this.a=new MSMediaKeys(e),this.b=new s.ei},se=function(e,t){function n(){t.msSetMediaKeys(i.a),t.removeEventListener(s.Oc,n)}if(s.hi(e.b),!t)return Promise.resolve();e.b.on(t,"msneedkey",ce);var i=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener(s.Oc,n),Promise.resolve()}catch(r){return Promise.reject(r)}},ue=function(e){s.I("PatchedMediaKeysMs.MediaKeySession"),ne.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new s.ei,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new fe},ce=function(e){if(s.I("PatchedMediaKeysMs.onMsNeedKey_",e),e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent(s.vc,!1,!1,null),t.initDataType=s.Zb,t.initData=le(e.initData),this.dispatchEvent(t)}},le=function(e){if(!e)return e;var t=new s.Xj(e);if(1>=t.a.length)return e;for(var n=[],i=0;i<t.a.length;i++)n.push(e.subarray(t.a[i].start,t.a[i].end+1));for(e=[],t={},i=s.u(n),n=i.next();!n.done;t={Mc:t.Mc},n=i.next())t.Mc=n.value,e.some(function(e){return function(t){return s.Rj(t,e.Mc)}}(t))||e.push(t.Mc);for(t=0,i=s.u(e),n=i.next();!n.done;n=i.next())t+=n.value.length;for(t=new Uint8Array(+t),i=0,e=s.u(e),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,i),i+=n.length;return t},de=function(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new te(s.Hc))},fe=function(){this.size=0,this.a=void 0},he=function(e){var t=Fi;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e},pe=function(e,t){s.I("PatchedMediaKeysWebkit.requestMediaKeySystemAccess");try{var n=new me(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},ge=function(e){s.I("PatchedMediaKeysWebkit.setMediaKeys");var t=this.mediaKeys;return t&&t!==e&&be(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&be(e,this),Promise.resolve()},me=function(e,t){s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.a=this.keySystem=e;var n=!1;e===s.ad&&(this.a=k,n=!1);var i=!1,r=document.getElementsByTagName(s.Vd);r=r.length?r[0]:document.createElement(s.Vd);for(var a=0;a<t.length;++a){var o=t[a],u={audioCapabilities:[],videoCapabilities:[],persistentState:s.$c,distinctiveIdentifier:s.$c,initDataTypes:o.initDataTypes,sessionTypes:[s.Hd],label:o.label},c=!1;if(o.audioCapabilities)for(var l=0;l<o.audioCapabilities.length;++l){var d=o.audioCapabilities[l];d.contentType&&(c=!0,r.canPlayType(d.contentType.split(";")[0],this.a)&&(u.audioCapabilities.push(d),i=!0))}if(o.videoCapabilities)for(l=0;l<o.videoCapabilities.length;++l)d=o.videoCapabilities[l],d.contentType&&(c=!0,r.canPlayType(d.contentType,this.a)&&(u.videoCapabilities.push(d),i=!0));if(c||(i=r.canPlayType(s.Xd,this.a)||r.canPlayType("video/webm",this.a)),o.persistentState===s.qd&&(n?(u.persistentState=s.qd,u.sessionTypes=[s.fd]):i=!1),i)return void(this.b=u)}throw n=s.Za,e!==s.ad&&e!==s.kc||(n="None of the requested configurations were supported."),n=Error(n),n.name=s.Ga,n.code=DOMException.NOT_SUPPORTED_ERR,n},ve=function(e){s.I("PatchedMediaKeysWebkit.MediaKeys"),this.g=e,this.b=null,this.a=new s.ei,this.c=[],this.f={}},be=function(e,t){e.b=t,s.hi(e.a);var n=Fi;t&&(e.a.on(t,n+"needkey",e.hj.bind(e)),e.a.on(t,n+"keymessage",e.gh.bind(e)),e.a.on(t,n+"keyadded",e.eh.bind(e)),e.a.on(t,n+"keyerror",e.fh.bind(e)))},ye=function(e,t){var n=e.f[t];return n?(s.I(l,n),n):(n=e.c.shift())?(n.sessionId=t,e.f[t]=n,s.I(l,n),n):null},we=function(e,t,n){s.I("PatchedMediaKeysWebkit.MediaKeySession"),ne.call(this),this.f=e,this.i=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new s.gj,this.keyStatuses=new ke},Te=function(e,t,n){if(e.i)return Promise.reject(Error("The session is already initialized."));e.i=!0;try{if(e.g===s.fd)if(n)var i=s.nf("LOAD_SESSION|"+n);else{var r=s.nf("PERSISTENT|"),a=new Uint8Array(r.byteLength+t.byteLength);a.set(r,0),a.set(s.cf(t),r.byteLength),i=a}else i=s.cf(t)}catch(u){return Promise.reject(u)}e.b=new s.gj;var o=he("generateKeyRequest");try{e.f[o](e.c,i)}catch(u){if("InvalidStateError"!==u.name)return e.b=null,Promise.reject(u);new s.Ef((function(){try{e.f[o](e.c,i)}catch(t){e.b.reject(t),e.b=null}})).P(.01)}return e.b},Se=function(e,t){var n=e.keyStatuses;n.size=void 0===t?0:1,n.a=t,e.dispatchEvent(new te(s.Hc))},ke=function(){this.size=0,this.a=void 0},Ee=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],i=0;i<arguments.length;++i)n[i]=arguments[i];return n=e.apply(this,n),n.abort=function(){},n}},Ae=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}},xe=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},Ie=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=s.fg(t)[0]&&e(t)}},Ce=function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){var i=n.split(/ *; */),r=i.shift(),a={};i=s.u(i);for(var o=i.next();!o.done;o=i.next())o=o.value.split("="),a[o[0]]=o[1].replace(/"(.*)"/,"$1");if(i=a.codecs,!i)return e(n);var u=!1,c=!1;for(var l in n=i.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(u=!0),!0})),c&&(u=!1),a.codecs=n.join(","),u&&(a.eotf="smpte2084"),a)r+="; "+l+'="'+a[l]+'"';return cast.__platform__.canDisplayType(r)}},Me=function(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}},s.tt=function(){},Pe=function(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0,remux:!1}),this.b=null,this.h=[],this.g=[],this.c=[],this.f=!1,this.a.on("data",this.j.bind(this)),this.a.on("done",this.i.bind(this))},Re=function(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1]&&"aac"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(De(n,t))||MediaSource.isTypeSupported(t.replace("aac",s.Uc)):MediaSource.isTypeSupported(De(s.Lb,t))||MediaSource.isTypeSupported(t.replace("aac",s.Uc))||MediaSource.isTypeSupported(De(s.Vd,t)))},Ne=function(e,t){var n=new Map;n.set(e,t);try{var i=t.match(/"(.*?)"/)[0].replace(/"/g,"").split(","),r=new Map;return 1<i.length&&i.forEach((function(e){e.startsWith("avc")?r.set(s.Vd,'video/mp4;codecs="'+e+'"'):e.startsWith("mp4a")&&r.set(s.Lb,'audio/mp4;codecs="'+e+'"')})),0<r.size?r:n}catch(u){return n}},De=function(e,t){var n=t.replace("mp2t",s.Uc);e==s.Lb&&(n=n.replace(s.Vd,s.Lb));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",a=i[1],o=Number(i[2]);r=("66"==a?r+"4200":"77"==a?r+"4d00":r+"6400")+(o>>4).toString(16),r+=(15&o).toString(16),n=n.replace(i[0],r)}return n},Oe=function(e,t){e.f=!0,e.b=new s.gj,e.h=[],e.g=[],e.c=[];var n=s.cf(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new s.J(s.K,3,3018)),e.b},s.At=function(e,t,n,i,r){this.g=e,this.l=n,this.c={},this.B=!1,this.b=null,this.f={},this.i=new s.ei,this.w=!1,this.j={},this.s=t,this.m=i,this.C=void 0===r?1:r,this.v=new s.gj,this.o={},e=this.v,t=new MediaSource,this.i.one(t,"sourceopen",e.resolve),this.g.src=Hi(t),this.h=t,this.a=new s.H("clpp.mse.MediaSourceEngine")},Le=function(e){var t=s.eg(e.mimeType,e.codecs),n=N(e);return s.ig(t)||MediaSource.isTypeSupported(n)||Re(t,e.type)},je=function(e,t){t.forEach((function(t,n){var i=e.h.addSourceBuffer(t);e.i.on(i,s.yc,e.dh.bind(e,n)),e.i.on(i,"updateend",e.kc.bind(e,n)),e.c[n]=i,e.f[n]=[],e.o[n]=!1})),e.B=t.has(s.Lb)&&t.has(s.Vd)},_e=function(e,t){e.b||(e.b=new s.gg(e.l)),t!=s.Cb&&(e.b.i=new s.hg[t])},Ue=function(e){return!e.h||e.h.readyState==s.xc},Be=function(e){var t={};t.total=new s.Ri(e.g.buffered,"total"),t.audio=Ke(e,s.Lb),t.video=Ke(e,s.Vd);var n=[];return e.b&&(n=[{start:e.b.Ra(),end:e.b.da()}]),t.text=O(n,s.k),t},Ke=function(e,t){try{return new s.Ri(e.c[t].buffered,t)}catch(n){return t in e.c&&e.a.error("failed to get buffered range for "+t,n),null}},Fe=function(t,n,i,r,a,o,u,c){c=void 0!==c&&c;var l=t.c[n],d=-1,f=0;return l&&l.buffered&&(f=l.buffered.length),n===s.Vd&&null!==r&&null!==a&&c&&(d=0<f?l.buffered.end(f-1):-1),n==s.k?i=E(t.b,i,r,a):t.j[n]?i=Oe(t.j[n],i).then((function(e){t.b||_e(t,s.Id),e.captions&&e.captions.length&&A(t.b,e.captions,r,a,t.c.video.timestampOffset);var n=[];return 0<e.audio.byteLength&&t.c.audio&&n.push(qe(t,s.Lb,t.Gd.bind(t,s.Lb,e.audio.buffer))),0<e.video.byteLength&&t.c.video&&n.push(qe(t,s.Vd,t.Gd.bind(t,s.Vd,e.video.buffer))),Promise.all(n)})):(o&&e.muxjs&&(t.b||_e(t,s.Id),null==r&&null==a?t.s.init(i):t.s.c(i,(function(e){e.length&&A(t.b,e,r,a,t.c.video.timestampOffset)}))),i=qe(t,n,t.Gd.bind(t,n,i))),i.then((function(){if(n!==s.Vd||null===r||null===a||c){if(n===s.Lb&&null!==r&&null!==a)z(t.m);else if(n===s.Vd&&null!==r&&null!==a&&c){var e=l.buffered.length,i=0<e?l.buffered.end(e-1):-1;0>d&&0<e&&(d=l.buffered.start(0)),0<=d&&0<i&&t.m.append(d,i,u)}}else t.m.append(r,a,u);if(!t.o[n]&&l&&1===l.buffered.length){e=l.buffered.start(0);var o=r-e;if(Math.abs(o)>t.C&&0===l.timestampOffset)return t.a.warn("Detected a delta of "+o+" between media times and segment times for "+n+". The segment start time is "+r+" and the media start time is "+e+". Adjusting timestampOffset."),e=qe(t,n,(function(){t.Qf(n,o)})),i=qe(t,n,t.ef.bind(t,n,!1)),Promise.all([e,i])}null!==r&&null!==a&&(t.o[n]=!0)}))["catch"]((function(e){throw e}))},He=function(e,t,n,i,r){return t==s.k?(e.b.l=n,e=e.b,e.f=i,e.g=r,Promise.resolve()):(t=Ve(e,t,n,i,r),e.B&&(t=t.concat(Ve(e,s.Lb,n,i,r))),Promise.all(t))},Ve=function(e,t,n,i,r){return[qe(e,t,e.Wf.bind(e,t)),qe(e,t,e.Qf.bind(e,t,n)),qe(e,t,e.xj.bind(e,t,i,r))]},qe=function(e,t,n){return e.w?Promise.reject():(n={start:n,p:new s.gj},e.f[t].push(n),1===e.f[t].length&&We(e,t),n.p)},We=function(e,t){var n=e.f[t][0];if(n)try{e.a.debug("Starting next operation for "+t),n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new s.J(s.K,3,3017,{type:t})):n.p.reject(new s.J(s.K,3,3015,{mediaError:i})),Je(e,t)}else e.a.debug("No more scheduled operations for "+t)},Ge=function(e,t){if(e.w)return Promise.reject();var n,i=[];for(n in e.c){var r=new s.gj,a={start:function(e){e.resolve()}.bind(null,r),p:r};e.f[n].push(a),i.push(r),1==e.f[n].length&&a.start()}return Promise.all(i).then((function(){try{t()}catch(r){var n=Promise.reject(new s.J(s.K,3,3015,{mediaError:r}))}for(var i in e.c)Je(e,i);return n}),(function(){return Promise.reject()}))},Je=function(e,t){e.f[t].shift(),We(e,t)},ze=function(e,t,n){function i(e,t,n){return e>=t&&e<=n}var r=e.video;return!(r&&r.width&&r.height&&!(i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))&&i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))&&i(r.width*r.height,t.minPixels,t.maxPixels))||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))},Ye=function(e,t,n){var i=!1;return e.forEach((function(e){var r=e.allowedByApplication;e.allowedByApplication=ze(e,t,n),r!=e.allowedByApplication&&(i=!0)})),i},Xe=function(e,t,n,i){var r=!1;if(i.variants=i.variants.filter((function(i){if(e&&e.S&&!C(e,i))return s.I("Dropping variant - not compatible with key system",i),!1;var a=i.audio,o=i.video;if(a&&!Le(a)){var u=a.codecs;0<=a.codecs.indexOf("ec-3")?(s.I("Trying to use AC-3 for EC-3"),a.codecs=a.codecs.replace("ec-3","ac-3"),Le(a)?s.$e("Using AC-3 instead of EC-3 for",at(a)):(a.codecs=u,s.$e(f,at(a)),i.audio=null,r=!0,a=null)):(s.$e(f,at(a)),i.audio=null,r=!0,a=null)}return o&&!Le(o)?(s.$e("Dropping variant - video not compatible with platform",at(o)),!1):a&&t&&!$e(a,t)?(s.$e("Dropping variant - not compatible with active audio","active audio",at(t),"variant.audio",at(a)),!1):!(o&&n&&!$e(o,n))||(s.$e("Dropping variant - not compatible with active video","active video",at(n),"variant.video",at(o)),!1)})),r){var a=!1,o=!1;i.variants.forEach((function(e){!a&&e.video&&e.audio&&(a=!0),o||e.audio||!e.video||(o=!0)})),a&&o&&(i.variants=i.variants.filter((function(e){return!(e.video&&!e.audio)||(s.$e("Dropping variant - not compatible with video + audio","variant.video",at(e.video)),!1)})))}i.textStreams=i.textStreams.filter((function(e){var t=s.ig(s.eg(e.mimeType,e.codecs));return t||s.I("Dropping text stream. Is not supported by the platform.",e),t}))},$e=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},Qe=function(e){var t=e.audio,n=e.video,i=t?t.codecs:null,r=n?n.codecs:null,a=[];r&&a.push(r),i&&a.push(i);var o=n&&n.mimeType||null,s=t&&t.mimeType||null,u=[];t&&u.push(t.kind),n&&u.push(n.kind),u=u[0]||null;var c=new Set,l=new Set;return t&&t.roles.forEach((function(e){return l.add(e)})),n&&n.roles.forEach((function(e){return c.add(e)})),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:u,width:null,height:null,frameRate:null,mimeType:o,audioMimeType:s,codecs:a.join(", "),audioCodec:i,videoCodec:r,primary:e.primary,roles:Array.from(c),audioRoles:Array.from(l),videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e},Ze=function(e){return{id:e.id,active:!1,type:s.k,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,audioMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}},et=function(e){return e.allowedByApplication&&e.allowedByKeySystem},tt=function(e,t){var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),i=new Map;n=s.u(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var a=r.audio.channelsCount;i.has(a)||i.set(a,[]),i.get(a).push(r)}return n=Array.from(i.keys()),0==n.length?e:(r=n.filter((function(e){return e<=t})),r.length?i.get(Math.max.apply(null,r)):i.get(Math.min.apply(null,n)))},s.Yt=function(e,t,n){var i=e,r=e.filter((function(e){return e.primary}));r.length&&(i=r);var a=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==a})),t){var o=B(s.Xm(t),e.map((function(e){return e.language})));o&&(i=e.filter((function(e){return s.Xm(e.language)==o})))}if(n){if(e=nt(i,n),e.length)return e;s.G("No exact match for the text role could be found.")}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(s.Dk.Jd,[]),e.length?nt(i,e[0]):i},nt=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},it=function(e,t,n){for(var i=0;i<n.length;i++)if(n[i].audio==e&&n[i].video==t)return n[i];return null},rt=function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t},at=function(e){var t=N(e);return e.type==s.Lb?"type=audio mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount:e.type==s.Vd?"type=video mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},ot=function(e,t){var n=String(s.yi++);return n=new s.si(n,e),n.mimeType=s.ui(t.mimeType),e!==s.P&&e!==s.Q||(n.label=s.ui(t.label),n.language=s.ui(t.language)),e===s.vi?(n.frameRate=t.frameRate,n.roles=t.roles):e===s.Q?(n.channelsCount=t.channelsCount,n.roles=t.audioRoles||[],n.mimeType=s.ui(t.audioMimeType)):(n.kind=s.ui(t.kind),n.roles=t.roles),n},st=function(e,t,n){var i=new s.ti(e===s.vi?""+t.videoId:e===s.Q?""+t.audioId:""+t.id,n);switch(e){case s.vi:i.codec=s.ui(t.videoCodec),i.bandwidth=t.videoBandwidth||t.bandwidth,i.width=t.width,i.height=t.height,i.originalId=t.originalVideoId;break;case s.Q:i.codec=s.ui(t.audioCodec),i.bandwidth=t.audioBandwidth||t.bandwidth,i.originalId=t.originalAudioId;break;default:i.codec=s.ui(t.codecs),i.originalId=t.originalTextId}return(e=n.renditions.find((function(e){return s.C.xa(e,i,null,["id","track"])})))||n.renditions.push(i),e||i},ut=function(e,t){var n=e.reduce((function(e,n){return t===s.vi?null===n.videoId||e[n.videoId]&&!n.active||(e[n.videoId]=n):t===s.Q&&(null===n.audioId||e[n.audioId]&&!n.active||(e[n.audioId]=n)),e}),{});return Object.values(n).sort((function(e,t){return e.id-t.id}))},ct=function(e,t){if(void 0!==t&&null!==t){var n=e.filter((function(e){return e.audio&&e.audio.id===t}));if(0<n.length)return n}return e},lt=function(){this.f=new s.H("clpp.mse.TrackManager"),this.a=null,this.g=[],this.b=new Map,this.c=new Map},dt=function(e,t){return e.g.filter((function(e){return e.type===t}))},ft=function(e,t){var n=e.b.get(t)||null;return n&&n.track},ht=function(e,t,n){n&&ft(e,n.type)===n||gt(e,t,n&&n.renditions[0])},pt=function(e,t){e.b.set(t.track.type,t),t===(e.c.get(t.track.type)||null)&&e.c.set(t.track.type,null)},gt=function(e,t,n,r){if(r=void 0!==r&&r,e.a&&(e.b.get(t)||null)!==n){var a=e.a;if(n){if(0>e.g.indexOf(n.track))throw Error("Unknown rendition with ID "+n.id);if(t!==n.track.type)throw Error("Types mismatch");if(e.f.debug("Activate rendition type\n          "+t+" with ID: "+n.id),t===s.P){var o=a.X().find((function(e){return e.id==n.id}));o&&(e.c.set(t,n),pt(e,n),a.trigger(new s.O(s.Li)),hi(a,!0).then((function(){ci(a,o)}))["catch"]((function(t){e.f.warn("Error while activating track",t)})))}else if(t===s.Q)e.c.set(t,n),di(a,parseInt(n.id,10));else if(t===s.vi){var u=e.b.get(s.Q)||null;if(u){var c=ui(a).filter((function(e){return e.videoId==n.id})),l=c.find((function(e){return e.audioId==u.id}));if(!l){e.f.debug("Unable to find exact variant. Searching for equivalent");var d=u.track.renditions.map((function(e){return e.id})).filter((function(e){return e!==u.id}));l=c.find((function(e){return d.find((function(t){return t==e.audioId}))}))}}else l=ui(a).find((function(e){return e.videoId==n.id}));l?(e.c.set(t,n),li(a,l,r)):e.f.warn(i)}}else e.f.debug(s.ra+t),ft(e,t)&&(t===s.P?hi(a,!1).then((function(){e.b.set(t,null),a.trigger(new s.O(s.Li))}))["catch"]((function(t){e.f.warn("Error while de-activating text tracks",t)})):t===s.Q?e.f.info("Enabling ABR for audio is not supported"):li(a,null,r))}},mt=function(e){if(e.a){e.f.debug("Track list change detected, updating track list");for(var t=[],n=s.u(Object.values(s.jo)),i=n.next();!i.done;i=n.next())i=i.value,e.b.set(i,null),e.c.set(i,null);e.a.X().forEach((function(n){var i=ot(s.P,n),r=t.find((function(e){return bt(e,i)}));i=r||i;var a=st(s.P,n,i);n.active&&e.b.set(s.P,a),r||t.push(i)})),fi(e.a)||e.b.set(s.P,null),n=ui(e.a),vt(e,t,n,s.vi),vt(e,t,n,s.Q),e.g=t}},vt=function(e,t,n,i){ut(n,i).forEach((function(n){var r=ot(i,n),a=t.find((function(e){return bt(e,r)}));r=a||r;var o=st(i,n,r);n.active&&e.b.set(i,o),a||t.push(r)}))},bt=function(e,t){return e.type===t.type&&e.channelsCount===t.channelsCount&&e.frameRate===t.frameRate&&e.kind===t.kind&&e.label===t.label&&e.language===t.language&&e.mimeType===t.mimeType&&j(e.roles,t.roles)},yt=function(e,t,n){if(t){e.g.length||mt(e);for(var i,r=t.type,a=e.b.get(r)||null,o=s.u(dt(e,r)),u=o.next();!u.done&&!(i=u.value.renditions.find((function(e){return e.id==t.id})));u=o.next());i&&a!==i&&(pt(e,i),r===s.Q?e.a.trigger(new s.O(s.Ki)):r===s.vi&&e.a.trigger(new s.O(s.Zd,{details:{width:i.width||0,height:i.height||0,bandwidth:i.bandwidth,track:i.track,abrSelection:n}})))}},wt=function(){this.b=new s.an(2),this.c=new s.an(5),this.a=0},Tt=function(e,t){return 128e3>e.a?t:Math.min(s.cn(e.b),s.cn(e.c))},s.wu=function(){this.b=new s.H("clpp.abr"),this.i=null,this.g=!1,this.c=new wt,this.h=[],this.j=!1,this.a=this.f=null},St=function(e,t){return e&&(t=t.filter((function(t){return ze(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},kt=function(){this.a=new Map},Et=function(e,t){return e.a.has(t)||e.a.set(t,new At),e.a.get(t)},At=function(){this.text=this.variant=null},xt=function(e,t){this.b=e,this.a=new Set([e]),t=t||[];for(var n=s.u(t),i=n.next();!i.done;i=n.next())this.add(i.value)},It=function(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var i=t.audio;n=!(n.channelsCount==i.channelsCount&&Ct(n,i)&&Mt(n.roles,i.roles))}return!n&&(n=e.video&&t.video)&&(n=e.video,i=t.video,n=!(Ct(n,i)&&Mt(n.roles,i.roles))),!n},Ct=function(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return s.fg(e)[0]})),i=t.codecs.split(",").map((function(e){return s.fg(e)[0]}));if(n.length!=i.length)return!1;n.sort(),i.sort();for(var r=0;r<n.length;r++)if(n[r]!=i[r])return!1;return!0},Mt=function(e,t){var n=new Set(e),i=new Set(t);if(n["delete"]("main"),i["delete"]("main"),n.size!=i.size)return!1;n=s.u(n);for(var r=n.next();!r.done;r=n.next())if(!i.has(r.value))return!1;return!0},Pt=function(e){this.a=e,this.b=new Rt(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0)},Rt=function(e,t,n){this.c=e,this.b=t,this.a=n},Nt=function(e,t){var n=s.Xm(t),i=B(n,e.map((function(e){return U(e)})));return i?e.filter((function(e){return i==U(e)})):[]},Dt=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))},Ot=function(e,t){this.a=qi,this.b=(new Map).set(qi,t).set(Vi,e)},Lt=function(e){this.c=e,this.a=null,this.b=function(){}},jt=function(e,t){e.b=t},_t=function(e){var t=this;this.a=e,this.f=!1,this.c=this.a.Rd(),this.b=new s.Ef((function(){t.a.pi(.25*t.c)}))},Ut=function(e){e.b.stop();var t=e.f?0:e.c;0<=t?e.a.Rd()!=t&&e.a.Pf(t):(e.b.Ea(.25),0!=e.a.Rd()&&e.a.Pf(0))},Bt=function(e,t){this.c=e,this.g=Ht(e),this.b=e.a.currentTime,this.f=Date.now()/1e3,this.h=t,this.a=function(){}},Kt=function(e,t){e.a=t},Ft=function(e){this.a=e},Ht=function(e){if(e.a.paused||0==e.a.playbackRate||null==e.a.buffered)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var i=t.start(n),r=t.end(n);if(!(e<i||e>r-.5)){t=!0;break e}}t=!1}return t},Vt=function(e,t,n,i,r){var a=this;this.a=e,this.o=t,this.l=n,this.m=r,this.c=new s.ei,this.j=!1,this.v=e.readyState,this.f=!1,this.b=i,this.g=this.s=this.i=!1,this.c.on(e,s.ae,(function(){return qt(a)})),this.h=new s.Ef((function(){qt(a)})).Ea(.25)},qt=function(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused&&!e.g){e.a.readyState!=e.v&&(e.f=!1,e.v=e.a.readyState);var t=e.l.smallGapLimit,n=e.a.currentTime,i=e.a.buffered;e:{var a=new s.Ri(i);if(a.length&&!(1===a.length&&1e-6>a.end(0)-a.start(0)))for(var o=s.wh("Edge/")||s.wh("Edg/")||s.wh("Trident/")||s.xh()||s.wh("CrKey")?.5:.1,u=0;u<a.length;u++)if(a.start(u)>n&&(0===u||a.end(u-1)-n<=o)){a=u;break e}a=null}if(null==a)e.b&&(e=e.b,i=e.c,n=Ht(i),i=i.a.currentTime,t=Date.now()/1e3,e.b==i&&e.g==n||(e.f=t,e.b=i,e.g=n),i=t-e.f,i>=e.h&&n&&e.a(e.b,i));else if((0!=a||e.i)&&e.s&&(o=i.start(a),u=M(e.o),!(o>=u))){u=o-n,t=u<=t;var c=!1;if(!(.001>u)){if(!t&&!e.f){e.f=!0;var l=new s.O("largegap",{detail:{currentTime:n,gapSize:u}});l.cancelable=!0,e.m(l),e.l.jumpLargeGaps&&!l.defaultPrevented?c=!0:s.$e("Ignoring large gap at",n,"size",u)}(t||c)&&(0==a?s.$e(r,u,"seconds because of gap before start time of",o):s.$e(r,u,"seconds because of gap starting at",i.end(a-1),"and ending at",o),e.a.currentTime=o)}}}}},Wt=function(e,t,n,i){this.a=e,this.h=t,this.f=i,this.i=n,this.b=new s.ei,this.c=new $t(e),this.g=!1,0<e.readyState?Yt(this,n):zt(this,n)},Gt=function(e){return 0<e.a.readyState?e.a.currentTime:e.i},Jt=function(e,t){0<e.a.readyState?Qt(e.c,t):zt(e,t)},zt=function(e,t){e.i=t,e.b.off(e.a,s.Oc),e.b.one(e.a,s.Oc,(function(){Yt(e,t)}))},Yt=function(e,t){e.g||(e.g=!0,e.f&&e.f()),.001>Math.abs(e.a.currentTime-t)?Xt(e):(e.b.one(e.a,s.ud,(function(){Xt(e)})),Qt(e.c,0==e.a.currentTime?t:e.a.currentTime))},Xt=function(e){e.b.on(e.a,s.ud,(function(){return e.h()}))},$t=function(e){var t=this;this.b=e,this.h=10,this.g=this.c=this.f=0,this.a=new s.Ef((function(){0>=t.f?(s.G(["Failed to move playhead from",t.c,"to",t.g].join(" ")),t.a.stop()):t.b.currentTime!=t.c?t.a.stop():(t.b.currentTime=t.g,t.f--)}))},Qt=function(e,t){e.c=e.b.currentTime,e.g=t,e.f=e.h,e.b.currentTime=t,e.a.Ea(.1)},Zt=function(e,t,n,i,r,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.m=t.minBufferTime||0,this.h=n,this.l=r,this.j=null,this.g=new Vt(e,t.presentationTimeline,n,on(this,e,n),a),this.f=new Wt(e,(function(){e:{var e=o.g;e.j=!0,e.i=!1,e.f=!1,e=Gt(o.f);var t=rn(o,e);if(.001<Math.abs(t-e)){var n=(new Date).getTime()/1e3;if(!o.j||o.j<n-1){o.j=n,Jt(o.f,t),e=void 0;break e}}o.b.debug("Seek to "+e),o.l(),e=void 0}return e}),tn(this,i),(function(){o.g.s=!0})),this.i=new s.Ef((function(){if(0!=o.c.readyState&&!o.c.paused){var e=o.c.currentTime,t=P(o.a,0),n=M(o.a);3>n-t&&(t=n-3),e<t&&(t=rn(o,e),o.b.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),o.c.currentTime=t)}})).Ea(.25),this.b=new s.H("clpp.mse.Playhead")},en=function(e){var t=Gt(e.f);return 0<e.c.readyState&&!e.c.paused?an(e,t):t},tn=function(e,t){return null==t?t=1/0>e.a.getDuration()?P(e.a,0):M(e.a):0>t&&(t=M(e.a)+t),nn(e,an(e,t))},nn=function(e,t){var n=e.a.getDuration();return t>=n?n-e.h.durationBackoff:t},rn=function(e,t){var n=new s.Ri(e.c.buffered);n=n.Kb.bind(n);var i=Math.max(e.m,e.h.rebufferingGoal),r=e.h.safeSeekOffset,a=P(e.a,0),o=M(e.a),u=e.a.getDuration();3>o-a&&(a=o-3);var c=P(e.a,i),l=P(e.a,r);return i=P(e.a,i+r),t>=u?(e.b.debug("Playhead past duration."),nn(e,t)):t>o?(e.b.debug("Playhead past end."),o):t<a?n(l)?(e.b.debug("Playhead before start & start is buffered"),l):(e.b.debug("Playhead before start & start is unbuffered"),i):t>=c||n(t)?(e.b.debug("Playhead in safe region or in buffered region."),t):(e.b.debug("Playhead outside safe region & in unbuffered region."),i)},an=function(e,t){var n=P(e.a,0);return t<n?n:(n=M(e.a),t>n?n:t)},on=function(e,t,n){if(!n.stallEnabled)return null;var i=n.stallSkip;return n=new Bt(new Ft(t),n.stallThreshold),Kt(n,(function(n,r){e.b.warn(["Stall detected at",n,"for",r,"seconds. Seeking forward",i,"seconds."].join(" ")),t.currentTime+=i})),n},s.kv=function(e,t){this.b=t,this.c=e,this.h=null,this.l=1,this.v=Promise.resolve(),this.i=[],this.j=new Map,this.f=new Map,this.B=this.g=this.m=this.o=!1,this.w=0,this.a=new s.H("clpp.mse.Streaming"),this.s=!1},sn=function(e){var t=e.f.get(s.Vd);return t||(t=e.f.get(s.Lb))?e.c.periods[t.eb]:null},un=function(e){return s.mv(e,s.Lb)},cn=function(e){return s.mv(e,s.Vd)},s.mv=function(e,t){var n=e.f.get(t);return n?n.qd||n.stream:null},ln=function(e,t){var n,i,r,a,o,u,c,l,d;return s.A((function(f){switch(f.a){case 1:return n=s.Tk,s.x(f,e.b.M.clear(n.TEXT),2);case 2:return e.w++,e.B=!1,i=e.w,r=e.b.M,a=new Map,o=new Set,a.set(n.TEXT,t),o.add(t),s.x(f,r.init(a,!1),3);case 3:return e.g?f["return"]():s.x(f,bn(e,o),4);case 4:if(e.g)return f["return"]();u=r.getTextDisplayer().isTextVisible()||e.h.alwaysStreamText,e.w!=i||e.f.has(n.TEXT)||e.B||!u||(c=e.b.Xa(),l=On(e,c),d=mn(t,l,0),e.f.set(n.TEXT,d),Un(e,d,0)),s.y(f)}}))},dn=function(e,t,n,i){t.video&&s.vv(e,t.video,n,i),t.audio&&s.vv(e,t.audio,n,i)},s.vv=function(e,t,n,i){var r=e.f.get(t.type);if(!r&&t.type==s.k&&e.h.ignoreTextStreamFailures)ln(e,t);else if(r){var a=Ln(e,t);if(n&&a!=r.eb)e.a.debug("switch: switching to stream in another Period; clearing buffer and changing Periods"),e.f.forEach((function(t){pn(e,t)}));else{r.qd&&(e.a.debug("switch during trick play mode",t),t.trickModeVideo?(r.qd=t,t=t.trickModeVideo,e.a.debug("switch found trick play stream",t)):(r.qd=null,e.a.debug("switch found no special trick play stream")));var o=e.i[a];if(o&&o.mc&&(o=e.j.get(t.id))&&o.mc)if(r.stream!=t){o=e.c.presentationTimeline.getDuration();var u=e.b.Xa();u=kn(e,r,u),!n&&(r.endOfStream||u>=o)?e.a.debug(S+Fn(r)+" already buffered to the end. Not switching."):(t.type==s.k&&_e(e.b.M,s.eg(t.mimeType,t.codecs)),r.stream=t,r.gd=!0,e.a.debug("switch: switching to Stream "+Fn(r)),fn(e,r,a)&&(e.a.info("Aborting current segment request to switch."),r.Ec.abort()),n&&(r.Db?r.td=!0:r.ub?(r.Bb=!0,r.Uc=i,r.td=!0):(Bn(r),_n(e,r,!0,i))))}else e.a.debug(S+Fn(r)+" already active")}}},fn=function(e,t,n){if(!t.Ec)return!1;var i=e.b.Xa(),r=e.b.M.da(t.type);if(n=(n=En(e,t,i,r,n))&&n.ga?n.ga-n.ta:null,null==n)return!1;var a=t.stream.initSegmentReference;return a&&(n+=(a.ga?a.ga-a.ta:null)||0),a=e.b.Od().getBandwidthEstimate(),8*n/a<(null===r?0:r-i)-Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal)||(e=t.Ec,e=e.f?e.f.bytesRemaining:-1,0>e||e>n)},hn=function(e){function t(t){return e.b.M.Kb(t,n,i)}var n=e.b.Xa(),i=e.h.smallGapLimit,r=!1,a=On(e,n);if(s.Wj(e.f.values(),(function(e){return e.eb==a})))for(var o=s.u(e.f.keys()),u=o.next();!u.done;u=o.next())u=u.value,t(u)||(pn(e,e.f.get(u)),r=!0);else s.Wj(e.f.keys(),t)||(e.a.debug("(all): seeked: unbuffered seek: clearing all buffers"),e.f.forEach((function(t){pn(e,t)})),r=!0);r||e.a.debug("(all): seeked: buffered seek: presentationTime="+n)},pn=function(e,t){var n=Fn(t);t.Db?e.a.debug(n,"clear: already clearing the buffer"):t.Bb?e.a.debug(n,"clear: already waiting"):t.ub?(e.a.debug(n,"clear: currently updating"),t.Bb=!0,t.Uc=0):null==e.b.M.Ra(t.type)?(e.a.debug(n,"clear: nothing buffered"),null==t.jb&&Un(e,t,0)):(e.a.debug(n,"clear: handling right now"),Bn(t),_n(e,t,!1,0))},gn=function(e,t,n,i,r){var a,o,u,c,l,d,f;return s.A((function(h){return 1==h.a?(a=e.b.Xa(),o=On(e,a),u=s.Tk,c=new Map,l=new Set,t&&(c.set(u.AUDIO,t),l.add(t)),n&&(c.set(u.VIDEO,n),l.add(n)),i&&(c.set(u.TEXT,i),l.add(i)),d=e.b.M,f=e.h.forceNativeTS,s.x(h,d.init(c,f),2)):3!=h.a?e.g?h["return"]():(yn(e),s.x(h,bn(e,l),3)):e.g?h["return"]():(c.forEach((function(t,n){if(!e.f.has(n)){var i=mn(t,o,r);e.f.set(n,i),Un(e,i,0)}})),void s.y(h))}))},mn=function(e,t,n){return{stream:e,type:e.type,jc:null,bb:null,qd:null,gd:!0,eb:t,endOfStream:!1,ub:!1,jb:null,Bb:!1,Uc:0,td:!1,Db:!1,le:!1,ic:!1,Of:n||0,Ec:null,Zc:!1}},vn=function(e,t){var i=e.i[t];if(i)return e.a.debug("(all) Period "+t+n),i.promise;e.a.debug("(all) setting up Period "+t),i={promise:new s.gj,mc:!1},e.i[t]=i;for(var r=new Set,a=s.u(e.c.periods[t].variants),o=a.next();!o.done;o=a.next())o=o.value,o.video&&r.add(o.video),o.video&&o.video.trickModeVideo&&r.add(o.video.trickModeVideo),o.audio&&r.add(o.audio);for(a=s.u(e.c.periods[t].textStreams),o=a.next();!o.done;o=a.next())r.add(o.value);return e.v=e.v.then((function(){return e.g?null:bn(e,r)})).then((function(){e.g||(e.i[t].promise.resolve(),e.i[t].mc=!0,e.a.debug("(all) setup Period "+t))}))["catch"]((function(n){e.g||(e.i[t].promise["catch"]((function(){})),e.i[t].promise.reject(),delete e.i[t],e.a.warn("(all) failed to setup Period "+t),e.b.onError(n))})),i.promise},bn=function(e,t){var i,r,a,o,u,c,l,d,f,h,p;return s.A((function(g){switch(g.a){case 1:for(i=[],r=s.u(t),a=r.next();!a.done;a=r.next())o=a.value,(u=e.j.get(o.id))?(e.a.debug("(all) Stream "+o.id+n),i.push(u.promise)):(e.a.debug("(all) setting up Stream "+o.id),e.j.set(o.id,{promise:new s.gj,mc:!1}),i.push(o.createSegmentIndex()));return s.Ae(g,2),s.x(g,Promise.all(i),4);case 4:if(e.g)return g["return"]();s.Be(g,3);break;case 2:if(c=s.Ce(g),e.g)return g["return"]();for(l=s.u(t),a=l.next();!a.done;a=l.next())d=a.value,e.j.get(d.id).promise["catch"]((function(){})),e.j.get(d.id).promise.reject(),e.j["delete"](d.id);throw c;case 3:for(f=s.u(t),a=f.next();!a.done;a=f.next())h=a.value,p=e.j.get(h.id),p.mc||(p.promise.resolve(),p.mc=!0,e.a.debug("(all) setup Stream "+h.id));s.y(g)}}))},yn=function(e){var t=e.c.presentationTimeline.getDuration();1/0>t?e.b.M.Ab(t):e.b.M.Ab(Math.pow(2,32))},wn=function(e,t){if(!e.g){var n=Fn(t);if(!t.ub&&null!=t.jb&&!t.Db)if(t.jb=null,t.Bb)e.a.debug(n,"skipping update and clearing the buffer"),_n(e,t,t.td,t.Uc);else{try{var i=Tn(e,t);null!=i&&(Un(e,t,i),t.ic=!1)}catch(r){return void Kn(e,r)}i=Array.from(e.f.values()),Dn(e,t),e.o&&i.every((function(e){return e.endOfStream}))&&(e.a.debug(n,"calling endOfStream()..."),e.b.M.endOfStream().then((function(){if(!e.g&&!e.c.presentationTimeline.Nb()){var t=e.b.M.getDuration();t<e.c.presentationTimeline.getDuration()&&e.c.presentationTimeline.Ab(t)}})).then((function(){e.b.xf()})))}}},Tn=function(e,t){function n(e){return e.type==s.k&&e.stream.mimeType==s.Cb}if(n(t))return e.b.M.rd(t.stream.originalId||""),null;var i=Fn(t),r=e.b.Xa(),a=kn(e,t,r);e.a.debug(i,"timeNeeded="+a);var o=Ln(e,t.stream),u=On(e,a),c=e.b.M.qa(t.type,r);e.a.debug(i,"update_:",y+r,"bufferedAhead="+c);var l=Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.l,d=e.c.presentationTimeline.Nb()?s.Kn(e.c.presentationTimeline):e.c.presentationTimeline.getDuration();if(a>=d&&!t.Zc)return Sn(e,t),null;if(t.endOfStream=!1,t.eb=u,u!=o)return e.a.debug(i,"need Period "+u,y+r,"timeNeeded="+a,"currentPeriodIndex="+o),null;if(c>=l)return e.a.debug(i,"buffering goal met"),e.h.bufferLimitUpdateInterval||.5;if(u=e.b.M.da(t.type),u=En(e,t,r,u,o),!u)return e.c.presentationTimeline.isLive()||t.type===s.k?e.h.bufferLimitUpdateInterval||1:(e.a.debug("Media state "+i+": no next segment found. Assuming EOS."),Sn(e,t),null);var f=1/0;return Array.from(e.f.values()).forEach((function(t){n(t)||(t=kn(e,t,r),f=Math.min(f,t))})),a>=f+e.c.presentationTimeline.a?e.h.bufferLimitUpdateInterval||1:(t.Of=0,In(e,t,r,o,u),null)},Sn=function(e,t){if(e.a.debug(Fn(t),"buffered to end of presentation"),t.endOfStream=!0,t.type==s.Vd){var n=e.f.get(s.k);n&&n.stream.mimeType==s.Cb&&(n.endOfStream=!0)}},kn=function(e,t,n){return t.jc&&t.bb?(n=Ln(e,t.jc),e.c.periods[n].startTime+t.bb.endTime):Math.max(n,t.Of)},En=function(e,t,n,i,r){var a=Fn(t);return t.bb&&t.stream==t.jc?(i=t.bb.position+1,e.a.debug(a,"next position known:","position="+i),xn(e,t,r,i)):(t.bb?(e.a.debug(a,"next position unknown: another Stream buffered"),a=Ln(e,t.jc),a=An(e,t,e.c.periods[a].startTime+t.bb.endTime,r)):(e.a.debug(a,"next position unknown: nothing buffered"),a=An(e,t,i||n,r)),null==a?null:(n=null,null==i&&(n=xn(e,t,r,Math.max(0,a-1))),n||xn(e,t,r,a)))},An=function(e,t,n,i){var r=Fn(t);return i=e.c.periods[i],e.a.debug(r,"looking up segment:",y+n,v+i.startTime),n=Math.max(0,n-i.startTime),t=t.stream.findSegmentPosition(n),null==t&&e.a.warn(r,"cannot find segment:",v+i.startTime,"lookupTime="+n),t},xn=function(e,t,n,i){var r=Fn(t);n=e.c.periods[n];var a=t.stream.getSegmentReference(i);if(!a)return e.a.debug(r,"segment does not exist:",v+n.startTime,"position="+i),null;var o=e.c.presentationTimeline;return i=s.Ln(o),o=s.Kn(o),!t.Zc&&(n.startTime+a.endTime<i||n.startTime+a.startTime>o)?(e.a.debug(r,"segment is not available:",v+n.startTime,T+a.startTime,w+a.endTime,"availabilityStart="+i,"availabilityEnd="+o),null):a},In=function(e,t,n,i,r){function o(i,a){return e.g||e.m?null:(h=!0,Pn(e,t,n,c,l,r,i,a))}var u=Fn(t),c=e.c.periods[i];e.a.debug(u,"fetchAndAppend_:",y+n,v+c.startTime,"reference.position="+r.position,T+r.startTime,w+r.endTime);var l=t.stream,d=e.c.presentationTimeline.getDuration(),f=e.c.periods[i+1];i=Mn(e,t,i,Math.max(0,c.startTime-.1),f?f.startTime+.01:d),t.ub=!0,t.gd=!1,e.a.debug(u,"fetching segment");var h=!1;i.then((function(){return e.g||e.m?null:jn(e,t,r,!1,(function(e){return o(e.data,!0)}))})).then((function(t){return h||e.g||e.m||null===t?null:o(t,!1)})).then((function(){e.g||e.m||(t.ub=!1,t.le=!1,t.Bb||e.b.jd(),Un(e,t,0),Nn(e,t,l),e.a.debug(u,"finished fetch and append"))}))["catch"]((function(n){if(!e.g&&!e.m)if(t.ub=!1,t.type==s.k&&e.h.ignoreTextStreamFailures)1001==n.code?e.a.warn(u,"Text stream failed to download. Proceeding without it."):e.a.warn(u,"Text stream failed to parse. Proceeding without it."),e.f["delete"](s.k);else if(7001==n.code)t.ub=!1,t.jb=null,Un(e,t,0);else if(3017==n.code)Cn(e,t,n);else if(t.type===s.k)n instanceof s.J&&n.ib(1),Bn(t),e.b.onError(new s.J(1,2,2010,n));else if(1001<=n.code&&1003>=n.code){var i=!0;1001===n.code&&500<=n.data.status||(i=a(e.b.Ae)===s.Bc&&!e.b.Ae(t.stream)),i&&(t.ic=!0,n.ib(s.K),Kn(e,n))}else e.a.error(u,"failed fetch and append: code="+n.code),t.ic=!0,n instanceof s.J&&n.ib(s.K),Kn(e,n)}))},Cn=function(e,t,n){var i=Fn(t);if(Array.from(e.f.values()).some((function(e){return e!=t&&e.le})))e.a.debug(i,o,"waiting for another stream to recover...");else{var r=Math.round(100*e.l);if(20<r)e.l-=.2;else{if(!(4<r))return e.a.error(i,"MediaSource threw QuotaExceededError too many times"),t.ic=!0,e.m=!0,void e.b.onError(n);e.l-=.04}e.a.warn(i,o,"reducing buffering goals by "+(100-Math.round(100*e.l))+"%"),t.le=!0}Un(e,t,4)},Mn=function(e,t,n,i,r){if(!t.gd)return Promise.resolve();var a=Fn(t);return n=e.c.periods[n].startTime-(t.stream.presentationTimeOffset||0),e.a.debug(a,"setting timestamp offset to "+n),e.a.debug(a,"setting append window start to "+i),e.a.debug(a,"setting append window end to "+r),i=He(e.b.M,t.type,n,i,r),t.stream.initSegmentReference?(e.a.debug(a,"fetching init segment"),r=jn(e,t,t.stream.initSegmentReference,!0).then((function(n){return e.g?null:(e.a.debug(a,"appending init segment"),Fe(e.b.M,t.type,n,null,null,t.stream.closedCaptions&&0<t.stream.closedCaptions.size))}))["catch"]((function(e){return t.gd=!0,Promise.reject(e)})),Promise.all([i,r])):i},Pn=function(e,t,n,i,r,a,o,u){u=void 0!==u&&u;var c=Fn(t),l=r.closedCaptions&&0<r.closedCaptions.size;null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length&&(new s.gh).W("emsg",e.C.bind(e,i,a,r.emsgSchemeIdUris)).parse(o);var d=0;return Rn(e,t,n).then((function(){if(e.g)return null;e.a.debug(c,"appending media segment");var n=a.startTime+i.startTime,s=a.endTime+i.startTime;return d=e.b.M.da(t.type)||0,Fe(e.b.M,t.type,o,n,s,l,r.id,u)})).then((function(){if(!e.g){if(e.a.debug(c,"appended media segment"),!e.c.presentationTimeline.isLive()&&t.type!==s.k){var n=(e.b.M.da(t.type)||0)-d;e.a.debug(c,"real segment duration",n);var i=a.endTime-a.startTime;n-=i,Math.abs(n)>=Math.min(.01,i)&&Math.abs(n)<=Math.min(1,i)&&(t.Zc=!0,r.adjustSegmentDurations(a.position,n))}t.jc=r,t.bb=a}}))},Rn=function(e,t,n){if(e.g)return Promise.resolve();var i=Fn(t);e.a.debug(i,"checking buffer length");var r=Math.max(e.h.bufferBehind,e.c.presentationTimeline.a),a=e.b.M.Ra(t.type);if(null==a)return e.a.debug(i,"buffer behind okay because nothing buffered:",y+n,h+r),Promise.resolve();var o=n-a,s=o-r;return 0>=s?(e.a.debug(i,"buffer behind okay:",y+n,p+o,h+r,"underflow="+-s),Promise.resolve()):(e.a.debug(i,"buffer behind too large:",y+n,p+o,h+r,"overflow="+s),e.b.M.remove(t.type,a,a+s).then((function(){e.g||e.a.debug(i,"evicted "+s+" seconds")})))},Nn=function(e,t,n){if(!e.o){var i=Fn(t);if(t=Array.from(e.f.values()),1!=t.length||t[0].type!=s.k?e.o=t.every((function(t){return!(t.type!=s.k&&!e.s)||!t.Bb&&!t.Db&&t.bb})):e.s&&(e.o=!0),e.o){for(e.a.debug(i,"startup complete"),n=Ln(e,n),e.i[n]||vn(e,n).then((function(){e.g||(e.a.debug(i,g),e.b.de())}))["catch"](s.Dk.Dc),n=0;n<e.c.periods.length;++n)vn(e,n)["catch"](s.Dk.Dc);e.b.ej&&(e.a.debug(i,"calling onStartupComplete()..."),e.b.ej())}}},Dn=function(e,t){var n=Fn(t),i=Ln(e,t.stream);if(t.eb!=i){var r=t.eb,a=Array.from(e.f.values());a.every((function(e){return e.eb==r}))?a.every(Hn)?(e.a.debug(n,"all need Period "+r),vn(e,r).then((function(){if(!e.g)if(a.every((function(t){var n=Hn(t),i=Ln(e,t.stream);return n&&t.eb==r&&i!=r}))){var t=e.c.periods[r];e.a.debug(n,"calling onChooseStreams()...");var i=e.b.ee(t);e.s=!i.variant&&!!i.text;var o=new Map;i.variant&&i.variant.video&&o.set(s.Vd,i.variant.video),i.variant&&i.variant.audio&&o.set(s.Lb,i.variant.audio),i.text&&o.set(s.k,i.text);var u=s.u(e.f.keys());for(i=u.next();!i.done;i=u.next())if(i=i.value,!o.has(i)&&i!=s.k)return e.a.error(n,"invalid Streams chosen: missing "+i+" Stream"),void e.b.onError(new s.J(s.K,5,5005));for(u=s.u(Array.from(o.keys())),i=u.next();!i.done;i=u.next())if(i=i.value,!e.f.has(i)){if(i!=s.k)return e.a.error(n,"invalid Streams chosen: unusable "+i+" Stream"),void e.b.onError(new s.J(s.K,5,5005));gn(e,null,null,o.get(s.k),t.startTime),o["delete"](i)}for(t=s.u(Array.from(e.f.keys())),i=t.next();!i.done;i=t.next())i=i.value,(u=o.get(i))?(s.vv(e,u,!1,0),Un(e,e.f.get(i),0)):e.f["delete"](i);e.a.debug(n,g),e.b.de()}else e.a.debug(n,"ignoring transition to Period",r,"since another is happening")}))["catch"](s.Dk.Dc)):e.a.debug(n,"all MediaStates need Period "+r+", but not all MediaStates are idle"):e.a.debug(n,"not all MediaStates need Period "+r)}},On=function(e,t){var n=L(e.c.periods,t+s.to);return n?e.c.periods.indexOf(n):0},Ln=function(e,t){for(var n=e.c.periods,i=0;i<n.length;i++){for(var r=n[i],a=new Set,o=s.u(r.variants),u=o.next();!u.done;u=o.next())u=u.value,u.audio&&a.add(u.audio),u.video&&a.add(u.video),u.video&&u.video.trickModeVideo&&a.add(u.video.trickModeVideo);for(r=s.u(r.textStreams),o=r.next();!o.done;o=r.next())a.add(o.value);if(a.has(t))return i}return-1},jn=function(e,t,n,i,r){i=void 0!==i&&i,r=void 0===r?null:r;var a=s.Ym(n.za(),n.ta,n.ga,e.h.attemptParameters,n.startTime,n.endTime,t.type,n.timescale);return a.type=s.lo,a.onFragment=n.ec?null:r,(r=n.a())&&(a.keyInfo=r,a.onFragment=null),i&&t.type===s.Vd&&e.h.overridePasp&&a.responseModifiers.push(e.G.bind(e)),e.a.debug("fetching: reference=",n),n=e.b.Pb.fetch(a),t.Ec=n,n.promise.then((function(n){var r=e.b.Od(),a=n.timeMs,o=n.data.byteLength;return a&&o&&!i&&r.segmentDownloaded(a,o),t.Ec=null,n.data}))},_n=function(e,t,n,i){var r,a,o,u;s.A((function(c){return 1==c.a?(r=Fn(t),t.Bb=!1,t.td=!1,t.Uc=0,t.Db=!0,e.a.debug(r,"clearing buffer"),i?(o=e.b.Xa(),u=e.b.M.getDuration(),a=e.b.M.remove(t.type,o+i,u)):a=e.b.M.clear(t.type).then((function(){return!e.g&&n?e.b.M.flush(t.type):null})),s.x(c,a,2)):e.g?c["return"]():(e.a.debug(r,"cleared buffer"),t.jc=null,t.bb=null,t.Db=!1,t.endOfStream=!1,t.Zc=!1,Un(e,t,0),void s.y(c))}))},Un=function(e,t,n){e.a.debug(Fn(t),"updating in "+n+" seconds"),t.jb=new s.Df((function(){wn(e,t)})).P(n)},Bn=function(e){null!=e.jb&&(e.jb.stop(),e.jb=null)},Kn=function(e,t){e.g||(e.b.onError(t),a(e.h.failureCallback)!==s.Bc||e.h.failureCallback(t))},Fn=function(e){return"("+e.type+":"+e.stream.id+")"},Hn=function(e){return!e.ub&&null==e.jb&&!e.Bb&&!e.Db},Vn=function(t){s.Gj.call(this,m);var n=this;this.m=Gi,this.f=null,this.Dd=0,this.gf=2,this.sc=null,this.pc=!1,this.h=new s.ei,this.Nc=this.qc=this.Qa=this.i=this.s=this.g=null,this.Kd=!1,this.c=this.a=this.o=this.b=this.ua=this.B=null,this.rf=1e9,this.Rc=new Set,this.C=!0,this.R=null,this.lf=!1,this.jf=0,this.K=null,this.G=new kt,this.qf={width:1/0,height:1/0},this.v=null,this.U=s.qn,this.Pa=new Rt(this.configuration.preferredAudioLanguage,this.configuration.preferredAudioRole,this.configuration.preferredAudioChannelCount),this.pa=this.configuration.preferredTextLanguage,this.Y=this.Qc=null,this.rc=[],this.S=null,this.oc=this.configuration.preferredTextRole,t&&t(this),this.Cd=null,this.h.on(e,"online",(function(){if(n.m==Ji){var e=n.b;if(e.g)e.a.error("Unable to retry after StreamingEngine is destroyed!");else if(e.m)e.a.error("Unable to retry after StreamingEngine encountered a fatal error!");else for(var t=s.u(e.f.values()),i=t.next();!i.done;i=t.next()){i=i.value;var r=Fn(i);i.ic&&(e.a.info(r,"Retrying after failure..."),i.ic=!1,Un(e,i,.1))}}}))},qn=function(e){return new s.Hs((function(t){if(void 0===t||null===t)return null;var n=e.getTrackManager(),i=[];return n&&n.getVideoTracks().forEach((function(e){return i.push.apply(i,s.ne(e.renditions))})),i.find((function(e){return e.id==t}))||null}))},Wn=function(e,t){if(e.U!==t)if(e.U===s.Wk&&t!==s.qn){var n=R(t,s.yn);e.log.info(s.Wr+n)}else{n=e.Dd,n=0===n?0:Date.now()-n;var i=e.U;e.U=t,e.Dd=Date.now(),e.v&&s.Hk(e.v.a,e.U),t===s.un&&(e.gf=e.xd?1:2);var r=e.gf,a={currentState:e.U,previousState:i,timeSinceLastStateChangeMS:n,reason:t===s.un||i===s.un?r:void 0},o=R(i,s.yn),u=R(t,s.yn),c=t!==s.un?"":"["+R(r,s.xn)+"]";e.log.info(s.Ia+o+" -> "+(u+c)),e.trigger(new s.O(s.Bd,{detail:a})),t===s.un?e.trigger(new s.O(s.Ub,{detail:{bufferedTimeMS:-1,reason:r}})):i===s.un&&e.trigger(new s.O(s.Tb,{detail:{bufferedTimeMS:n,reason:r}}))}},Gn=function(e){var t,n=!1;return n=void 0===n||n,s.A((function(i){switch(i.a){case 1:return e.m==Wi?i["return"](Promise.reject(new s.J(s.K,7,7e3))):s.x(i,zn(e),2);case 2:return s.x(i,Yn(e),3);case 3:if(!n){i.A(0);break}return t=e.getSurface().F(),s.x(i,Jn(e,t),5);case 5:return s.x(i,Xn(e,t),0)}}))},Jn=function(e,t){return e.f||(e.h.on(t,s.yc,(function(){if(e.f.error){var t=e.f.error.code;if(1==t)t=null;else{var n=e.f.error.msExtendedCode;n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),t=new s.J(s.K,3,3016,{code:t,extendedError:n,message:e.f.error.message})}}else t=null;t&&e.onError(t)})),e.f=t),Promise.resolve()},zn=function(e){return e.f&&(e.h.off(e.f,s.yc),e.f=null),Promise.resolve()},Yn=function(e){var t;return s.A((function(n){switch(n.a){case 1:if(e.m!=Wi&&(e.m=Gi),(t=e.f)&&(e.h.off(t,s.Nc),e.h.off(t,s.id),e.h.off(t,s.ed),e.h.off(t,s.xc),e.h.off(t,s.md),e.h.off(t,s.ld)),e.Qa&&(e.Qa.release(),e.Qa=null),e.Nc&&(e.Nc.stop(),e.Nc=null),!e.o){n.A(2);break}return s.x(n,e.o.stop(),3);case 3:e.o=null;case 2:if(!e.c){n.A(4);break}return s.x(n,e.c.stop(),4);case 4:if(!e.b){n.A(6);break}return s.x(n,e.b.destroy(),7);case 7:e.b=null;case 6:if(e.i&&(e.i.release(),e.i=null),!e.s){n.A(8);break}return s.x(n,e.s.destroy(),9);case 9:e.s=null;case 8:if(t&&t.src&&(t.removeAttribute("src"),t.load()),!e.g){n.A(10);break}return s.x(n,e.g.destroy(),11);case 11:e.g=null;case 10:e.G.clear(),e.B=null,e.Rc.clear(),e.a=null,e.v=null,e.C=!0,e.rc=[],e.Kd=!1,Si(e),s.y(n)}}))},Xn=function(t,n){var i,r,a;return s.A((function(o){if(1==o.a)return i=e.muxjs?new Me:new s.tt,r=s.Pf(t.configuration,["html",s.yd]),t.J=r.create(t),t.sc=qn(t),t.sc.track(t),a=new s.At(n,i,t.J,t.sc,t.configuration.streaming.maxSegmentToMediaOffset),s.x(o,a.v,2);t.s=a,s.y(o)}))},$n=function(e,t){var n,i;return s.A((function(r){if(1==r.a)return n=e.getNetworkEngine(),i=e,s.x(r,s.vo.create(t.url,n,e.configuration.manifest.attemptParameters,t.type),2);i.o=r.b,e.o.configure(e.configuration.manifest),s.y(r)}))},Qn=function(e,t){var n,i,r;return s.A((function(a){return n=e.getNetworkEngine(),e.ua=new K,F(e.ua,(function(t){Ri(e,s.pi,t)})),i={networkingEngine:n,filterNewPeriod:function(t){return e.Md(t)},filterAllPeriods:function(t){return vi(e,t)},onTimelineCueAdded:function(t){var n=e.ua;e:{for(var i=s.u(n.a),r=i.next();!r.done;r=i.next())if(r=r.value,r.schemeIdUri===t.schemeIdUri&&r.startTime===t.startTime&&r.endTime===t.endTime){i=r;break e}i=null}null==i&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.Fd(t)},onError:function(t){return e.onError(t)}},r=new s.Yk(Promise.resolve().then((function(){var n;return s.A((function(r){if(1==r.a)return n=e,s.x(r,e.o.start(t.url,i),2);if(n.a=r.b,!e.a.presentationTimeline||s.C.H(e.configuration.suggestedPresentationDelay)||isNaN(e.configuration.suggestedPresentationDelay)||(e.log.info("Apply suggested presentation delay of: "+e.configuration.suggestedPresentationDelay),e.a.presentationTimeline.s=e.configuration.suggestedPresentationDelay),e.a.presentationTimeline&&(e.a.presentationTimeline.o=!!e.configuration.lowLatencyMode),0==e.a.periods.length)throw new s.J(s.K,4,4014);ti(e.a.periods),s.y(r)}))})),(function(){return e.log.info("Aborting parser step..."),e.o.stop()})),s.x(a,r.promise,0)}))},Zn=function(e){var t,n,i,r,a;return s.A((function(o){switch(o.a){case 1:if(e.g=new s.bk({Pb:e.getNetworkEngine(),onError:function(t){return e.onError(t)},fe:function(t){return Ni(e,t)},onExpirationUpdated:function(t,n){e.o&&e.o.onExpirationUpdated&&e.o.onExpirationUpdated(t,n),e.trigger(new s.O(s.pc,{expirationTime:n}))},onEvent:function(t){return e.Fd(t)},getConfiguration:function(){return e.getConfiguration()}}),e.g.f=s.Uk(e.configuration.drm),n=(t=e.configuration.drm)&&t.offlineId||"",i=[],r=s.Em(e.a.periods),!n){o.A(2);break}if(a=s.bl(s.cc),!a){o.A(2);break}return s.x(o,a.kj(t,r,e.getNetworkEngine()),4);case 4:return s.x(o,a.$h(n),5);case 5:i=o.b;case 2:return s.x(o,s.gk(e.g,r,i),6);case 6:vi(e,e.a.periods),s.y(o)}}))},ei=function(e){var t,n,i,r,a,o,u,c;return s.A((function(l){return 1==l.a?(t=e.f,n=function(t){e.f&&e.B&&(t.type===s.ud&&e.Kc?(e.B.a=Vi,Si(e)):oi(e)),ki(e)},i=function(){if(e.f){var t=e.f.playbackRate;0!=t&&e.qc.set(t)}},e.h.on(t,s.id,n),e.h.on(t,s.ed,n),e.h.on(t,s.xc,n),e.h.on(t,s.ud,n),e.h.on(t,s.td,n),e.h.on(t,s.ld,n),e.h.on(t,s.md,i),e.c||(e.c=new s.wu,e.c.configure(e.configuration.abr)),mi(e,e.a.periods),e.Pa=new Rt(e.configuration.preferredAudioLanguage,e.configuration.preferredAudioRole,e.configuration.preferredAudioChannelCount),e.pa=e.configuration.preferredTextLanguage,e.oc=e.configuration.preferredTextRole,s.x(l,s.rk(e.g,t),2)):3!=l.a?(e.c.init((function(t,n,i){!e.C&&Ci(e,t,n,i)})),e.i=ii(e,e.configuration.startTime),e.Qa=ri(e),e.qc=new _t({Rd:function(){return t.playbackRate},Pf:function(e){t.playbackRate=e},pi:function(e){t.currentTime+=e}}),r=Math.max(1e-4,e.configuration.streaming.rebufferingGoal),ai(e,r),e.b=si(e),e.b.h=e.configuration.streaming,ni(e),e.m=Ji,s.x(l,e.b.start(),3)):(e.configuration.streaming.startAtSegmentBoundary&&(a=en(e.i),o=wi(e,a),Jt(e.i.f,o)),e.a.periods.forEach(e.Md.bind(e)),Mi(e),u=ji(e),c=u.variants.some((function(e){return e.primary})),e.configuration.preferredAudioLanguage||c||e.log.warn("No preferred audio language set.  We will choose an arbitrary language initially"),Ei(e,u.variants),e.h.one(t,s.Nc,(function(){e.v.i=Date.now()/1e3-(null===e.Cd?0:e.Cd)})),void s.y(l))}))},ti=function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.some((function(e){return e.variants.some(t)}))&&(s.I("Found variant with audio and video content, so filtering out audio-only content in all periods."),e.forEach((function(e){e.variants=e.variants.filter(t)})))},ni=function(e){function t(e){var t="";e.video&&(t=s.fg(e.video.codecs)[0]);var n="";return e.audio&&(n=s.fg(e.audio.codecs)[0]),t+"-"+n}var n=e.a.periods.reduce((function(e,t){return e.concat(t.variants)}),[]);if(n=tt(n,e.configuration.preferredAudioChannelCount),1<e.a.periods.length){var i=function(e){e=e.split(".");var t=e[0];return 1<e.length&&(t+="."+e[1]),t.toLowerCase()},r=[];e.a.periods.forEach((function(e){var t=new Set;e.variants.forEach((function(e){t.add(i(e.audio.codecs))})),r.push(t)}));for(var a=r[0],o={},u=1;u<r.length;o={ud:o.ud},u++)o.ud=r[u],a=new Set(s.ne(a).concat().filter(function(e){return function(t){return e.ud.has(t)}}(o)));n=n.filter((function(e){return a.has(i(e.audio.codecs))}))}var c=new s.bi;n.forEach((function(e){var n=t(e);c.push(n,e)}));var l=null,d=1/0;c.forEach((function(t,n){var i=0,r=0;n.forEach((function(e){i+=e.bandwidth||0,++r}));var a=i/r;e.log.debug(s.gc,t,"avg bandwidth",a),a<d&&(l=t,d=a)})),e.a.periods.forEach((function(n){n.variants=n.variants.filter((function(n){return t(n)==l||(e.log.debug("Dropping Variant (better codec available)",n),!1)}))}))},ii=function(e,t){return new Zt(e.f,e.a,e.configuration.streaming,t,(function(){e.Qa&&W(e.Qa,!0),e.b&&hn(e.b)}),(function(t){return e.dispatchEvent(t)}))},ri=function(e){var t=new Lt(e.a);jt(t,(function(){Mi(e)}));var n=new H(e.ua);V(n,(function(t){Ri(e,s.qi,t)}),(function(t){Ri(e,s.ri,t)}),(function(t,n){n||(Ri(e,s.qi,t),Ri(e,s.ri,t))}));var i=new q(e.f);return i.a.add(t),i.a.add(n),i},ai=function(e,t){e.B=new Ot(t,Math.min(.5,t/2)),e.B.a=Vi,Si(e),e.Nc=new s.Ef((function(){oi(e)})).Ea(.25)},oi=function(e){switch(e.m){case Ji:e:if(e.f.ended||Ue(e.s))var t=!0;else{if(e.a.presentationTimeline.isLive()){t=s.Kn(e.a.presentationTimeline);var n=e.getBufferInfo();if(null!==n&&(n=n.da(),null!==n&&n>=t)){t=!0;break e}}t=!1}break;default:t=!1}var i=0;if(e.s){var r=Be(e.s);n=r.video,r=r.audio;var a=e.f.currentTime;(n||r)&&(i=n&&r?Math.min(n.qa(a),r.qa(a)):n?n.qa(a):r.qa(a))}n=e.B,r=i,a=t;var o=n.b.get(n.a);i=n.a,r=a||r>=o?qi:Vi,n.a=r,n=i!=r,i=Ti(e),e.log.debug("Buffering state change",n,"is buffering",i,"buffered to end",t,"state",e.getState()),n||e.getState()===s.un&&!i?Si(e):e.Kd&&ki(e)},si=function(e){var t={Xa:function(){return en(e.i)},M:e.s,Pb:e.getNetworkEngine(),ee:e.ah.bind(e),de:e.$g.bind(e),onError:e.onError.bind(e),xf:e.Mi.bind(e),onEvent:e.Fd.bind(e),Cf:e.bh.bind(e),jd:e.Zi.bind(e),Od:function(){return e.c},Ae:e.lg.bind(e)};return new s.kv(e.a,t)},ui=function(e){if(e.a&&e.i){var t=_i(e),n=[];e=s.u(Oi(e));for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=Qe(i);r.active=i==t,n.push(r)}return n}return[]},ci=function(e,t){if(e.a&&e.b){var n=ji(e),i=n.textStreams.find((function(e){return e.id==t.id}));i?(gi(e,n,i,!1),yi(e,i),e.pa=i.language):e.log.error(s.Tr,t.id)}},li=function(e,t,n){var i=void 0===i?0:i;if(e.a&&e.b){var r=ji(e);if(e.configuration.abr.enabled&&t)e.log.info("Disable ABR and enable manual track selection to select "+t.width+"x"+t.height+"@"+t.bandwidth),e.configuration.abr.enabled=!1,e.c.disable();else if(!e.configuration.abr.enabled&&!t)return e.log.info("Enable ABR Selection"),e.configuration.abr.enabled=!0,e.c.enable(),e.Y=null,n=Ei(e,r.variants),null!=e.S&&(e.Pa=e.S,e.S=null),void(null==n||e.C||Ci(e,n));if(t){e.Y=t.id;var a=r.variants.find((function(e){return e.id==t.id}));a?(e.Y=a.video.id,et(a)?(pi(e,r,a,!1),bi(e,a,n,i),null==e.S&&(e.S=e.Pa),e.Pa=new Pt(a),Ei(e,r.variants)):e.log.error("Unable to switch to restricted track",t.id)):e.log.error("No variant with id",t.id)}else e.Y=null,null!=e.S&&(e.Pa=e.S,e.S=null),n=Ei(e,r.variants),null==n||e.C||Ci(e,n)}},di=function(e,t){if(e.b){var n=cn(e.b),r=un(e.b),a=L(e.a.periods,en(e.i));a=e.a.periods[a?e.a.periods.indexOf(a):0].variants.filter((function(e){return e.audio.id==t}));var o=a.find((function(e){return e.video.id==n.id}));if(!o){e.log.debug("Cannot find exact variant, looking for anything else that matches with given audioId");var s=e.getTrackManager().ja();if(s){var u=s.renditions.map((function(e){return e.id}));o=a.find((function(e){return u.find((function(t){return t==e.video.id}))}))}}if(o){if(r.codecs.split(".")[0]===o.audio.codecs.split(".")[0])return e.Qc=t,Ai(e,ji(e)),void Promise.resolve();e.log.warn(i)}}Promise.reject()},fi=function(e){var t=e.pc;return e.a?e.s.getTextDisplayer().isTextVisible():t},hi=function(e,t){var n,i,r,a;return s.A((function(o){if(n=e.pc,i=t,n==i)return o["return"]();if(e.pc=i,e.m!=Ji)return o.A(0);if(e.s.getTextDisplayer().setTextVisibility(t),e.configuration.streaming.alwaysStreamText)return o.A(0);if(!t){var u=e.b;u.B=!0;var c=u.f.get(s.k);return c&&(Bn(c),u.f["delete"](s.k)),o.A(0)}return r=ji(e),a=s.Yt(r.textStreams,e.pa,e.oc),0<a.length?s.x(o,ln(e.b,a[0]),0):o.A(0)}))},pi=function(e,t,n,i){var r=e.getTrackManager();if(r){var a=e.v.j;if(n.video){yt(r,n.video,i);var o=r.Z();a.f!==o&&(a.f=o,a.a.push({timestamp:Date.now()/1e3,id:o.id,trackId:o.track.id,type:o.track.type,fromAdaptation:i,width:o.width,height:o.height,bandwidth:o.bandwidth}))}n.audio&&(yt(r,n.audio,i),r=r.ra(),a.b!==r&&(a.b=r,a.a.push({timestamp:Date.now()/1e3,id:r.id,trackId:r.track.id,type:r.track.type,fromAdaptation:i,width:null,height:null,bandwidth:r.bandwidth})))}Et(e.G,t).variant=n},gi=function(e,t,n,i){Et(e.G,t).text=n,(t=e.getTrackManager())&&(yt(t,n,i),n=t.ia(),e=e.v.j,e.c!==n&&(e.c=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,trackId:n.track.id,type:n.track.type,fromAdaptation:i,width:null,height:null,bandwidth:null})))},mi=function(e,t){for(var n=0;n<t.length;n++){for(var i=t[n],r=new Map,a=s.u(i.variants),o=a.next();!o.done;o=a.next())if(o=o.value,o.video&&o.video.closedCaptions){o=o.video;for(var u=s.u(o.closedCaptions.keys()),c=u.next();!c.done;c=u.next())if(c=c.value,!r.has(c)){var l={id:e.rf++,originalId:c,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:s.Cb,codecs:"",kind:"caption",encrypted:!1,keyId:null,language:o.closedCaptions.get(c),label:null,type:s.k,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:o.roles,channelsCount:null,closedCaptions:null};r.set(c,l)}}for(r=s.u(r.values()),a=r.next();!a.done;a=r.next())i.textStreams.push(a.value)}},vi=function(e,t){var n=e.b?un(e.b):null,i=e.b?cn(e.b):null;if(t.forEach(Xe.bind(null,e.g,n,i)),n=D(t,(function(e){return e.variants.some(et)})),0==n)throw new s.J(s.K,4,4032);if(n<t.length)throw new s.J(s.K,4,4011);t.forEach((function(t){Ye(t.variants,e.configuration.restrictions,e.qf)&&e.b&&ji(e)==t&&Mi(e),Di(e,t.variants)}))},bi=function(e,t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.C?(e.R=t,e.lf=n,e.jf=i):dn(e.b,t,n,i)},yi=function(e,t){e.C?e.K=t:s.vv(e.b,t,!0,0)},wi=function(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var i=un(e.b),r=cn(e.b),a=ji(e);return i=n(i,t),r=n(r,t),null!=r&&null!=i?Math.max(r,i):null!=r?r:null!=i?i:t},Ti=function(e){return!(!e.g||!e.g.m)||!!e.B&&e.B.getState()===Vi},Si=function(e){var t=Ti(e);if(e.v&&e.B&&e.i){var n=e.qc;n.f=t,Ut(n),e.i.g.g=t,ki(e)}},ki=function(e){var t=e.getDuration(),n=e.getPosition();e.f&&e.f.ended||e.Kd&&0<n&&t<=n?Wn(e,s.wn):Ti(e)||e.Kc?Wn(e,s.un):e.f&&e.f.paused?Wn(e,s.Cn):Wn(e,s.dn)},Ei=function(e,t){try{Di(e,t)}catch(r){return e.onError(r),null}var n=t.filter((function(e){return et(e)}));n=ct(n,e.Qc);var i=e.Pa.create(n);return e.c.setVariants(Array.from(i.values())),e.configuration.abr.enabled||null===e.Y?e.c.chooseVariant():(n=n.find((function(t){return null!==t.video&&t.video.id===e.Y})),n||(e.log.warn("Selected video track not found. Falling back to ABR selection"),e.c.chooseVariant()))},Ai=function(e,t){var n=Ei(e,t.variants);e.Qc=n&&n.audio&&n.audio.id,n&&(pi(e,t,n,!0),bi(e,n,!0)),(n=s.Yt(t.textStreams,e.pa,e.oc)[0]||null)&&(e.configuration.streaming.alwaysStreamText||fi(e))&&(gi(e,t,n,!0),yi(e,n))},xi=function(e,t){e.C=!0,e.c.disable(),e.log.debug("Choosing new streams after period changed");var n=Ei(e,t.variants),i=s.Yt(t.textStreams,e.pa,e.oc)[0]||null;return e.R&&(t.variants.includes(e.R)&&(n=e.R),e.R=null),e.K&&(t.textStreams.includes(e.K)&&(i=e.K),e.K=null),n&&e.rc.push((function(){return pi(e,t,n,!0)})),i&&e.rc.push((function(){return gi(e,t,i,!0)})),t===ji(e)&&Pi(e),!sn(e.b)&&i&&(Ii(e,i)&&(e.pc=!0),e.pc&&e.s.getTextDisplayer().setTextVisibility(!0)),e.configuration.streaming.alwaysStreamText||fi(e)?{variant:n,text:i}:{variant:n,text:null}},Ii=function(e,t){var n=s.Xm(e.configuration.preferredTextLanguage),i=s.Xm(t.language);return i=s.Xm(i),n=s.Xm(n),i.split("-")[0]==n.split("-")[0]},Ci=function(e,t,n,i){if(n=void 0!==n&&n,i=void 0===i?0:i,e.configuration.abr.enabled){e.log.debug("switch_");e:{for(var r=s.u(e.a.periods),a=r.next();!a.done;a=r.next())if(a=a.value,a.variants.includes(t)){r=a;break e}r=null}pi(e,r,t,!0),e.b&&dn(e.b,t,n,i)}},Mi=function(e){var t=e.getTrackManager();t&&e.m!=Wi&&(t.a&&(mt(t),t.a.trigger(new s.O(s.ko))),Pi(e))},Pi=function(e){for(;e.rc.length;)e.rc.shift()()},Ri=function(e,t,n){e.trigger(new s.O(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))},Ni=function(e,t){if(e.b){var n=ji(e),i=!1,r=Object.keys(t);0==r.length&&e.log.warn("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var a=1==r.length&&"00"==r[0];a&&e.log.warn("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks."),r.length&&n.variants.forEach((function(e){rt(e).forEach((function(n){var r=e.allowedByKeySystem;n.keyId&&(n=t[a?"00":n.keyId],e.allowedByKeySystem=!!n&&!zi.includes(n)),r!=e.allowedByKeySystem&&(i=!0)}))})),r=un(e.b);var o=cn(e.b);(r=it(r,o,n.variants))&&!r.allowedByKeySystem&&(e.log.debug("Choosing new streams after key status changed"),Ai(e,n)),i&&(Mi(e),Ei(e,n.variants))}},Di=function(e,t){var n=e.g?s.C.xe(e.g.Y):{},i=Object.keys(n);i=i.length&&"00"==i[0];for(var r=!1,a=!1,o=[],u=[],c=s.u(t),l=c.next();!l.done;l=c.next()){l=l.value;var d=[];l.audio&&d.push(l.audio),l.video&&d.push(l.video),d=s.u(d);for(var f=d.next();!f.done;f=d.next())if(f=f.value,f.keyId){var h=n[i?"00":f.keyId];h?zi.includes(h)&&(u.includes(h)||u.push(h)):o.includes(f.keyId)||o.push(f.keyId)}l.allowedByApplication?l.allowedByKeySystem&&(r=!0):a=!0}if(!r)throw new s.J(s.K,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:u})},Oi=function(e){return e=ji(e),null==e?[]:e.variants.filter((function(e){return et(e)}))},Li=function(e){var t=ji(e);return null==t?[]:t.textStreams.filter((function(t){return!e.Rc.has(t)}))},ji=function(e){var t=en(e.i),n=null;e=s.u(e.a.periods);for(var i=e.next();!i.done;i=e.next())i=i.value,i.startTime<=t&&(n=i);return n},_i=function(e){var t=ji(e);return Et(e.G,t).variant},Ui=function(){this.name=m},K.prototype.release=function(){this.b=function(){},this.a.clear()},H.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},H.prototype.h=function(e,t){for(var n={},i=s.u(this.g.a),r=i.next();!r.done;n={wd:n.wd,Lc:n.Lc},r=i.next()){r=r.value,n.wd=this.f.get(r)||null,n.Lc=e<r.startTime?1:e>r.endTime?3:2,this.f.set(r,n.Lc);var a=this.i.find(function(e){return function(t){return t.Yb===e.wd&&t.Xb===e.Lc}}(n));a&&a.Ib(r,t)}},q.prototype.release=function(){this.c.stop();for(var e=s.u(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},s.Hs.prototype.track=function(e){null!=this.a&&(this.a&&(this.a.off(s.rd,this.c),this.f&&this.a.off(s.Ld,this.c)),this.a=null),e&&(this.a=e,this.a.on(s.rd,this.c,this))},s.Hs.prototype.append=function(e,t,n){var i=this.h?this.h(n):null;i||this.log.debug("Unable to resolve rendition for id",n),n={start:e,end:t,rendition:i,width:i?i.width:0,height:i?i.height:0,bandwidth:i?i.bandwidth:0};var r=this.b.find((function(n){return n.start>=e&&n.end<=t}));r?(r.rendition=i,r.width=n.width,r.height=n.height,r.bandwidth=n.bandwidth,r.start=n.start,r.end=n.end):(this.b.forEach((function(n){e>=n.start&&e<n.end?n.end=e:t>=n.start&&t<n.end&&(n.start=t)})),this.b.push(n),this.b.sort(G)),Y(this),this.c(),this.a&&this.a.trigger(new s.O(s.Yd))},s.Hs.prototype.clear=function(){this.b=[],Y(this),this.a&&(this.a.trigger(new s.O(s.Yd)),this.a.trigger(new s.O(s.Ob)))},s.Hs.prototype.c=function(){if(this.a){var e=this.a.getPosition();if(0<=e){e:{for(var t=this.b.length,n=Number.MAX_SAFE_INTEGER,i=0;i<t;i++){var r=this.b[i];if(n=Math.min(r.start,n),r.start<=e&&r.end>e){e=.1>r.end-e&&i<t-1?this.b[i+1].rendition:r.rendition;break e}if(r.start>e)break}e=0<t&&n>e&&.25>n-e?this.b[0].rendition:null}e&&this.g!==e&&(this.g=e,this.a)&&(n=t=-1,e?(t=e.width||-1,n=e.height||-1):(i=this.a.getSurface().F())&&(t=i.videoWidth,n=i.videoHeight),this.a.trigger(new s.O(s.Rb,{detail:{width:t,height:n,bandwidth:e?e.bandwidth:null,rendition:e}})))}}},s.w($,s.Kf),s.r=$.prototype,s.r.append=function(e){for(var t=this,n=[],i=0;i<e.length;i++){var r=Q(e[i]);r&&n.push(r)}n.slice().sort((function(e,t){return e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime!==t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)})).forEach((function(e){t.a.addCue(e)}))},s.r.remove=function(e,t){return!!this.a&&(Z(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},s.r.isTextVisible=function(){return this.a.mode==s.xd},s.r.setTextVisibility=function(e){this.a.mode=e?s.xd:s.Dc},s.r.destroy=function(){return this.a&&Z(this.a,(function(){return!0})),this.a=null,Promise.resolve()},ee.prototype.N=function(){return!0},ee.prototype.create=function(e){return new $(e)},ee.prototype.create=ee.prototype.create,ee.prototype.isSupported=ee.prototype.N,s.Of(s.yd,new ee),te.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},te.prototype.stopImmediatePropagation=function(){this.a=!0},te.prototype.stopPropagation=function(){},ne.prototype.addEventListener=function(e,t){this.h.push(e,t)},ne.prototype.removeEventListener=function(e,t){this.h.remove(e,t)},ne.prototype.dispatchEvent=function(e){for(var t=this.h.get(e.type)||[],n=0;n<t.length;++n){e.target=this.j,e.currentTarget=this.j;var i=t[n];try{i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(r){s.af("Uncaught exception in event handler",r,r?r.message:null,r?r.stack:null)}if(e.a)break}return e.defaultPrevented},re.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var e=new oe(this.keySystem);return Promise.resolve(e)},re.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.a},oe.prototype.createSession=function(e){if(s.I("PatchedMediaKeysMs.MediaKeys.createSession"),e=e||s.Hd,e!=s.Hd)throw new TypeError(s.Qa+e+s.ba);return new ue(this.a,e)},oe.prototype.setServerCertificate=function(){return s.I("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.Le(ue,ne),s.r=ue.prototype,s.r.generateRequest=function(e,t){s.I("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.a=new s.gj;try{this.c=this.g.createSession(s.Xd,s.cf(t),null),this.f.on(this.c,"mskeymessage",this.Vi.bind(this)),this.f.on(this.c,"mskeyadded",this.Ti.bind(this)),this.f.on(this.c,"mskeyerror",this.Ui.bind(this)),de(this,s.Cd)}catch(n){this.a.reject(n)}return this.a},s.r.load=function(){return s.I("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error(s.Ba))},s.r.update=function(e){s.I("PatchedMediaKeysMs.MediaKeySession.update"),this.b=new s.gj;try{this.c.update(s.cf(e))}catch(t){this.b.reject(t)}return this.b},s.r.close=function(){s.I("PatchedMediaKeysMs.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),s.hi(this.f)}catch(e){this.closed.reject(e)}return this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error(s.Ca))},s.r.Vi=function(e){s.I("PatchedMediaKeysMs.onMsKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new te(s.Rc,{messageType:void 0==this.keyStatuses.a?s.Jc:s.Ic,message:e.message.buffer}))},s.r.Ti=function(e){s.I("PatchedMediaKeysMs.onMsKeyAdded_",e),this.a?(s.I("Simulating completion for a PR persistent license."),de(this,s.Pd),this.a.resolve(),this.a=null):this.b&&(de(this,s.Pd),this.b.resolve(),this.b=null)},s.r.Ui=function(e){if(s.I("PatchedMediaKeysMs.onMsKeyError_",e),e=Error("EME PatchedMediaKeysMs key error"),e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:de(this,s.bd);break;default:de(this,s.Gc)}},s.r=fe.prototype,s.r.forEach=function(e){this.a&&e(this.a,Bi)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Bi;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(s.$e("Using ms-prefixed EME v20140218"),Bi=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ae,e.MediaKeys=oe,e.MediaKeySystemAccess=re,navigator.requestMediaKeySystemAccess=ie)}));var Ki,Fi="";me.prototype.createMediaKeys=function(){s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var e=new ve(this.a);return Promise.resolve(e)},me.prototype.getConfiguration=function(){return s.I("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.b},s.r=ve.prototype,s.r.createSession=function(e){if(s.I("PatchedMediaKeysWebkit.MediaKeys.createSession"),e=e||s.Hd,e!==s.Hd&&e!==s.fd)throw new TypeError(s.Qa+e+s.ba);var t=this.b||document.createElement(s.Vd);return t.src||(t.src="about:blank"),e=new we(t,this.g,e),this.c.push(e),e},s.r.setServerCertificate=function(){return s.I("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},s.r.hj=function(e){s.I("PatchedMediaKeysWebkit.onWebkitNeedKey_",e);var t=document.createEvent("CustomEvent");t.initCustomEvent(s.vc,!1,!1,null),t.initDataType=s.ge,t.initData=e.initData,this.b.dispatchEvent(t)},s.r.gh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyMessage_",e);var t=ye(this,e.sessionId);t?(e=new te(s.Rc,{messageType:void 0===t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),s.I("PatchedMediaKeysWebkit.MediaKeySession.generated"),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e)):s.af("Session not found",e.sessionId)},s.r.eh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyAdded_",e),(e=ye(this,e.sessionId))&&(s.I("PatchedMediaKeysWebkit.MediaKeySession.ready"),Se(e,s.Pd),e.a&&e.a.resolve(),e.a=null)},s.r.fh=function(e){s.I("PatchedMediaKeysWebkit.onWebkitKeyError_",e);var t=ye(this,e.sessionId);if(t){s.I("PatchedMediaKeysWebkit.MediaKeySession.handleError",e);var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45===e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?Se(t,b):Se(t,1===n?"expired":s.Gc))}},s.Le(we,ne),s.r=we.prototype,s.r.Hd=function(e,t){if(this.a)this.a.then(this.Hd.bind(this,e,t))["catch"](this.Hd.bind(this,e,t));else{if(this.a=e,this.c===k){var n=s.ef(t),i=JSON.parse(n);"oct"!==i.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=s.Oj(i.keys[0].k),i=s.Oj(i.keys[0].kid)}else n=s.cf(t),i=null;var r=he("addKey");try{this.f[r](this.c,n,i,this.sessionId)}catch(u){this.a.reject(u),this.a=null}}},s.r.generateRequest=function(e,t){return s.I("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),Te(this,t,null)},s.r.load=function(e){return s.I("PatchedMediaKeysWebkit.MediaKeySession.load"),this.g===s.fd?Te(this,null,e):Promise.reject(Error(c))},s.r.update=function(e){s.I("PatchedMediaKeysWebkit.MediaKeySession.update",e);var t=new s.gj;return this.Hd(t,e),t},s.r.close=function(){if(s.I("PatchedMediaKeysWebkit.MediaKeySession.close"),this.g!==s.fd){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=he("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},s.r.remove=function(){return s.I("PatchedMediaKeysWebkit.MediaKeySession.remove"),this.g!==s.fd?Promise.reject(Error(c)):this.close()},s.r=ke.prototype,s.r.forEach=function(e){this.a&&e(this.a,Ki)},s.r.get=function(e){if(this.has(e))return this.a},s.r.has=function(e){var t=Ki;return!(!this.a||!s.Rj(s.cf(e),s.cf(t)))},s.r.entries=function(){},s.r.keys=function(){},s.r.values=function(){},s.ul((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)s.$e("Using webkit-prefixed EME v0.1b"),Fi="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;s.$e("Using nonprefixed EME v0.1b")}Ki=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=pe,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ge,e.MediaKeys=ve,e.MediaKeySystemAccess=me}})),s.ul((function(){if(s.I("MediaSource.install"),e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)s.$e("Patching Chromecast MSE bugs."),Ce();else if(s.yh()){var t=navigator.appVersion;t=0<=t.indexOf("Version")?parseInt(t.match(/Version\/(\d+)/)[1],10):13,xe(),10>=t?(s.$e("Blacklisting MSE on Safari <= 10."),e.MediaSource=null):12>=t?(s.$e("Patching Safari 11 & 12 MSE bugs."),Ee(),Ae()):(s.$e("Patching Safari 13 MSE bugs."),Ee())}else s.xh(2)||s.xh(3)||s.xh(4)?Ie():s.$e("Using native MSE as-is.");else s.$e("No MSE implementation available.")})),Me.prototype.init=function(e){var t=muxjs.mp4.probe;e=s.cf(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Me.prototype.c=function(e,t){var n=s.cf(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},Me.prototype.b=function(){this.a.resetCaptionStream()},s.tt.prototype.init=function(){},s.tt.prototype.c=function(){},s.tt.prototype.b=function(){},Pe.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Pe.prototype.j=function(e){this.c=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),e.type===s.Vd?this.h.push(t):e.type===s.Lb&&this.g.push(t)},Pe.prototype.i=function(){var e={video:s.Sj.apply(null,this.h),captions:this.c,audio:s.Sj.apply(null,this.g)};this.b.resolve(e),this.f=!1},s.r=s.At.prototype,s.r.destroy=function(){var e=this;this.w=!0;var t,n=[];for(t in this.f){var i=this.f[t],r=i[0];for(this.f[t]=i.slice(0,1),r&&n.push(r.p["catch"](s.Dk.Dc)),r=1;r<i.length;++r)i[r].p["catch"](s.Dk.Dc),i[r].p.reject()}for(var a in this.b&&n.push(this.b.destroy()),this.l&&n.push(this.l.destroy()),this.j)n.push(this.j[a].destroy());return Promise.all(n).then((function(){e.i&&(e.i.release(),e.i=null),e.g&&(e.g.removeAttribute("src"),e.g.load(),e.g=null),e.h=null,e.b=null,e.l=null,e.c={},e.j={},e.o={},e.s=null,e.B=!1,e.f={}}))},s.r.init=function(e,t){var n,i=this;return s.A((function(r){if(1==r.a)return n=s.Tk,s.x(r,i.v,2);e.forEach((function(e,r){var a=s.eg(e.mimeType,e.codecs);if(r==n.TEXT)_e(i,a);else{var o=new Map;o.set(r,a),MediaSource.isTypeSupported(a)&&t&&!e.keyInfo||!Re(a,r)||(i.j[r]=new Pe,a="aac"==a.split(";")[0].split("/")[1]?a.replace("aac",s.Uc):De(r,a),o=Ne(r,a)),je(i,o)}})),s.y(r)}))},s.r.Ra=function(e){return e===s.k?this.b.Ra():(e=Ke(this,e))?e.Ra():null},s.r.da=function(e){return e===s.k?this.b.da():(e=Ke(this,e))?e.da():null},s.r.Kb=function(e,t,n){return e===s.k?this.b.Kb(t):!!(e=Ke(this,e))&&e.Kb(t,!0,n)},s.r.qa=function(e,t){if(e===s.k)return this.b.qa(t);var n=Ke(this,e);return n?n.qa(t):0},s.r.rd=function(e){var t=this.da(s.Vd)||0;this.b.rd(e,t)},s.r.remove=function(e,t,n){var i=this;return e===s.k?this.b.remove(t,n):qe(this,e,this.Nf.bind(this,e,t,n)).then((function(){if(e===s.Vd){var t=i.Ra(e),n=i.da(e);null!==t&&null!==n&&X(i.m,t,n)}else e===s.Lb&&(t=i.m,t.a&&t.a.trigger(new s.O(s.Ob)))}))},s.r.clear=function(e){return e==s.k?this.b?(this.s.b(),this.b.remove(0,1/0)):Promise.resolve():qe(this,e,this.Nf.bind(this,e,0,this.h.duration))},s.r.flush=function(e){return e==s.k?Promise.resolve():qe(this,e,this.ef.bind(this,e))},s.r.endOfStream=function(e){var t=this;return Ge(this,(function(){Ue(t)||(e?t.h.endOfStream(e):t.h.endOfStream())}))},s.r.Ab=function(e){var t=this;Ge(this,(function(){t.h.duration=e}))},s.r.getDuration=function(){return this.h.duration},s.r.Gd=function(e,n){this.a.debug("Appending data to "+e+t);try{this.c[e].appendBuffer(n)}catch(i){throw this.a.warn("Failed to append data for "+e,i),i}this.a.debug("Done Appending data to "+e+t)},s.r.Nf=function(e,t,n){if(n<=t)this.kc(e);else{this.a.debug("Removing data from "+e+" range:",t,n);try{this.c[e].remove(t,n)}catch(i){throw this.a.warn("Failed to remove data from "+e+" buffer. Range:",t,n,i),i}this.a.debug("Done Removing data from "+e+" range:",t,n)}},s.r.Wf=function(e){try{this.a.debug("Aborting operations for "+e+t);var n=this.c[e].appendWindowStart,i=this.c[e].appendWindowEnd;this.c[e].abort(),this.c[e].appendWindowStart=n,this.c[e].appendWindowEnd=i}catch(r){throw this.a.warn("Failed to abort operations for "+e+t,r),r}this.a.debug("Done Aborting operations for "+e+t),this.kc(e)},s.r.ef=function(e){try{this.g.readyState>HTMLMediaElement.HAVE_NOTHING?(this.a.debug("Flushing buffer for "+e),this.g.currentTime-=.001):this.a.warn("Skip buffer flush for "+e+" with element state: "+this.g.readyState)}catch(t){throw this.a.warn("Failed to flush buffer for "+e,t),t}this.a.debug("Done Flushing buffer for "+e),this.kc(e)},s.r.Qf=function(e,t){0>t&&(t+=.001);try{this.a.debug("Setting timestamp offset for "+e,t),this.c[e].timestampOffset=t}catch(n){throw this.a.warn("Failed to set timestamp offset for "+e,t,n),n}this.a.debug("Done Setting timestamp offset for "+e,t),this.kc(e)},s.r.xj=function(e,t,n){try{this.a.debug("Setting append window for "+e,t,n),this.c[e].appendWindowStart=0,this.c[e].appendWindowEnd=n,this.c[e].appendWindowStart=t}catch(i){throw this.a.warn("Failed to set append window for "+e,t,n,i),i}this.a.debug("Done Setting append window for "+e,t,n),this.kc(e)},s.r.dh=function(e){this.f[e][0].p.reject(new s.J(s.K,3,3014,{mediaError:this.g.error?this.g.error.code:0}))},s.r.kc=function(e){var t=this.f[e][0];t&&(t.p.resolve(),this.a.debug("Update-End received for "+e),Je(this,e))},s.r.getTextDisplayer=function(){return this.l};var Hi=e.URL.createObjectURL;s.w(lt,s.S),s.r=lt.prototype,s.r.mb=function(e){this.a=e},s.r.release=function(){this.g=[],this.b.clear(),this.c.clear()},s.r.load=function(){},s.r.destroy=function(){this.release(),this.a=null},s.r.getVideoTracks=function(){return dt(this,s.vi)},s.r.getAudioTracks=function(){return dt(this,s.Q)},s.r.X=function(){return dt(this,s.P)},s.r.Z=function(){return this.b.get(s.vi)||null},s.r.ra=function(){return this.b.get(s.Q)||null},s.r.ia=function(){return this.b.get(s.P)||null},s.r.Ha=function(){return this.c.get(s.vi)||null},s.r.Fa=function(){return this.c.get(s.Q)||null},s.r.Ga=function(){return this.c.get(s.P)||null},s.r.ja=function(){return ft(this,s.vi)},s.r.ea=function(){return ft(this,s.Q)},s.r.ba=function(){return ft(this,s.P)},s.r.Da=function(e){ht(this,s.vi,e)},s.r.ma=function(e){ht(this,s.Q,e)},s.r.na=function(e){ht(this,s.P,e)},s.r.Ca=function(e,t){gt(this,s.vi,e,void 0!==t&&t)},s.r.Ka=function(e,t){gt(this,s.Q,e,void 0!==t&&t)},s.r.La=function(e,t){gt(this,s.P,e,void 0!==t&&t)},s.r.addTextTrack=function(e){var t=this;return s.A((function(n){return t.a?s.x(n,t.a.addTextTrack(e.url,e.language,e.kind,e.mimeType,e.codec,e.label),0):n.A(0)}))},s.r.ka=function(){return!!this.a&&this.a.ka()},lt.prototype.isAbrEnabled=lt.prototype.ka,lt.prototype.addTextTrack=lt.prototype.addTextTrack,lt.prototype.setTextRendition=lt.prototype.La,lt.prototype.setAudioRendition=lt.prototype.Ka,lt.prototype.setVideoRendition=lt.prototype.Ca,lt.prototype.setTextTrack=lt.prototype.na,lt.prototype.setAudioTrack=lt.prototype.ma,lt.prototype.setVideoTrack=lt.prototype.Da,lt.prototype.getTextTrack=lt.prototype.ba,lt.prototype.getAudioTrack=lt.prototype.ea,lt.prototype.getVideoTrack=lt.prototype.ja,lt.prototype.getLoadingTextRendition=lt.prototype.Ga,lt.prototype.getLoadingAudioRendition=lt.prototype.Fa,lt.prototype.getLoadingVideoRendition=lt.prototype.Ha,lt.prototype.getTextRendition=lt.prototype.ia,lt.prototype.getAudioRendition=lt.prototype.ra,lt.prototype.getVideoRendition=lt.prototype.Z,lt.prototype.getTextTracks=lt.prototype.X,lt.prototype.getAudioTracks=lt.prototype.getAudioTracks,lt.prototype.getVideoTracks=lt.prototype.getVideoTracks,s.r=s.wu.prototype,s.r.stop=function(){this.i=null,this.g=!1,this.h=[],this.f=null},s.r.init=function(e){this.i=e},s.r.chooseVariant=function(){var e=St(this.a.restrictions,this.h),t=Tt(this.c,this.a.defaultBandwidthEstimate);this.h.length&&!e.length&&(this.b.warn("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),e=St(null,this.h),e=[e[0]]);for(var n=e[0]||null,i=0;i<e.length;++i){var r=e[i],a=r.bandwidth/this.a.bandwidthDowngradeTarget,o=(e[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;this.b.debug("Bandwidth ranges:",(r.bandwidth/1e6).toFixed(3),(a/1e6).toFixed(3),(o/1e6).toFixed(3)),t>=a&&t<=o&&(n=r)}return this.f=Date.now(),n},s.r.enable=function(){this.g=!0},s.r.disable=function(){this.g=!1},s.r.segmentDownloaded=function(e,t){this.b.debug("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.f,"enabled="+this.g);var n=this.c;if(!(16e3>t)){var i=8e3*t/e,r=e/1e3;n.a+=t,s.bn(n.b,r,i),s.bn(n.c,r,i)}if(null!=this.f&&this.g)e:{if(this.b.debug("Suggesting Streams..."),this.j){if(Date.now()-this.f<1e3*this.a.switchInterval){this.b.debug("Still within switch interval...");break e}}else{if(!(128e3<=this.c.a)){this.b.debug("Still waiting for a good estimate...");break e}if(this.j=!0,this.a.useSwitchIntervalForInitialSwitch&&Date.now()-this.f<1e3*this.a.switchInterval){this.b.debug("Skipping initial estimation switch due to switch interval...");break e}}n=this.chooseVariant(),this.b.debug("Calling switch_(), bandwidth="+Math.round(Tt(this.c,this.a.defaultBandwidthEstimate)/1e3)+" kbps"),this.i(n)}},s.r.getBandwidthEstimate=function(){return Tt(this.c,this.a.defaultBandwidthEstimate)},s.r.setVariants=function(e){this.h=e},s.r.configure=function(e){this.a=e},s.r.reset=function(){this.j=!1,this.c=new wt;var e=this.chooseVariant();e&&this.i(e)},kt.prototype.clear=function(){this.a.clear()},xt.prototype.add=function(e){return It(this.b,e)?(this.a.add(e),!0):(s.G("Rejecting variant - not compatible with root."),!1)},xt.prototype.values=function(){return this.a.values()},Pt.prototype.create=function(e){var t=this,n=e.filter((function(e){return It(t.a,e)}));return n.length?new xt(n[0],n):this.b.create(e)},Rt.prototype.create=function(e){var t=[];t=Nt(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.b&&(e=Dt(t,this.b),e.length?t=e:s.G("No exact match for variant role could be found.")),this.a&&(e=tt(t,this.a),e.length?t=e:s.G("No exact match for the channel count could be found.")),e=new xt(t[0]),t=s.u(t),n=t.next();!n.done;n=t.next())n=n.value,It(e.b,n)&&e.add(n);return e},Ot.prototype.getState=function(){return this.a};var Vi=0,qi=1;Lt.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Lt.prototype.h=function(e){var t=this.a,n=this.c.periods;e=L(n,e)||n[0],t!=e&&this.b(e),this.a=e},_t.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},_t.prototype.set=function(e){this.c=e,Ut(this)},Bt.prototype.release=function(){this.c=null,this.a=function(){}},Vt.prototype.release=function(){this.c&&(this.c.release(),this.c=null),null!=this.h&&(this.h.stop(),this.h=null),this.b&&(this.b.release(),this.b=null),this.a=this.o=this.m=null,this.g=!1},Vt.prototype.jd=function(){this.i=!0,qt(this)},Wt.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.h=function(){},this.a=null,this.f=function(){},this.g=!1},$t.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Zt.prototype.release=function(){this.f&&(this.f.release(),this.f=null),this.g&&(this.g.release(),this.g=null),this.i&&(this.i.stop(),this.i=null),this.c=this.f=this.a=this.h=null,this.l=function(){}},s.kv.prototype.destroy=function(){for(var e=s.u(this.f.values()),t=e.next();!t.done;t=e.next())Bn(t.value);return this.f.clear(),this.j.clear(),this.h=this.i=this.v=this.c=this.b=null,this.g=!0,Promise.resolve()},s.kv.prototype.start=function(){var e,t,n,i=this;return s.A((function(r){if(1==r.a){if(e=i.b.Xa(),t=On(i,e),n=i.b.ee(i.c.periods[t]),!n.variant&&!n.text)throw i.a.error("init: no Streams chosen"),new s.J(s.K,5,5005);return i.s=!n.variant&&!!n.text,s.x(r,gn(i,n.variant?n.variant.audio:null,n.variant?n.variant.video:null,n.text,e),2)}if(i.g)return r["return"]();i.a.debug("init: completed initial Stream setup"),i.b&&i.b.Oi&&(i.a.debug("init: calling onInitialStreamsSetup()..."),i.b.Oi()),s.y(r)}))},s.kv.prototype.C=function(e,t,n,i){var r=x(i.u),a=x(i.u),o=s.bh(i.u),u=s.bh(i.u),c=s.bh(i.u),l=s.bh(i.u);i=s.eh(i.u,i.u.ha()-i.u.getPosition()),e=e.startTime+t.startTime+u/o,n.includes(r)&&("urn:mpeg:dash:event:2012"==r?this.b.Cf():this.b.onEvent(new te("emsg",{detail:{startTime:e,endTime:e+c/o,schemeIdUri:r,value:a,timescale:o,presentationTimeDelta:u,eventDuration:c,id:l,messageData:i}})))},s.kv.prototype.G=function(e){var t=this,n=!1,i=0;(new s.gh).I("moov",s.hh).I("trak",s.hh).I("mdia",s.hh).I("minf",s.hh).I("stbl",s.hh).W("stsd",s.ih).I("encv",(function(e){e.u.skip(78),s.hh(e)})).I("pasp",(function(e){i=e.start+e.Td;var r=s.bh(e.u),a=s.bh(e.u);n=r!==a,t.a.debug("hSpacing="+r+", vSpacing="+a+", updatePASP="+n),e.gb.stop()})).parse(e.data),n&&(e=new s.Ug(new DataView(e.data)),e.seek(i),s.N(e,1),s.N(e,1))},s.w(Vn,s.Gj),s.r=Vn.prototype,s.r.init=function(e,t){var n=e.F();s.Gj.prototype.init.call(this,e,t),Jn(this,n)},s.r.namespace=function(){return m},s.r.Ve=function(){return new lt},s.r.getState=function(){return this.U},s.r.getDrmInfo=function(){return this.g?this.g.getDrmInfo():null},s.r.unload=function(){var e=this;if(this.j){var t=this.getTrackManager();return t&&t.release(),this.m==Wi?Promise.resolve():Gn(this).then((function(){e.log.debug(s.Ma,e.j),e.j=null,e.Dd=0,e.Qc=null,e.Y=null}))}return Promise.resolve()},s.r.release=function(){var e=this;return s.Gj.prototype.release.call(this).then((function(){return e.unload()})).then((function(){return Wn(e,s.qn)}))},s.r.getBufferInfo=function(e){if(this.s){var t=Be(this.s),n=new s.Ri(void 0,e);switch(e){case s.vi:return t.video?t.video:n;case s.Q:return t.audio?t.audio:n;case s.P:return t.text?t.text:n}return t.total?t.total:n}return this.sc?(t=J(this.sc),O(t,e)):s.Gj.prototype.getBufferInfo.call(this,e)},s.r.getPosition=function(){return this.i?en(this.i):s.Gj.prototype.getPosition.call(this)},s.r.getPresentationStartTime=function(){return this.a&&this.a.presentationTimeline.getPresentationStartTime()||0},s.r.getDuration=function(){return this.a?this.a.presentationTimeline.getDuration():1/0},s.r.destroy=function(){var e=this;return s.A((function(t){return 1==t.a?s.x(t,s.Gj.prototype.destroy.call(e),2):3!=t.a?e.m==Wi?t["return"]():(e.log.debug("Destroying player..."),e.m=Wi,s.x(t,zn(e),3)):(e.h&&(e.h.release(),e.h=null),e.c=null,void s.y(t))}))},s.r.load=function(e){var t,n,i,r,a=this;return s.A((function(o){switch(o.a){case 1:if(a.m==Wi)return o["return"](Promise.reject(new s.J(s.K,7,7e3)));if(a.v=new s.Mk,a.Cd=Date.now()/1e3,Wn(a,s.Bn),a.j=s.ql(e),s.Fj(e)&&(a.configuration=s.Ej(a.Oc,e)),a.log.info(s.xa,a.configuration),a.log.info(s.Ha,a.j),(t=a.getTrackManager())&&t.load(),n=a.getSurface().F(),n.loop=!!a.configuration.loop,s.C.H(a.configuration.volume)||a.setVolume(a.configuration.volume),s.C.H(a.configuration.muted)||a.setMuted(a.configuration.muted),a.o&&a.o.configure(a.configuration.manifest),a.g&&(a.g.f=s.Uk(a.configuration.drm)),a.b){a.b.h=a.configuration.streaming;try{a.a.periods.forEach(a.Md.bind(a))}catch(d){a.onError(d)}var u=un(a.b),c=cn(a.b),l=ji(a);u=it(u,c,l.variants),a.c&&u&&u.allowedByApplication&&u.allowedByKeySystem?Ei(a,l.variants):(a.log.debug("Choosing new streams after changing configuration"),Ai(a,l))}return a.c&&(a.c.configure(a.configuration.abr),a.configuration.abr.enabled&&!a.C?a.c.enable():a.c.disable()),i=a.j[a.getSourceIndex()],s.Ae(o,2),s.x(o,Jn(a,n),4);case 4:return s.x(o,Xn(a,n),5);case 5:return s.x(o,$n(a,i),6);case 6:return s.x(o,Qn(a,i),7);case 7:return s.x(o,Zn(a),8);case 8:return s.x(o,ei(a),9);case 9:s.Be(o,0);break;case 2:r=s.Ce(o),a.onError(r),s.y(o)}}))},s.r.isLive=function(){return!!this.a&&this.a.presentationTimeline.isLive()},s.r.Hf=function(){this.log.debug("User seeking finished"),oi(this),ki(this)},s.r.getSeekRange=function(){if(this.a){var e=this.a.presentationTimeline;return{start:P(e,0),end:M(e)}}return{start:0,end:0}},s.r.getPlaybackRate=function(){if(this.qc){var e=this.qc;e=e.f?0:e.c}else e=0;return e},s.r.X=function(){if(this.a&&this.i){var e=ji(this);if(null==e)e=null;else{if(!Et(this.G,e).text){var t=s.Yt(e.textStreams,this.pa,this.oc);t.length&&(t=t[0],Et(this.G,e).text=t)}e=Et(this.G,e).text}t=[];for(var n=s.u(Li(this)),i=n.next();!i.done;i=n.next()){i=i.value;var r=Ze(i);r.active=i==e,t.push(r)}return t}return[]},s.r.getThumbnailStreams=function(){if(this.a&&this.i){var e=ji(this);return e?e.thumbStreams:[]}return[]},s.r.getStats=function(){if(this.m!=Ji)return s.Nk();ki(this);var e=this.f;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.v,n=Number(e.totalVideoFrames);t.g=Number(e.droppedVideoFrames),t.f=n}return this.m==Ji&&((e=_i(this))&&(this.v.l=e.bandwidth),e&&e.video&&(t=this.v,n=e.video.height||NaN,t.c=e.video.width||NaN,t.b=n),e=this.c.getBandwidthEstimate(),this.v.h=e),this.v.getStats()},s.r.getTimelineCues=function(){return this.ua?Array.from(this.ua.a):[]},s.r.resetAbr=function(){this.c&&this.c.reset()},s.r.addTextTrack=function(e,t,n,i,r,a){var o,u,c,l,d,f,h,p,g,m=this;return s.A((function(v){if(1==v.a){if(m.m!=Ji)throw m.log.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");if(o=ji(m),u=s.Tk,c=m.a.periods.indexOf(o),l=c+1,d=l>=m.a.periods.length?m.a.presentationTimeline.getDuration():m.a.periods[l].startTime,f=d-o.startTime,1/0==f)throw new s.J(1,4,4040);return h=new s.Fn(1,0,f,(function(){return[e]}),0,null),p={id:m.rf++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?h:null},adjustSegmentDurations:function(){},getDuration:function(){return f},initSegmentReference:null,presentationTimeOffset:0,mimeType:i,codecs:r||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:u.TEXT,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},m.Rc.add(p),o.textStreams.push(p),s.x(v,ln(m.b,p),2)}return(g=s.mv(m.b,s.k))&&(Et(m.G,o).text=g),m.Rc["delete"](p),m.log.debug("Choosing new streams after adding a text stream"),Ai(m,o),Mi(m),v["return"](Ze(p))}))},s.r.Md=function(e){var t=this.b?un(this.b):null,n=this.b?cn(this.b):null;if(Xe(this.g,t,n,e),t=e.variants,!t.some(et))throw new s.J(s.K,4,4011);if(Di(this,e.variants),Ye(t,this.configuration.restrictions,this.qf)&&this.b&&ji(this)==e&&Mi(this),e=this.g?this.g.getDrmInfo():null)for(t=s.u(t),n=t.next();!n.done;n=t.next()){n=s.u(n.value.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==e.keySystem){i=s.u(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,s.qk(this.g,r.initDataType,r.initData)}}},s.r.ah=function(e){this.log.debug(s.ds,e);try{this.log.debug("onChooseStreams_, choosing variant from ",e.variants),this.log.debug("onChooseStreams_, choosing text from ",e.textStreams);var t=xi(this,e);return this.log.debug("onChooseStreams_, chose variant ",t.variant),this.log.debug("onChooseStreams_, chose text ",t.text),t}catch(n){return this.onError(n),{variant:null,text:null}}},s.r.$g=function(){this.log.debug("canSwitch_"),this.C=!1,this.configuration.abr.enabled&&this.c.enable(),this.R&&(dn(this.b,this.R,this.lf,this.jf),this.R=null),this.K&&(s.vv(this.b,this.K,!0,0),this.K=null)},s.r.bh=function(){this.o&&this.o.update&&this.o.update()},s.r.Zi=function(){this.i&&this.i.g.jd()},s.r.lg=function(e){var t=ji(this),n=t.variants.some((function(t){return(t=t[e.type])&&t.id!==e.id}))&&this.ka();if(n){for(var i=s.u(t.variants),r=i.next();!r.done;r=i.next()){r=r.value;var a=r[e.type];a&&a.id===e.id&&(r.allowedByApplication=!1)}Mi(this),Ai(this,t)}return n},s.r.Mi=function(){this.log.debug("endOfStream called by streaming engine")},s.r.onError=function(e){if(this.m!==Wi){var t=new s.O(s.yc,{detail:e});e.a===s.K&&Wn(this,s.Wk),this.trigger(t),t.defaultPrevented&&(t.b=!0)}},s.r.Fd=function(e){e.type===s.sc?this.dispatchEvent(new s.O(s.sc,{keySystem:this.g.keySystem(),Lh:s.vk(this.g)})):"largegap"!==e.type&&(e.type===s.be?Si(this):"emsg"!==e.type&&(e instanceof s.O?this.dispatchEvent(e):this.log.debug("Unhandled/ignored event",e.type)))},s.r.ka=function(){return this.configuration.abr.enabled};var Wi=0,Gi=1,Ji=2,zi=[b,s.Gc];Ui.prototype.canPlay=function(e){if(s.wh("CrKey"))return!1;var t=e.type||"",n=a(e.fc)!==s.Sb||e.fc;return(t!==s.ml||!n||!s.yh())&&(n=s.th(),e=s.vo.N(e.url,t),!(!n||!e))},Ui.prototype.create=function(){return new Vn},Ui.prototype.create=Ui.prototype.create,Ui.prototype.canPlay=Ui.prototype.canPlay,s.ai(new Ui)};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else i=[n("3f2b")],r=function(e){return s=e._,u.call(o,this),o}.apply(t,i),void 0===r||(e.exports=r)})()},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5cc6":function(e,t,n){var i=n("74e8");i("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},"5db7":function(e,t,n){"use strict";var i=n("23e7"),r=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("1c0b"),u=n("65f0");i({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),i=o(n.length);return s(e),t=u(n,0),t.length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"5f96":function(e,t,n){"use strict";var i=n("ebb5"),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(r(this),arguments)}))},"5fb2":function(e,t,n){"use strict";var i=2147483647,r=36,a=1,o=26,s=38,u=700,c=72,l=128,d="-",f=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=r-a,m=Math.floor,v=String.fromCharCode,b=function(e){var t=[],n=0,i=e.length;while(n<i){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t},y=function(e){return e+22+75*(e<26)},w=function(e,t,n){var i=0;for(e=n?m(e/u):e>>1,e+=m(e/t);e>g*o>>1;i+=r)e=m(e/g);return m(i+(g+1)*e/(e+s))},T=function(e){var t=[];e=b(e);var n,s,u=e.length,f=l,h=0,g=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(v(s));var T=t.length,S=T;T&&t.push(d);while(S<u){var k=i;for(n=0;n<e.length;n++)s=e[n],s>=f&&s<k&&(k=s);var E=S+1;if(k-f>m((i-h)/E))throw RangeError(p);for(h+=(k-f)*E,f=k,n=0;n<e.length;n++){if(s=e[n],s<f&&++h>i)throw RangeError(p);if(s==f){for(var A=h,x=r;;x+=r){var I=x<=g?a:x>=g+o?o:x-g;if(A<I)break;var C=A-I,M=r-I;t.push(v(y(I+C%M))),A=m(C/M)}t.push(v(y(A))),g=w(h,E,S==T),h=0,++S}}++h,++f}return t.join("")};e.exports=function(e){var t,n,i=[],r=e.toLowerCase().replace(h,".").split(".");for(t=0;t<r.length;t++)n=r[t],i.push(f.test(n)?"xn--"+T(n):n);return i.join(".")}},6062:function(e,t,n){"use strict";var i=n("6d61"),r=n("6566");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"60bd":function(e,t,n){"use strict";var i=n("da84"),r=n("ebb5"),a=n("e260"),o=n("b622"),s=o("iterator"),u=i.Uint8Array,c=a.values,l=a.keys,d=a.entries,f=r.aTypedArray,h=r.exportTypedArrayMethod,p=u&&u.prototype[s],g=!!p&&("values"==p.name||void 0==p.name),m=function(){return c.call(f(this))};h("entries",(function(){return d.call(f(this))})),h("keys",(function(){return l.call(f(this))})),h("values",m,!g),h(s,m,!g)},"621a":function(e,t,n){"use strict";var i=n("da84"),r=n("83ab"),a=n("a981"),o=n("9112"),s=n("e2cc"),u=n("d039"),c=n("19aa"),l=n("a691"),d=n("50c4"),f=n("0b25"),h=n("77a7"),p=n("e163"),g=n("d2bb"),m=n("241c").f,v=n("9bf2").f,b=n("81d5"),y=n("d44e"),w=n("69f3"),T=w.get,S=w.set,k="ArrayBuffer",E="DataView",A="prototype",x="Wrong length",I="Wrong index",C=i[k],M=C,P=i[E],R=P&&P[A],N=Object.prototype,D=i.RangeError,O=h.pack,L=h.unpack,j=function(e){return[255&e]},_=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},K=function(e){return O(e,23,4)},F=function(e){return O(e,52,8)},H=function(e,t){v(e[A],t,{get:function(){return T(this)[t]}})},V=function(e,t,n,i){var r=f(n),a=T(e);if(r+t>a.byteLength)throw D(I);var o=T(a.buffer).bytes,s=r+a.byteOffset,u=o.slice(s,s+t);return i?u:u.reverse()},q=function(e,t,n,i,r,a){var o=f(n),s=T(e);if(o+t>s.byteLength)throw D(I);for(var u=T(s.buffer).bytes,c=o+s.byteOffset,l=i(+r),d=0;d<t;d++)u[c+d]=l[a?d:t-d-1]};if(a){if(!u((function(){C(1)}))||!u((function(){new C(-1)}))||u((function(){return new C,new C(1.5),new C(NaN),C.name!=k}))){M=function(e){return c(this,M),new C(f(e))};for(var W,G=M[A]=C[A],J=m(C),z=0;J.length>z;)(W=J[z++])in M||o(M,W,C[W]);G.constructor=M}g&&p(R)!==N&&g(R,N);var Y=new P(new M(2)),X=R.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(R,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},{unsafe:!0})}else M=function(e){c(this,M,k);var t=f(e);S(this,{bytes:b.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},P=function(e,t,n){c(this,P,E),c(e,M,E);var i=T(e).byteLength,a=l(t);if(a<0||a>i)throw D("Wrong offset");if(n=void 0===n?i-a:d(n),a+n>i)throw D(x);S(this,{buffer:e,byteLength:n,byteOffset:a}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},r&&(H(M,"byteLength"),H(P,"buffer"),H(P,"byteLength"),H(P,"byteOffset")),s(P[A],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,j,t)},setUint8:function(e,t){q(this,1,e,j,t)},setInt16:function(e,t){q(this,2,e,_,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,_,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,F,t,arguments.length>2?arguments[2]:void 0)}});y(M,k),y(P,E),e.exports={ArrayBuffer:M,DataView:P}},"649e":function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").some,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("some",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6566:function(e,t,n){"use strict";var i=n("9bf2").f,r=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),u=n("2266"),c=n("7dd0"),l=n("2626"),d=n("83ab"),f=n("f183").fastKey,h=n("69f3"),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,i){s(e,l,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=i&&u(i,e[c],e,n)})),h=g(t),m=function(e,t,n){var i,r,a=h(e),o=v(e,t);return o?o.value=n:(a.last=o={index:r=f(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),d?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},v=function(e,t){var n,i=h(e),r=f(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){var e=this,t=h(e),n=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),i=v(t,e);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),d?n.size--:t.size--}return!!i},forEach:function(e){var t,n=h(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),a(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&i(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var i=t+" Iterator",r=g(t),a=g(i);c(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},6993:function(e,t,n){"use strict";var i=n("3314"),r=n.n(i);r.a},"6d61":function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("f183"),u=n("2266"),c=n("19aa"),l=n("861d"),d=n("d039"),f=n("1c7e"),h=n("d44e"),p=n("7156");e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",b=r[e],y=b&&b.prototype,w=b,T={},S=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(m||y.forEach&&!d((function(){(new b).entries().next()})))))w=n.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var k=new w,E=k[v](m?{}:-0,1)!=k,A=d((function(){k.has(1)})),x=f((function(e){new b(e)})),I=!m&&d((function(){var e=new b,t=5;while(t--)e[v](t,t);return!e.has(-0)}));x||(w=t((function(t,n){c(t,w,e);var i=p(new b,t,w);return void 0!=n&&u(n,i[v],i,g),i})),w.prototype=y,y.constructor=w),(A||I)&&(S("delete"),S("has"),g&&S("get")),(I||E)&&S(v),m&&y.clear&&delete y.clear}return T[e]=w,i({global:!0,forced:w!=b},T),h(w,e),m||n.setStrong(w,e,g),w}},"6f53":function(e,t,n){var i=n("83ab"),r=n("df75"),a=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=a(t),u=r(s),c=u.length,l=0,d=[];while(c>l)n=u[l++],i&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},7037:function(e,t,n){function i(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(t)}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),e.exports=i},7156:function(e,t,n){var i=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},"72f7":function(e,t,n){"use strict";var i=n("ebb5").exportTypedArrayMethod,r=n("d039"),a=n("da84"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,c=[].join;r((function(){u.call({})}))&&(u=function(){return c.call(this)});var l=s.toString!=u;i("toString",u,l)},"735e":function(e,t,n){"use strict";var i=n("ebb5"),r=n("81d5"),a=i.aTypedArray,o=i.exportTypedArrayMethod;o("fill",(function(e){return r.apply(a(this),arguments)}))},"73d9":function(e,t,n){var i=n("44d2");i("flatMap")},"746f":function(e,t,n){var i=n("428f"),r=n("5135"),a=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},"74e8":function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("83ab"),o=n("8aa7"),s=n("ebb5"),u=n("621a"),c=n("19aa"),l=n("5c6c"),d=n("9112"),f=n("50c4"),h=n("0b25"),p=n("182d"),g=n("c04e"),m=n("5135"),v=n("f5df"),b=n("861d"),y=n("7c73"),w=n("d2bb"),T=n("241c").f,S=n("a078"),k=n("b727").forEach,E=n("2626"),A=n("9bf2"),x=n("06cf"),I=n("69f3"),C=n("7156"),M=I.get,P=I.set,R=A.f,N=x.f,D=Math.round,O=r.RangeError,L=u.ArrayBuffer,j=u.DataView,_=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,B=s.TypedArray,K=s.TypedArrayPrototype,F=s.aTypedArrayConstructor,H=s.isTypedArray,V="BYTES_PER_ELEMENT",q="Wrong length",W=function(e,t){var n=0,i=t.length,r=new(F(e))(i);while(i>n)r[n]=t[n++];return r},G=function(e,t){R(e,t,{get:function(){return M(this)[t]}})},J=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},z=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return z(e,t=g(t,!0))?l(2,e[t]):N(e,t)},X=function(e,t,n){return!(z(e,t=g(t,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};a?(_||(x.f=Y,A.f=X,G(K,"buffer"),G(K,"byteOffset"),G(K,"byteLength"),G(K,"length")),i({target:"Object",stat:!0,forced:!_},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,l="set"+e,g=r[s],m=g,v=m&&m.prototype,A={},x=function(e,t){var n=M(e);return n.view[u](t*a+n.byteOffset,!0)},I=function(e,t,i){var r=M(e);n&&(i=(i=D(i))<0?0:i>255?255:255&i),r.view[l](t*a+r.byteOffset,i,!0)},N=function(e,t){R(e,t,{get:function(){return x(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};_?o&&(m=t((function(e,t,n,i){return c(e,m,s),C(function(){return b(t)?J(t)?void 0!==i?new g(t,p(n,a),i):void 0!==n?new g(t,p(n,a)):new g(t):H(t)?W(m,t):S.call(m,t):new g(h(t))}(),e,m)})),w&&w(m,B),k(T(g),(function(e){e in m||d(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,i){c(e,m,s);var r,o,u,l=0,d=0;if(b(t)){if(!J(t))return H(t)?W(m,t):S.call(m,t);r=t,d=p(n,a);var g=t.byteLength;if(void 0===i){if(g%a)throw O(q);if(o=g-d,o<0)throw O(q)}else if(o=f(i)*a,o+d>g)throw O(q);u=o/a}else u=h(t),o=u*a,r=new L(o);P(e,{buffer:r,byteOffset:d,byteLength:o,length:u,view:new j(r)});while(l<u)N(e,l++)})),w&&w(m,B),v=m.prototype=y(K)),v.constructor!==m&&d(v,"constructor",m),U&&d(v,U,s),A[s]=m,i({global:!0,forced:m!=g,sham:!_},A),V in m||d(m,V,a),V in v||d(v,V,a),E(s)}):e.exports=function(){}},"77a7":function(e,t){var n=1/0,i=Math.abs,r=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,u=function(e,t,u){var c,l,d,f=new Array(u),h=8*u-t-1,p=(1<<h)-1,g=p>>1,m=23===t?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,b=0;for(e=i(e),e!=e||e===n?(l=e!=e?1:0,c=p):(c=a(o(e)/s),e*(d=r(2,-c))<1&&(c--,d*=2),e+=c+g>=1?m/d:m*r(2,1-g),e*d>=2&&(c++,d/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*d-1)*r(2,t),c+=g):(l=e*r(2,g-1)*r(2,t),c=0));t>=8;f[b++]=255&l,l/=256,t-=8);for(c=c<<t|l,h+=t;h>0;f[b++]=255&c,c/=256,h-=8);return f[--b]|=128*v,f},c=function(e,t){var i,a=e.length,o=8*a-t-1,s=(1<<o)-1,u=s>>1,c=o-7,l=a-1,d=e[l--],f=127&d;for(d>>=7;c>0;f=256*f+e[l],l--,c-=8);for(i=f&(1<<-c)-1,f>>=-c,c+=t;c>0;i=256*i+e[l],l--,c-=8);if(0===f)f=1-u;else{if(f===s)return i?NaN:d?-n:n;i+=r(2,t),f-=u}return(d?-1:1)*i*r(2,f-t)};e.exports={pack:u,unpack:c}},"78fe":function(e,t,n){var i,r;n("99af"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("a434"),n("b0c0"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="BANDWIDTH",n="CLOSED-CAPTIONS",i="EXT-X-BYTERANGE",r="EXT-X-ENDLIST",a="EXT-X-MEDIA-SEQUENCE",s="EXT-X-PLAYLIST-TYPE",u="EXT-X-STREAM-INF",c="EXT-X-TARGETDURATION",l="GROUP-ID",d="Guessing audio-only",f="SUBTITLES",h="URI",p="application/mp4",g=function(e,t){var n=new o.He(new o.De(t));return o.pe&&(0,o.pe)(n,e.prototype),n},m=function(e,t){return t=void 0===t?0:t,t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]},v=function(e,t,n,i){this.c=e,this.type=t,this.a=n,this.b=i||null},b=function(e,t,n,i){this.id=e,this.name=t,this.a=n,this.value=void 0===i?null:i},y=function(e,t){this.name=e,this.value=t},w=function(e,t,n){return(e=e.getAttribute(t))?e.value:n||null},T=function(e,t){var n=e.getAttribute(t);if(!n)throw new o.J(o.K,4,4023,t);return n.value},S=function(e,t){this.b=t,this.a=e},k=function(){this.a=0},E=function(e,t,n){t=o.ef(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var i=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new o.J(o.K,4,4015);t=0;for(var r=!0,a=o.u(i),s=a.next();!s.done;s=a.next())if(s=s.value,s=s.trim(),!s.length||le.Wd(s)||r)r=!1;else{if(s=x(e,s),--e.a,de.includes(s.name)){t=1;break}s.name==u&&(r=!0)}a=[],r=!0,s=o.u(ce(i));for(var c=s.next();!c.done;c=s.next()){var l=c.value;c=l.kf;var d=l.item;if(l=l.next,d=d.trim(),!d.length||le.Wd(d)||r)r=!1;else{if(d=x(e,d),fe.includes(d.name)){if(1!=t)throw new o.J(o.K,4,4017);return i=i.splice(c,i.length-c),e=A(e,n,i,a),new v(n,t,a,e)}a.push(d),d.name==u&&(d.a.push(new y(h,l)),r=!0)}}return new v(n,t,a)},A=function(e,t,n,i){var r=[],a=[];return n.forEach((function(n){/^(#EXT)/.test(n)?(n=x(e,n),de.includes(n.name)?i.push(n):a.push(n)):le.Wd(n)||(n=le.Yc(t,n.trim()),r.push(new S(n,a)),a=[])})),r},x=function(e,t){var n=e.a++,i=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!i)throw new o.J(o.K,4,4016,{invalidTag:t});var r,a=i[1],s=i[2];if(i=[],s){var u;s=new o.jg(s),(u=o.kg(s,/^([^,=]+)(?:,|$)/g))&&(r=u[1]);for(var c=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;u=o.kg(s,c);)i.push(new y(u[1],u[2]||u[3]))}return new b(n,a,i,r)},I=function(){var e=this;this.f=this.h=null,this.Y=1,this.j=new Map,this.U=new Set,this.b=new Map,this.c=null,this.m="",this.C=new k,this.S=0,this.l=new o.Ef((function(){ae(e)})),this.g=me,this.w=null,this.J=0,this.K=1/0,this.o=new o.xj,this.R=[],this.B=new Map,this.v=!1,this.i=new Map,this.G=null,this.a=new o.H("clpp.hls.HlsParser"),this.s=new Map},C=function(e,t){var n,i,s,u,c,l,d,f,h,p;return o.A((function(g){if(1==g.a)return n=le,i=ye,s=t.Xf,o.x(g,ie(e,s),2);if(3!=g.a){if(u=g.b,c=E(e.C,u.data,u.uri),1!=c.type)throw new o.J(o.K,4,4017);return d=(l=n.Gb(c.a,a))?Number(l.value):0,f=t.stream,o.x(g,G(e,t.sd,c,d,f.type,f.mimeType,f.codecs,f.keyInfo),3)}h=g.b,t.yb.replace(h),p=h[h.length-1],n.Gb(c.a,r)&&(oe(e,i.VOD),e.c.Ab(p.endTime)),o.y(g)}))},M=function(e,n){var i,r,a,s,c,l,d,f,p,g,m,w,T,S,k,A,x,I,C,M,R;return o.A((function(N){if(1==N.a){if(i=E(e.C,n,e.m),1===i.type){e.s.set(e.m,i),r=i.b[0].a,a=o.Tk,s=new o.kj(r),c=s.fa.split(".").pop(),l=pe[a.AUDIO][c],d=pe[a.VIDEO][c],f=[],d&&f.push("avc1.42E01E"),l&&f.push("mp4a.40.2");var D=e.C,O=e.m,L=f.join(","),j=[],_=[];_.push(new y(t,"0")),_.push(new y(h,O)),L.length&&_.push(new y("CODECS",L)),j.push(new b(D.a++,u,_)),i=new v(O,0,j)}return o.x(N,P(e,i.a),2)}if(p=N.b,!e.h)throw new o.J(o.K,7,7001);for(e.h.filterAllPeriods([p]),g=1/0,m=0,w=1/0,T=o.u(e.b.values()),S=T.next();!S.done;S=T.next())k=S.value,g=Math.min(g,k.ae),m=Math.max(m,k.ae),k.stream.type!=o.k&&(w=Math.min(w,k.duration));if(e.g!=me?(e.c=new o.Gn(0,3*e.J,!0),e.c.b=!1):(e.c=new o.Gn(null,0,!0),e.c.b=!0),W(e),e.g!=me){for(e.S=e.K,A=ye,e.g!==A.LIVE||isNaN(e.f.availabilityWindowOverride)||(e.c.Sb=e.f.availabilityWindowOverride),x=0;95443.7176888889<=m;)x+=95443.7176888889,m-=95443.7176888889;if(x)for(e.a.debug("Offsetting live streams by",x,"to compensate for rollover"),I=o.u(e.b.values()),S=I.next();!S.done;S=I.next())C=S.value,95443.7176888889>C.ae?(e.a.debug("Offset applied to",C.stream.type),C.stream.presentationTimeOffset=-x,C.yb.offset(x)):e.a.debug("Offset NOT applied to",C.stream.type)}else for(e.c.Ab(w),e.c.offset(-g),M=o.u(e.b.values()),S=M.next();!S.done;S=M.next())R=S.value,R.stream.presentationTimeOffset=g,R.yb.offset(-g),o.On(R.yb,w);e.w={presentationTimeline:e.c,periods:[p],offlineSessionIds:[],minBufferTime:0},o.y(N)}))},P=function(e,t){var i,r,a,s,c;return o.A((function(d){switch(d.a){case 1:i=le,r=i.yc(t,"EXT-X-MEDIA"),a=i.yc(t,u);for(var h=o.u(a),p=h.next();!p.done;p=h.next()){var g=p.value,m=w(g,"AUDIO");p=w(g,"VIDEO");var v=w(g,f);if(g=B(e,g),v){var b=Z(o.k,g);e.i.set(v,b),o.vg(g,b)}m&&(v=ee(o.Lb,g),e.i.set(m,v)),p&&(m=ee(o.Vd,g),e.i.set(p,m))}return o.x(d,N(e,r),2);case 2:for(h=le.bf(r,n),h=o.u(h),p=h.next();!p.done;p=h.next())p=p.value,m=w(p,"LANGUAGE")||o.Md,m=o.Xm(m),v=T(p,l),p=T(p,"INSTREAM-ID"),e.B.get(v)||e.B.set(v,new Map),e.B.get(v).set(p,m);return o.x(d,D(e,a),3);case 3:return s=d.b,o.x(d,R(e,r),4);case 4:return c=d.b,d["return"]({startTime:0,variants:s,textStreams:c,thumbStreams:[]})}}))},R=function(e,t){var n,i,r,a,s,u,c,d,h,p,g,m;return o.A((function(v){if(1==v.a)return n=le.bf(t,f),i=n.map((function(t){var n,i;return o.A((function(r){if(1==r.a)return o.Ae(r,2),o.x(r,U(e,t),4);if(2!=r.a)return n=r.b,r["return"](n.stream);throw i=o.Ce(r),i}))})),o.x(v,Promise.all(i),2);for(r=v.b,a=o.u(n),s=a.next();!s.done;s=a.next())if(u=s.value,c=T(u,l),(d=e.i.get(c))&&(h=e.j.get(c)))for(p=o.u(h),g=p.next();!g.done;g=p.next())m=g.value,m.stream.codecs=d;return v["return"](r.filter((function(e){return e})))}))},N=function(e,t){var n;return o.A((function(i){return 1==i.a?(t=t.filter((function(e){var t=w(e,h)||"";return w(e,"TYPE")!==f&&""!==t})),t.length?o.x(i,U(e,t[0]),2):i.A(2)):(n=t.slice(1).map((function(t){return U(e,t)})),o.x(i,Promise.all(n),0))}))},D=function(e,n){var i,r,a,s,u,c,l;return o.A((function(d){if(1==d.a)return i=o.Dk,n.sort((function(e,n){var i=Number(T(e,t)),r=Number(T(n,t));return i-r})),r=function(n){var i,r,a,s,u,c,l;return o.A((function(d){return 1==d.a?(i=w(n,"FRAME-RATE"),r=Number(T(n,t)),a=w(n,"RESOLUTION"),s=o.u(a?a.split("x"):[null,null]),u=s.next().value,c=s.next().value,o.x(d,O(e,n,a,i),2)):(l=d.b)?d["return"](j(e,l.audio,l.video,r,u,c,i)):d["return"]([])}))},o.x(d,r(n[0]),2);if(3!=d.a){for(a=d.b,s=[],u=1;u<n.length;u++)s.push(r(n[u]));return o.x(d,Promise.all(s),3)}return c=d.b,l=c.reduce(i.Jd,a),l=l.filter((function(e){return null!=e})),d["return"](l)}))},O=function(e,t,n,i){var r,a,s,u,c,l,f,p,g,m,v,b,y,S;return o.A((function(k){if(1==k.a)return r=o.Tk,a=B(e,t),s=w(t,"AUDIO"),u=w(t,"VIDEO"),l=(c=s||u)&&e.j.has(c)?e.j.get(c):[],f={audio:s?l:[],video:u?l:[]},e.a.debug("Guessing stream type for",t.toString()),g=!1,m=T(t,h),v=f.audio.find((function(e){return e.sd===m})),b=Z(r.VIDEO,a),y=n||i||b,1!==a.length||y?!l.length&&1<a.length?(e.a.debug("Guessing multiplexed audio+video"),p=r.VIDEO,a=[a.join(",")]):f.audio.length&&v?(e.a.debug(d),p=r.AUDIO,g=!0):f.video.length?(e.a.debug(d),p=r.AUDIO):(e.a.debug("Guessing video-only"),p=r.VIDEO):(p=r.AUDIO,e.a.debug(d)),g?k.A(2):o.x(k,K(e,t,a,p),3);if(2!=k.a&&(S=k.b),S)f[S.stream.type]=[S];else if(null===S)return e.a.debug("streamInfo is null"),k["return"](null);return L(f),k["return"](f)}))},L=function(e){e=o.u(e.audio.concat(e.video));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}},j=function(e,t,n,i,r,a,s){n.forEach((function(e){(e=e.stream)&&(e.width=Number(r)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(s)||void 0)})),t.length||(t=[null]),n.length||(n=[null]);var u=[];t=o.u(t);for(var c=t.next();!c.done;c=t.next()){c=c.value;for(var l=o.u(n),d=l.next();!d.done;d=l.next()){var f=d.value;d=c?c.stream:null;var h=f?f.stream:null,p=c?c.drmInfos:null,g=f?f.drmInfos:null;f=(f?f.sd:"")+" - "+(c?c.sd:"");var m=void 0;if(d&&h){if(!o.Ck(p,g)){e.a.warn("Incompatible DRM info in HLS variant.  Skipping.");continue}m=o.Bk(p,g)}else d?m=p:h&&(m=g);e.U.has(f)?e.a.debug("Skipping variant which only differs in text streams."):(d=_(e,d,h,i,m),u.push(d),e.U.add(f))}}return u},_=function(e,t,n,i,r){return{id:e.Y++,language:t?t.language:o.Md,primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:i,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0}},U=function(e,t){var n,i,r,a,s,u,c,d,f,p,g,m,v;return o.A((function(b){return 1==b.a?(n=T(t,l),i="",r=T(t,"TYPE").toLowerCase(),a=o.Tk,r==o.Gd&&(r=a.TEXT),r!==a.TEXT&&n&&e.i.has(n)&&(i=e.i.get(n)),s=T(t,h),e.b.has(s)?b["return"](e.b.get(s)):(u=o.Xm(w(t,"LANGUAGE",o.Md)),c=w(t,"NAME"),d=t.getAttribute("DEFAULT"),f=t.getAttribute("AUTOSELECT"),p=w(t,"CHANNELS"),g=r==o.Lb&&p?parseInt(p.split("/")[0],10):null,m=!!d&&!!f,o.x(b,F(e,s,i,r,u,m,c,g,null),2))):(v=b.b,null==v?b["return"](null):(e.j.has(n)?e.j.get(n).push(v):e.j.set(n,[v]),e.b.has(s)?b["return"](e.b.get(s)):(e.b.set(s,v),b["return"](v))))}))},B=function(e,t){var n=w(t,"CODECS","avc1.42E01E,mp4a.40.2").split(/\s*,\s*/),i=new Set,r=[];n=o.u(n);for(var a=n.next();!a.done;a=n.next()){a=a.value;var s=o.fg(a)[0];i.has(s)?e.a.debug("Ignoring duplicate codec"):(r.push(a),i.add(s))}return r},K=function(e,t,i,r){var a,s,u,c,l,d;return o.A((function(f){return 1==f.a?(a=o.Tk,s=T(t,h),e.b.has(s)?f["return"](e.b.get(s)):(u=w(t,n),c=null,r==a.VIDEO&&u&&"NONE"!=u&&(c=e.B.get(u)),l=ee(r,i),o.x(f,F(e,s,l,r,o.Md,!1,null,null,c),2))):(d=f.b,null==d?f["return"](null):e.b.has(s)?f["return"](e.b.get(s)):(e.b.set(s,d),f["return"](d)))}))},F=function(e,t,n,i,r,s,u,c,l){var d,f,p,g,m,v,b,y,S,k,A,x,I,C,M,P,R,N,D,O,L,j,_,U,B,K,F,q,W;return o.A((function(J){switch(J.a){case 1:if(d=le,f=d.Yc(e.m,t),e.g==me&&e.s.has(f)){p=e.s.get(f),e.s["delete"](f),J.A(2);break}return o.x(J,ie(e,f),3);case 3:m=J.b,f=m.uri,p=E(e.C,m.data,f);case 2:if(1!=p.type)throw new o.J(o.K,4,4017);for(v=[],p.b.forEach((function(e){e=d.yc(e.b,"EXT-X-KEY"),v.push.apply(v,e)})),b=!1,y=[],S=null,k=o.u(v),A=k.next();!A.done;A=k.next())x=A.value,I=T(x,"METHOD"),C=w(x,"KEYFORMAT","identity"),"NONE"!=I&&("AES-128"==I?(M=w(x,"IV",""),P=d.Yc(e.m,T(x,h)),g={method:"AES-128",url:P,iv:M?o.Pj((M||"0x").slice(2)):null},e.v=!0):(b=!0,(N=(R=ge[C])?R(x):null)?(N.keyIds.length&&(S=N.keyIds[0]),y.push(N)):e.a.warn("Unsupported HLS KEYFORMAT",C)));if(b&&!y.length&&!e.v)throw new o.J(o.K,4,4026);return H(e,p),o.x(J,te(e,i,n,p),4);case 4:return D=J.b,L=(O=d.Gb(p.a,a))?Number(O.value):0,o.x(J,G(e,t,p,L,i,D,n,g),5);case 5:return j=J.b,_=j[0].startTime,U=j[j.length-1].endTime,B=U-_,K=new o.Mn(j),F=V(p,g),q=void 0,i==o.k&&(q=o.Fd),W={id:e.Y++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:K.find.bind(K),getSegmentReference:K.get.bind(K),adjustSegmentDurations:K.ac.bind(K),getDuration:K.getDuration.bind(K),initSegmentReference:F,presentationTimeOffset:0,mimeType:D,codecs:n,kind:q,encrypted:b,keyId:S,language:r,label:u,type:i,primary:s,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:c,closedCaptions:l,keyInfo:g},J["return"]({stream:W,yb:K,drmInfos:y,sd:t,Xf:f,ae:_,$j:U,duration:B})}}))},H=function(e,t){var n=le.Gb(t.a,s),i=le.Gb(t.a,r);i=n&&"VOD"==n.value||i,n=n&&"EVENT"==n.value&&!i,n=!i&&!n,i?oe(e,me):(oe(e,n?be:ve),i=ne(t.a,c),i=Number(i.value),e.J=Math.max(i,e.J),e.K=Math.min(i,e.K))},V=function(e,t){var n=le.yc(e.a,"EXT-X-MAP");if(!n.length)return null;if(1<n.length)throw new o.J(o.K,4,4020);var i=n[0];n=T(i,h);var r=le.Yc(e.c,n);n=0;var a=null;return(i=w(i,"BYTERANGE"))&&(n=i.split("@"),i=Number(n[0]),n=Number(n[1]),a=n+i-1),new o.En((function(){return[r]}),n,a,t)},q=function(e,t,n,r,a){var s=t.b,u=t.a;t=ne(s,"EXTINF").value.split(","),t=r+Number(t[0]);var c=0,l=null;return(s=le.Gb(s,i))&&(c=s.value.split("@"),s=Number(c[0]),c=c[1]?Number(c[1]):e.ga+1,l=c+s-1),a&&!a.iv&&(a.iv=o.Sj(new Uint8Array(12),new Uint8Array([n>>24&255,n>>16&255,n>>8&255,255&n]))),new o.Fn(n,r,t,(function(){return[u]}),c,l,a)},W=function(e){e.c&&(e.R.forEach((function(t){o.In(e.c,t,0)})),e.R=[])},G=function(e,t,n,i,r,a,s,u){var c,l,d,f,h,p,g,m,v,b,y,w;return o.A((function(T){if(1==T.a)return c=n.b,l=[],d=c[0].a,f=q(null,c[0],i,0,u||null),h=V(n,u||null),o.x(T,J(e,t,h,f,r,a,s),2);for(p=T.b,e.a.debug("First segment",d.split("/").pop(),"starts at",p),g=0;g<c.length;++g)m=c[g],v=l[l.length-1],b=0==g?p:v.endTime,y=i+g,w=q(v,m,y,b,u||null),l.push(w);return e.R.push(l),W(e),T["return"](l)}))},J=function(e,t,n,i,r,a,s){var u;return o.A((function(c){return 1==c.a?null!==e.G?(e.a.debug("Reusing cached start time for",r),c.A(2)):(u=e,o.x(c,Y(e,t,n,i,a,s),3)):(2!=c.a&&(u.G=c.b,e.a.debug("Fetched start time for",r)),c["return"](e.G))}))},z=function(e,t){var n,i,r,a,s,u,c;return o.A((function(l){switch(l.a){case 1:return n=t.a(),i=o.Ym(t.za(),t.ta,t.ta+2048-1,e.f.attemptParameters),i.type=o.lo,r=o.Ym(t.za(),t.ta,t.ga,e.f.attemptParameters),r.type=o.lo,n&&(r.keyInfo=n),o.Ae(l,2),a=e.v?r:i,o.x(l,se(e,a),4);case 4:return s=l.b,l["return"](s);case 2:if(u=o.Ce(l),7001==u.code||e.v)throw u;return e.a.warn("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),o.x(l,se(e,r),5);case 5:return c=l.b,l["return"](c)}}))},Y=function(e,t,n,i,r,a){var s,u,c,l,d,f,h,p,g,v,b;return o.A((function(y){switch(y.a){case 1:if(e.w){if(s=e.b.get(t),u=s.yb,c=u.get(i.position))return e.a.debug("Found segment start time in previous manifest"),y["return"](c.startTime);e.a.debug("Unable to find segment start time in previous manifest!")}if(e.a.debug("Fetching segment to find start time"),"audio/mpeg"==r)return y["return"](0);if("audio/aac"!=r){y.A(2);break}return o.x(y,z(e,i),3);case 3:return l=y.b,d=o.cf(l.data),m(d)?y["return"](Q(d)):y["return"]($(l.data));case 2:if(r!=o.Xd&&r!=o.Mb){y.A(4);break}return f=[z(e,i)],n&&f.push(z(e,n)),o.x(y,Promise.all(f),5);case 5:return h=y.b,p=h[0],g=h[1]||h[0],y["return"](X(e,p.data,g.data));case 4:if(r!=o.Wd){y.A(6);break}return o.x(y,z(e,i),7);case 7:return v=y.b,y["return"]($(v.data));case 6:if("audio/eac3"===r||"audio/ac3"===r)return y["return"](0);if(b=re,!b(r,a))return y["return"](0);throw new o.J(o.K,4,4030)}}))},X=function(e,t,n){var i=0;if((new o.gh).I("moov",o.hh).I("trak",o.hh).I("mdia",o.hh).W("mdhd",(function(e){e.u.skip(0==e.version?8:16),i=o.bh(e.u),e.gb.stop()})).parse(n,!0),!i)throw e.a.error("Unable to find timescale in init segment!"),new o.J(o.K,4,4030);var r=0,a=!1;if((new o.gh).I("moof",o.hh).I("traf",o.hh).W("tfdt",(function(e){r=(0==e.version?o.bh(e.u):o.dh(e.u))/i,a=!0,e.gb.stop()})).parse(t,!0),!a)throw new o.J(o.K,4,4030);return r},$=function(e){function t(){i.seek(r+188),a=o.$g(i),71!=a&&(i.seek(r+192),a=o.$g(i)),71!=a&&(i.seek(r+204),a=o.$g(i)),71!=a&&n(),o.fh(i)}function n(){throw new o.J(o.K,4,4030)}for(var i=new o.Xg(new DataView(e),!1),r=0,a=0;;)if(r=i.getPosition(),a=o.$g(i),71!=a&&n(),e=o.ah(i),8191===(8191&e))t();else if(16384&e){if(e=(48&o.$g(i))>>4,0!=e&&2!=e||n(),3==e&&(e=o.$g(i),i.skip(e)),1==o.bh(i)>>8){i.skip(3),e=o.$g(i)>>6,0!=e&&1!=e||n(),0==o.$g(i)&&n(),e=o.$g(i);var s=o.ah(i),u=o.ah(i);return(1073741824*((14&e)>>1)+((65534&s)<<14|(65534&u)>>1))/9e4}t()}else t()},Q=function(e){function t(e,t,n){for(var i="";t<n;t++)i+="%"+("00"+e[t].toString(16)).slice(-2);return i}function n(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}function i(){throw new o.J(o.K,4,4030)}m(e)||i();var r=10;64&e[5]&&(r=r+4+n(e.subarray(10,14)));do{var a=n(e.subarray(r+4,r+8));1>a&&i();var s=String.fromCharCode(e[r],e[r+1],e[r+2],e[r+3]);if("PRIV"===s){s=e.subarray(r+10,r+a+10);for(var u=0;u<s.byteLength;u++)if(0===s[u]){if("com.apple.streaming.transportStreamTimestamp"===unescape(t(s,0,u)))return e=s.subarray(u+1),a=(1&e[3])<<30|e[4]<<22|e[5]<<14|e[6]<<6|e[7]>>>2,a*=4,a+=3&e[7],Math.round(a/9e4);break}}m(e,r)||i(),r+=10,r+=a}while(r<e.byteLength);return i()},Z=function(e,t){for(var n=he[e],i=0;i<n.length;i++)for(var r=0;r<t.length;r++)if(n[i].test(t[r].trim()))return t[r].trim();return e==o.k?"":null},ee=function(e,t){if(1==t.length)return t[0];var n=Z(e,t);if(null!=n)return n;throw new o.J(o.K,4,4025,{codecList:t})},te=function(e,t,n,i){var r,a,s,u,c,l,d,f,h;return o.A((function(g){if(1==g.a)return r=o.Tk,a=i.b[0].a,s=new o.kj(a),u=s.fa.split(".").pop(),c=pe[t],(l=c[u])?g["return"](l):t==r.TEXT?n&&"vtt"!=n?g["return"](p):g["return"](o.Id):(d=o.Ci([a],e.f.attemptParameters),d.method="HEAD",d.type=o.lo,o.x(g,se(e,d),2));if(f=g.b,h=f.headers["content-type"],!h)throw new o.J(o.K,4,4021,u);return g["return"](h.split(";")[0])}))},ne=function(e,t){var n=le.Gb(e,t);if(!n)throw new o.J(o.K,4,4024,{missingTag:t});return n},ie=function(e,t){var n=o.Ci([t],e.f.attemptParameters);return n.type=1,se(e,n)},re=function(e,t){return MediaSource.isTypeSupported((e.split("/")[0]||"")+'/mp4;codecs="'+t+'"')},ae=function(e){var t,n;o.A((function(i){return 1==i.a?(e.a.info(o.$a),e.h?(o.Ae(i,2),o.x(i,e.update(),4)):i["return"]()):2!=i.a?(t=e.S,e.l.P(t),o.Be(i,0)):(n=o.Ce(i),n.ib(1),e.h.onError(n),e.l.P(.1),void o.y(i))}))},oe=function(e,t){e.g=t,e.c&&(e.c.b=e.g==me),e.g!=me||e.l.stop()},se=function(e,t){if(!e.o)throw new o.J(o.K,7,7001);var n=e.h.networkingEngine.fetch(t);return o.Vm(e.o,n),n.promise},ue=function(){},ce=function e(t){var n,i,r,a,s,u;return g(e,(function(e){return 1==e.a&&(n=-1,r=i=void 0,a=o.u(t),s=a.next()),5!=e.a?s.done?-1===n?e.A(0):o.x(e,{kf:n,mj:i,item:r,next:void 0},0):(u=s.value,0<=n?o.x(e,{kf:n,item:r,mj:i,next:u},5):e.A(5)):(n++,i=r,r=u,s=a.next(),e.A(2))}))};b.prototype.toString=function(){function e(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}var t="#"+this.name,n=this.a?this.a.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},b.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var le={yc:function(e,t){return e.filter((function(e){return e.name==t}))},bf:function(e,t){return e.filter((function(e){return T(e,"TYPE")===t}))},Gb:function(e,t){var n=le.yc(e,t);return n.length?n[0]:null},Xj:function(e,t,n){return e.filter((function(e){var i=e.getAttribute("TYPE");return e=e.getAttribute(l),i.value==t&&e.value==n}))},Yc:function(e,t){return o.Ek([e],[t])[0]},Wd:function(e){return/^#(?!EXT)/m.test(e)}},de=[c,a,"EXT-X-DISCONTINUITY-SEQUENCE",s,"EXT-X-MAP","EXT-X-I-FRAMES-ONLY",r],fe=["EXTINF",i,"EXT-X-DISCONTINUITY","EXT-X-PROGRAM-DATE-TIME","EXT-X-KEY","EXT-X-DATERANGE"];o.r=I.prototype,o.r.configure=function(e){this.f=e},o.r.start=function(e,t){var n,i,r=this;return o.A((function(a){return 1==a.a?(r.h=t,o.x(a,ie(r,e),2)):3!=a.a?(n=a.b,r.m=n.uri,o.x(a,M(r,n.data),3)):(i=r.S,0<i&&r.l.P(i),a["return"](r.w))}))},o.r.stop=function(){this.l&&(this.l.stop(),this.l=null);var e=[];return this.o&&(e.push(this.o.destroy()),this.o=null),this.f=this.h=null,this.U.clear(),this.b.clear(),this.s.clear(),this.w=null,this.j.clear(),this.i.clear(),Promise.all(e)},o.r.update=function(){var e,t,n,i=this;return o.A((function(r){if(1==r.a)return i.g==me?r["return"]():(e=[],i.G=null,t=Array.from(i.b.values()),t.length?o.x(r,C(i,t[0]),2):r.A(2));for(n=1;n<t.length;++n)e.push(C(i,t[n]));return o.x(r,Promise.all(e),0)}))},o.r.onExpirationUpdated=function(){};var he={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},pe={audio:{mp4:o.Mb,m4s:o.Mb,m4i:o.Mb,m4a:o.Mb,cmfa:o.Mb,ts:o.Wd,aac:"audio/aac",ec3:"audio/eac3",ac3:"audio/ac3"},video:{mp4:o.Xd,m4s:o.Xd,m4i:o.Xd,m4v:o.Xd,cmfv:o.Xd,ts:o.Wd},text:{mp4:p,m4s:p,m4i:p,cmft:p,vtt:o.Id,ttml:o.Fb}},ge={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=T(e,"METHOD"),n=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return n.includes(t)?(t=T(e,h),t=o.Ti.parse(t),t=o.cf(t.data),t=o.Fk(o.kc,[{initDataType:o.Zb,initData:t}]),(e=w(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):(o.af("Widevine in HLS is only supported with [",n.join(", "),"], not",t),null)}},me="VOD",ve="EVENT",be="LIVE",ye={VOD:me,Jj:ve,LIVE:be};o.w(ue,o.fl),ue.prototype.rb=function(){o.vo.od("m3u8",I),o.vo.Gc(o.ml,I),o.vo.Gc(o.Gb,I)},ue.prototype.hb=function(){o.vo.ne("m3u8"),o.vo.pd(o.ml),o.vo.pd(o.Gb)},ue.prototype.id=function(){return"clpp.component.hls"},o.B("clpp.hls.HlsComponent",ue)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else i=[n("3f2b")],r=function(e){return o=e._,s.call(a,this),a}.apply(t,i),void 0===r||(e.exports=r)}()},"7db0":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").find,a=n("44d2"),o=n("ae40"),s="find",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),i({target:"Array",proto:!0,forced:u||!c},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},"81d5":function(e,t,n){"use strict";var i=n("7b0b"),r=n("23cb"),a=n("50c4");e.exports=function(e){var t=i(this),n=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);while(c>s)t[s++]=e;return t}},"82f8":function(e,t,n){"use strict";var i=n("ebb5"),r=n("4d64").includes,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("includes",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8418:function(e,t,n){"use strict";var i=n("c04e"),r=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},"841c":function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=r(e),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},"84c3":function(e,t,n){var i=n("74e8");i("Uint16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},"8a79":function(e,t,n){"use strict";var i=n("23e7"),r=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".endsWith,d=Math.min,f=u("endsWith"),h=!c&&!f&&!!function(){var e=r(String.prototype,"endsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!h&&!f},{endsWith:function(e){var t=String(s(this));o(e);var n=arguments.length>1?arguments[1]:void 0,i=a(t.length),r=void 0===n?i:d(a(n),i),u=String(e);return l?l.call(t,u,r):t.slice(r-u.length,r)===u}})},"8aa7":function(e,t,n){var i=n("da84"),r=n("d039"),a=n("1c7e"),o=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,u=i.Int8Array;e.exports=!o||!r((function(){u(1)}))||!r((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||r((function(){return 1!==new u(new s(2),1,void 0).length}))},9129:function(e,t,n){var i=n("23e7");i({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},"92fa":function(e,t){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,t){var r,a,o,s,u;for(o in t)if(r=e[o],a=t[o],r&&n.test(o))if("class"===o&&("string"===typeof r&&(u=r,e[o]=r={},r[u]=!0),"string"===typeof a&&(u=a,t[o]=a={},a[u]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in a)r[s]=i(r[s],a[s]);else if(Array.isArray(r))e[o]=r.concat(a);else if(Array.isArray(a))e[o]=[r].concat(a);else for(s in a)r[s]=a[s];else e[o]=t[o];return e}),{})}},9861:function(e,t,n){"use strict";n("e260");var i=n("23e7"),r=n("d066"),a=n("0d3b"),o=n("6eeb"),s=n("e2cc"),u=n("d44e"),c=n("9ed3"),l=n("69f3"),d=n("19aa"),f=n("5135"),h=n("0366"),p=n("f5df"),g=n("825a"),m=n("861d"),v=n("7c73"),b=n("5c6c"),y=n("9a1f"),w=n("35a1"),T=n("b622"),S=r("fetch"),k=r("Headers"),E=T("iterator"),A="URLSearchParams",x=A+"Iterator",I=l.set,C=l.getterFor(A),M=l.getterFor(x),P=/\+/g,R=Array(4),N=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},D=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(i){while(n)t=t.replace(N(n--),D);return t}},L=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},_=function(e){return j[e]},U=function(e){return encodeURIComponent(e).replace(L,_)},B=function(e,t){if(t){var n,i,r=t.split("&"),a=0;while(a<r.length)n=r[a++],n.length&&(i=n.split("="),e.push({key:O(i.shift()),value:O(i.join("="))}))}},K=function(e){this.entries.length=0,B(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=c((function(e,t){I(this,{type:x,iterator:y(C(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),V=function(){d(this,V,A);var e,t,n,i,r,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(I(l,{type:A,entries:h,updateURL:function(){},updateSearchParams:K}),void 0!==c)if(m(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(i=n.call(t)).done){if(r=y(g(i.value)),a=r.next,(o=a.call(r)).done||(s=a.call(r)).done||!a.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}}else for(u in c)f(c,u)&&h.push({key:u,value:c[u]+""});else B(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=V.prototype;s(q,{append:function(e,t){F(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);var t=C(this),n=t.entries,i=e+"",r=0;while(r<n.length)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=C(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){F(arguments.length,1);for(var t=C(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){F(arguments.length,1);var t=C(this).entries,n=e+"",i=0;while(i<t.length)if(t[i++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,i=C(this),r=i.entries,a=!1,o=e+"",s=t+"",u=0;u<r.length;u++)n=r[u],n.key===o&&(a?r.splice(u--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,n,i=C(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){var t,n=C(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<n.length)t=n[r++],i(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),o(q,E,q.entries),o(q,"toString",(function(){var e,t=C(this).entries,n=[],i=0;while(i<t.length)e=t[i++],n.push(U(e.key)+"="+U(e.value));return n.join("&")}),{enumerable:!0}),u(V,A),i({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof S||"function"!=typeof k||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,p(n)===A&&(i=t.headers?new k(t.headers):new k,i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:b(0,String(n)),headers:b(0,i)}))),r.push(t)),S.apply(this,r)}}),e.exports={URLSearchParams:V,getState:C}},"99af":function(e,t,n){"use strict";var i=n("23e7"),r=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),u=n("50c4"),c=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),h=n("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=d("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},w=!v||!b;i({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,i,r,a,o=s(this),d=l(o,0),f=0;for(t=-1,i=arguments.length;t<i;t++)if(a=-1===t?o:arguments[t],y(a)){if(r=u(a.length),f+r>g)throw TypeError(m);for(n=0;n<r;n++,f++)n in a&&c(d,f,a[n])}else{if(f>=g)throw TypeError(m);c(d,f++,a)}return d.length=f,d}})},"9a1f":function(e,t,n){var i=n("825a"),r=n("35a1");e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},"9a8c":function(e,t,n){"use strict";var i=n("ebb5"),r=n("145e"),a=i.aTypedArray,o=i.exportTypedArrayMethod;o("copyWithin",(function(e,t){return r.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},a078:function(e,t,n){var i=n("7b0b"),r=n("50c4"),a=n("35a1"),o=n("e95a"),s=n("0366"),u=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,l,d,f,h=i(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=a(h);if(void 0!=v&&!o(v)){d=v.call(h),f=d.next,h=[];while(!(l=f.call(d)).done)h.push(l.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),n=r(h.length),c=new(u(this))(n),t=0;n>t;t++)c[t]=m?g(h[t],t):h[t];return c}},a15b:function(e,t,n){"use strict";var i=n("23e7"),r=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,u=r!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a2bf:function(e,t,n){"use strict";var i=n("e8b5"),r=n("50c4"),a=n("0366"),o=function(e,t,n,s,u,c,l,d){var f,h=u,p=0,g=!!l&&a(l,d,3);while(p<s){if(p in n){if(f=g?g(n[p],p,t):n[p],c>0&&i(f))h=o(e,t,f,r(f.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=f}h++}p++}return h};e.exports=o},a434:function(e,t,n){"use strict";var i=n("23e7"),r=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),u=n("65f0"),c=n("8418"),l=n("1dde"),d=n("ae40"),f=l("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,i,l,d,f,h,b=s(this),y=o(b.length),w=r(e,y),T=arguments.length;if(0===T?n=i=0:1===T?(n=0,i=y-w):(n=T-2,i=g(p(a(t),0),y-w)),y+n-i>m)throw TypeError(v);for(l=u(b,i),d=0;d<i;d++)f=w+d,f in b&&c(l,d,b[f]);if(l.length=i,n<i){for(d=w;d<y-i;d++)f=d+i,h=d+n,f in b?b[h]=b[f]:delete b[h];for(d=y;d>y-i+n;d--)delete b[d-1]}else if(n>i)for(d=y-i;d>w;d--)f=d+i-1,h=d+n-1,f in b?b[h]=b[f]:delete b[h];for(d=0;d<n;d++)b[d+w]=arguments[d+2];return b.length=y-i+n,l}})},a4d3:function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("d066"),o=n("c430"),s=n("83ab"),u=n("4930"),c=n("fdbf"),l=n("d039"),d=n("5135"),f=n("e8b5"),h=n("861d"),p=n("825a"),g=n("7b0b"),m=n("fc6a"),v=n("c04e"),b=n("5c6c"),y=n("7c73"),w=n("df75"),T=n("241c"),S=n("057f"),k=n("7418"),E=n("06cf"),A=n("9bf2"),x=n("d1e7"),I=n("9112"),C=n("6eeb"),M=n("5692"),P=n("f772"),R=n("d012"),N=n("90e3"),D=n("b622"),O=n("e538"),L=n("746f"),j=n("d44e"),_=n("69f3"),U=n("b727").forEach,B=P("hidden"),K="Symbol",F="prototype",H=D("toPrimitive"),V=_.set,q=_.getterFor(K),W=Object[F],G=r.Symbol,J=a("JSON","stringify"),z=E.f,Y=A.f,X=S.f,$=x.f,Q=M("symbols"),Z=M("op-symbols"),ee=M("string-to-symbol-registry"),te=M("symbol-to-string-registry"),ne=M("wks"),ie=r.QObject,re=!ie||!ie[F]||!ie[F].findChild,ae=s&&l((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=z(W,t);i&&delete W[t],Y(e,t,n),i&&e!==W&&Y(W,t,i)}:Y,oe=function(e,t){var n=Q[e]=y(G[F]);return V(n,{type:K,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},ue=function(e,t,n){e===W&&ue(Z,t,n),p(e);var i=v(t,!0);return p(n),d(Q,i)?(n.enumerable?(d(e,B)&&e[B][i]&&(e[B][i]=!1),n=y(n,{enumerable:b(0,!1)})):(d(e,B)||Y(e,B,b(1,{})),e[B][i]=!0),ae(e,i,n)):Y(e,i,n)},ce=function(e,t){p(e);var n=m(t),i=w(n).concat(pe(n));return U(i,(function(t){s&&!de.call(n,t)||ue(e,t,n[t])})),e},le=function(e,t){return void 0===t?y(e):ce(y(e),t)},de=function(e){var t=v(e,!0),n=$.call(this,t);return!(this===W&&d(Q,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,B)&&this[B][t])||n)},fe=function(e,t){var n=m(e),i=v(t,!0);if(n!==W||!d(Q,i)||d(Z,i)){var r=z(n,i);return!r||!d(Q,i)||d(n,B)&&n[B][i]||(r.enumerable=!0),r}},he=function(e){var t=X(m(e)),n=[];return U(t,(function(e){d(Q,e)||d(R,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=X(t?Z:m(e)),i=[];return U(n,(function(e){!d(Q,e)||t&&!d(W,e)||i.push(Q[e])})),i};if(u||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),n=function(e){this===W&&n.call(Z,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ae(this,t,b(1,e))};return s&&re&&ae(W,t,{configurable:!0,set:n}),oe(t,e)},C(G[F],"toString",(function(){return q(this).tag})),C(G,"withoutSetter",(function(e){return oe(N(e),e)})),x.f=de,A.f=ue,E.f=fe,T.f=S.f=he,k.f=pe,O.f=function(e){return oe(D(e),e)},s&&(Y(G[F],"description",{configurable:!0,get:function(){return q(this).description}}),o||C(W,"propertyIsEnumerable",de,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),U(w(ne),(function(e){L(e)})),i({target:K,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=G(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:fe}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),i({target:"Object",stat:!0,forced:l((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(g(e))}}),J){var ge=!u||l((function(){var e=G();return"[null]"!=J([e])||"{}"!=J({a:e})||"{}"!=J(Object(e))}));i({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,n){var i,r=[e],a=1;while(arguments.length>a)r.push(arguments[a++]);if(i=t,(h(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!se(t))return t}),r[1]=t,J.apply(null,r)}})}G[F][H]||I(G[F],H,G[F].valueOf),j(G,K),R[B]=!0},a55b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-primary is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-5-tablet is-4-desktop is-3-widescreen"},[n("div",{staticClass:"box"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Email")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.email,expression:"input.email"}],staticClass:"input",attrs:{type:"email",name:"email",placeholder:"e.g. bobsmith@gmail.com"},domProps:{value:e.input.email},on:{input:function(t){t.target.composing||e.$set(e.input,"email",t.target.value)}}}),e._m(0)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Password")]),n("div",{staticClass:"control has-icons-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticClass:"input",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._m(1)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v("Platform")]),n("div",{staticClass:"control has-icons-right"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.platform,expression:"platform"}],staticClass:"input",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.platform=t.target.multiple?n:n[0]}}},[n("option",[e._v("prod")]),n("option",[e._v("preprod")])]),e._m(2)])]),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-success",on:{click:function(t){return e.login()}}},[e._v(" Login ")])])])])])])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-envelope"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-right"},[n("i",{staticClass:"fa fa-lock"})])}],a=(n("99af"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),o=n("5530"),s=n("2f62"),u={name:"Login",data:function(){return{input:{email:"",password:""}}},computed:{platform:{get:function(){return localStorage.getItem("platform")},set:function(e){localStorage.setItem("platform",e)}}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["fetchWishList","fetchMovieRentals"])),{},{getAuthToken:function(e){var t=this;return new Promise((function(n,i){var r=new Headers;r.append("Authorization","Basic ".concat(t.$parent.raaAuth)),r.append("Content-Type","application/x-www-form-urlencoded");var a=new URLSearchParams;a.append("raa_token",e),a.append("grant_type","raa_token");var o={method:"POST",headers:r,body:a,redirect:"follow"};fetch("https://telstramedia-prod.apigee.net/v1/auth/tokens",o).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return i(e)}))}))},signIn:function(){var e=this;return new Promise((function(t,n){var i=new Headers;i.append("Authorization","Basic ".concat(e.$parent.basicAuth));var r={method:"POST",headers:i,redirect:"follow"};fetch("https://services.bigpond.com/rest/v1/AuthenticationService/authenticate?authToken=".concat(e.input.password,"&userIdentifier=").concat(e.input.email,"&userIdentifierType=EMAIL"),r).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.signIn();case 3:return n=t.sent,t.next=6,e.getAuthToken(n.data.artifactValue);case 6:i=t.sent,console.log(i),i.access_token&&(localStorage.setItem("authData",JSON.stringify(i)),e.$parent.authenticated=!0,e.fetchMovieRentals({authData:i}),e.$router.replace({name:"Assets"})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$parent.authenticated=!1;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}})},c=u,l=(n("d6db"),n("2877")),d=Object(l["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},a623:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").every,a=n("a640"),o=n("ae40"),s=a("every"),u=o("every");i({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},a630:function(e,t,n){var i=n("23e7"),r=n("4df4"),a=n("1c7e"),o=!a((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:o},{from:r})},a965:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showModal&&e.asset.images?n("div",{staticClass:"is-active modal",style:"--hero-image: url("+e.asset.images[0].url+");"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-content"},[n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container is-fullhd"},[n("h1",{staticClass:"has-text-light is-size-1 title has-text-left"},[e._v(" "+e._s(e.asset.displayTitle)+" ")]),n("h2",{staticClass:"has-text-light is-size-5 sub-title has-text-left"},[e._v(" "+e._s(e.asset.descriptionShort)+" ")]),n("div",{staticClass:"pt-5 has-text-left"},[e.asset.availability?n("button",{staticClass:"button is-white mr-4",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.availability.embedCode,posterImg:e.asset.images[0].url},query:{offerId:e.asset.availability.offerId}})}}},[e._v(" Watch ")]):e._e(),e.asset.trailer?n("button",{staticClass:"button is-white",on:{click:function(t){return e.$router.push({name:"Watch",params:{embedCode:e.asset.trailer.embedCode,posterImg:e.asset.images[0].url}})}}},[e._v(" Watch Trailer ")]):e._e()])])])])]),n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(t){return e.closeModal()}}})]):e._e()},r=[],a=(n("99af"),n("4de4"),n("d3b7"),{props:["assetId"],data:function(){return{asset:Object,showModal:!1,authData:null}},watch:{$route:function(e,t){var n=this;this.asset=e.params.assetId,this.getAsset(this.assetId,this.authData).then((function(e){n.asset=e[0];var t=e[0].availability.filter((function(e){return e.isEntitled}));n.asset.availability=t[0]})),this.showModal=e.meta&&t.meta.showModal}},mounted:function(){var e=this;this.authData=JSON.parse(localStorage.getItem("authData")),this.asset=this.assetId,this.getAsset(this.assetId,this.authData).then((function(t){e.asset=t[0];var n=t[0].availability.filter((function(e){return e.isEntitled}));e.asset.availability=n[0]})),this.showModal=!0},methods:{closeModal:function(){this.showModal=!1},getAsset:function(e,t){return new Promise((function(n,i){var r=new Headers;r.append("Authorization","Bearer ".concat(t.access_token)),r.append("Content-Type","application/json");var a={method:"GET",headers:r,redirect:"follow"};fetch("https://telstramedia-prod.apigee.net/v1/ttvbo/assets/".concat(e,"?attributes=*&uuid=").concat(t.uuid),a).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return i(e)}))}))}}}),o=a,s=(n("ecda"),n("2877")),u=Object(s["a"])(o,i,r,!1,null,null,null);t["default"]=u.exports},a975:function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").every,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("every",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9e3:function(e,t,n){"use strict";var i=n("83ab"),r=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),h=n("241c").f,p=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,v="Number",b=r[v],y=b.prototype,w=u(f(y))==v,T=function(e){var t,n,i,r,a,o,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>r)return NaN;return parseInt(a,i)}return+c};if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,k=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof k&&(w?d((function(){y.valueOf.call(n)})):u(n)!=v)?c(new b(T(t)),n,k):T(t)},E=i?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;E.length>A;A++)s(b,S=E[A])&&!s(k,S)&&g(k,S,p(b,S));k.prototype=y,y.constructor=k,o(r,v,k)}},ab13:function(e,t,n){var i=n("b622"),r=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},aff5:function(e,t,n){var i=n("23e7");i({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},b0c0:function(e,t,n){var i=n("83ab"),r=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";i&&!(u in a)&&r(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b39a:function(e,t,n){"use strict";var i=n("da84"),r=n("ebb5"),a=n("d039"),o=i.Int8Array,s=r.aTypedArray,u=r.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,d=!!o&&a((function(){c.call(new o(1))})),f=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return c.apply(d?l.call(s(this)):s(this),arguments)}),f)},b64b:function(e,t,n){var i=n("23e7"),r=n("7b0b"),a=n("df75"),o=n("d039"),s=o((function(){a(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return a(r(e))}})},b680:function(e,t,n){"use strict";var i=n("23e7"),r=n("a691"),a=n("408a"),o=n("1148"),s=n("d039"),u=1..toFixed,c=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));i({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,n,i,s,u=a(this),f=r(e),h=[0,0,0,0,0,0],p="",g="0",m=function(e,t){var n=-1,i=t;while(++n<6)i+=e*h[n],h[n]=i%1e7,i=c(i/1e7)},v=function(e){var t=6,n=0;while(--t>=0)n+=h[t],h[t]=c(n/e),n=n%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var n=String(h[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(t=d(u*l(2,69,1))-69,n=t<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),i=f;while(i>=7)m(1e7,0),i-=7;m(l(10,i,1),0),i=t-1;while(i>=23)v(1<<23),i-=23;v(1<<i),m(1,1),v(2),g=b()}else m(0,n),m(1<<-t,0),g=b()+o.call("0",f);return f>0?(s=g.length,g=p+(s<=f?"0."+o.call("0",f-s)+g:g.slice(0,s-f)+"."+g.slice(s-f))):g=p+g,g}})},baa5:function(e,t,n){var i=n("23e7"),r=n("e58c");i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},bb2f:function(e,t,n){var i=n("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c19f:function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("621a"),o=n("2626"),s="ArrayBuffer",u=a[s],c=r[s];i({global:!0,forced:c!==u},{ArrayBuffer:u}),o(s)},c1ac:function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").filter,a=n("4840"),o=i.aTypedArray,s=i.aTypedArrayConstructor,u=i.exportTypedArrayMethod;u("filter",(function(e){var t=r(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),i=0,u=t.length,c=new(s(n))(u);while(u>i)c[i]=t[i++];return c}))},c1c5:function(e,t,n){var i,r;n("fb6a"),n("c19f"),n("d3b7"),n("143c"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var a=n("7037");(function(){var o={},s=s||{},u=function(e){var t=function(e){var t=void 0===t?1/0:t;return s.bf(e,t,Int32Array)},n=function(){this.l=[0,1,2,4,8,16,32,64,128,27,54],this.m=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.g=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.j=new Uint32Array(256),this.h=new Uint32Array(256),this.i=new Uint32Array(0),this.c=this.a=this.f=this.b=null;var e=this.j,t=this.h,n=this.m,i=n[0],r=n[1],a=n[2];n=n[3];var o=this.g,s=o[0],u=o[1],c=o[2];o=o[3];var l,d=new Uint32Array(256),f=0,h=0;for(l=0;256>l;l++)d[l]=128>l?l<<1:l<<1^283;for(l=0;256>l;l++){var p=h^h<<1^h<<2^h<<3^h<<4;p=p>>>8^255&p^99,e[f]=p,t[p]=f;var g=d[f],m=d[g],v=d[m],b=257*d[p]^16843008*p;i[f]=b<<24|b>>>8,r[f]=b<<16|b>>>16,a[f]=b<<8|b>>>24,n[f]=b,b=16843009*v^65537*m^257*g^16843008*f,s[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,c[p]=b<<8|b>>>24,o[p]=b,f?(f=g^d[d[d[v^g]]],h^=d[d[h]]):f=h=1}},i=function(e){e=new DataView(e);for(var t=new Uint32Array(4),n=0;4>n;n++)t[n]=e.getUint32(4*n);return t},r=function(){this.a=null},o=function(){this.b=this.c=null,this.h=this.uj.bind(this),this.g={},this.a=null,this.f=new s.H("clpp.crypto")},u=function(e,t){var n,i;return s.A((function(r){return 1==r.a?e.g[t]?r["return"](e.g[t]):(n=s.Ci(t),s.x(r,e.b.fetch(n).promise,2)):(i=r.b,e.g[t]=i.data,r["return"](i.data))}))},c=function(e,t,n){var i,r,a,o;return s.A((function(c){switch(c.a){case 1:return i=new ArrayBuffer(0),s.Ae(c,2),s.x(c,u(e,n.url),4);case 4:i=c.b,s.Be(c,3);break;case 2:return r=s.Ce(c),e.f.debug("Could not fetch key"),e.c.onError(new s.J(1,7,7104,null,r)),c["return"](t);case 3:return s.Ae(c,5),s.x(c,e.a.importKey(i),7);case 7:return s.x(c,e.a.decrypt(t,n.iv.buffer),8);case 8:return a=c.b,c["return"](a);case 5:return o=s.Ce(c),e.f.warn("Could not decrypt segment data!",o),e.c.onError(new s.J(1,3,3103,null,o)),c["return"](t)}}))};n.prototype.importKey=function(e){e=i(e);for(var t=!0,n=0;n<e.length&&t;)t=e[n]===this.i[n],n++;if(t)return new Promise((function(e){return e()}));if(this.i=e,this.a=e.length,4!==this.a&&6!==this.a&&8!==this.a)throw Error("Invalid aes key size="+this.a);this.c=4*(this.a+7),this.b=new Uint32Array(this.c),this.f=new Uint32Array(this.c),t=this.j;var r=this.l,a=this.g;n=a[0];var o=a[1],s=a[2],u=a[3];for(a=0;a<this.c;a++)if(a<this.a)var c=this.b[a]=e[a];else 0===a%this.a?(c=c<<8|c>>>24,c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c],c^=r[a/this.a|0]<<24):6<this.a&&4===a%this.a&&(c=t[c>>>24]<<24|t[c>>>16&255]<<16|t[c>>>8&255]<<8|t[255&c]),c=(this.b[a-this.a]^c)>>>0,this.b[a]=c;for(e=0;e<this.c;e++)a=this.c-e,c=3&e?this.b[a]:this.b[a-4],this.f[e]=4>e||4>=a?c:n[t[c>>>24]]^o[t[c>>>16&255]]^s[t[c>>>8&255]]^u[t[255&c]],this.f[e]>>>=0;return new Promise((function(e){return e()}))},n.prototype.decrypt=function(e,n){var r=0,a=this.a+6,o=this.f,s=this.h,u=this.g,c=u[0],l=u[1],d=u[2];u=u[3];var f=i(n),h=f[0],p=f[1],g=f[2];f=f[3];for(var m,v,b,y,w,T,S,k,E,A,x,I,C,M=t(e),P=new Int32Array(M.length),R=this.o.bind(this);r<M.length;){for(k=R(M[r]),E=R(M[r+1]),A=R(M[r+2]),x=R(M[r+3]),w=k^o[0],T=x^o[1],S=A^o[2],y=E^o[3],I=4,C=1;C<a;C++)m=c[w>>>24]^l[T>>16&255]^d[S>>8&255]^u[255&y]^o[I],v=c[T>>>24]^l[S>>16&255]^d[y>>8&255]^u[255&w]^o[I+1],b=c[S>>>24]^l[y>>16&255]^d[w>>8&255]^u[255&T]^o[I+2],y=c[y>>>24]^l[w>>16&255]^d[T>>8&255]^u[255&S]^o[I+3],w=m,T=v,S=b,I+=4;m=s[w>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&y]^o[I],v=s[T>>>24]<<24^s[S>>16&255]<<16^s[y>>8&255]<<8^s[255&w]^o[I+1],b=s[S>>>24]<<24^s[y>>16&255]<<16^s[w>>8&255]<<8^s[255&T]^o[I+2],y=s[y>>>24]<<24^s[w>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^o[I+3],I+=3,P[r]=R(m^h),P[r+1]=R(y^p),P[r+2]=R(b^g),P[r+3]=R(v^f),h=k,p=E,g=A,f=x,r+=4}return new Promise((function(e){var t=P.buffer,n=t.byteLength,i=n&&new DataView(t).getUint8(n-1);t=i?t.slice(0,n-i):t,e(t)}))},n.prototype.destroy=function(){return this.l=this.f=this.b=this.g=this.m=this.h=this.j=this.c=this.a=this.i=null,new Promise((function(e){return e()}))},n.prototype.o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},r.prototype.importKey=function(e){var t,n=this;return s.A((function(i){if(1==i.a)return t=n,s.x(i,crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"]),2);t.a=i.b,s.y(i)}))},r.prototype.decrypt=function(e,t){var n,i=this;return s.A((function(r){return 1==r.a?s.x(r,crypto.subtle.decrypt({name:"AES-CBC",iv:t},i.a,e),2):(n=r.b,r["return"](n))}))},r.prototype.destroy=function(){return this.a=null,new Promise((function(e){return e()}))},s.w(o,s.fl),s.r=o.prototype,s.r.rb=function(e){this.c=e},s.r.hb=function(){this.c=null},s.r.vc=function(){if(e.crypto&&e.crypto.subtle){var t=e.crypto.subtle.decrypt;t=a(e.crypto.subtle.importKey)===s.Bc&&a(t)===s.Bc}else t=!1;t?this.a=new r:(this.f.warn("No WebCrypto APIs found. Will fallback to software AES"),this.a=new n),this.b=this.c.getNetworkEngine(),this.b.zd(this.h)},s.r.release=function(){this.b&&this.b.oe(this.h),this.a&&(this.a.destroy(),this.a=null),this.b=null,this.g={}},s.r.id=function(){return"clpp.component.crypto"},s.r.uj=function(e){var t,n,i=this;return s.A((function(r){return 1==r.a?(t=e.request||null,t&&t.type===s.lo&&t.keyInfo&&e.data?(i.f.debug("Decrypt data"),n=e,s.x(r,c(i,e.data,t.keyInfo),4)):r.A(2)):(2!=r.a&&(n.data=r.b),r["return"](e))}))},s.B("clpp.crypto.CryptoComponent",o)};if(e.exports){var c=n("3f2b");s=c._,u.call(o,this),e.exports=o}else i=[n("3f2b")],r=function(e){return s=e._,u.call(o,this),o}.apply(t,i),void 0===r||(e.exports=r)})()},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),o=n("ae40"),s="findIndex",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),i({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},ca91:function(e,t,n){"use strict";var i=n("ebb5"),r=n("d58f").left,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("reduce",(function(e){return r(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(e,t,n){"use strict";var i=n("23e7"),r=n("4d64").includes,a=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!s},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,n){var i=n("23e7"),r=n("81d5"),a=n("44d2");i({target:"Array",proto:!0},{fill:r}),a("fill")},cd26:function(e,t,n){"use strict";var i=n("ebb5"),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,n=r(t).length,i=o(n/2),a=0;while(a<i)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},d139:function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").find,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("find",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d28b:function(e,t,n){var i=n("746f");i("iterator")},d570:function(e,t,n){var i,r;n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("4ec9"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),function(){var a={},o=o||{},s=function(e){var t="Channel parsing failure! Ignoring scheme and value",n="ContentProtection",i="EssentialProperty",r="SegmentBase does not contain sufficient segment information:",a="SegmentList does not contain sufficient segment information:",u="SegmentTemplate does not contain sufficient segment information:",c="SegmentTimeline",l='The last "S" element cannot have a negative repeat',d="duration",f='ignoring the remaining "S" elements.',h="presentationTimeOffset",p="schemeIdUri",g="static",m="timescale",v="urn:microsoft:playready",b="urn:mpeg:cenc:2013",y="urn:mpeg:dash:utc:http-head:2014",w="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",T="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",S=function(e){return new o.Yk(Promise.reject(e),(function(){return Promise.resolve()}))},k=function(e){return new o.Yk(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},E=function(e,t){return e.find((function(e){return Te.get(e.xb)===t}))},A=function(e){var t=o.M.cd(e.node,v,"pro");return t?(e=o.Oj(t.textContent),e=o.lm(e),e=o.hm(e.a),{keyId:null,xb:T,node:document.createElement("null"),init:[{initData:o.em(e),initDataType:o.Zb,keyId:null}]}):(o.G("Missing <ms:pro/> node in ContentProtection element",e),null)},x=function(e){var t=o.M.cd(e.node,b,"pssh");if(!t)return o.G("Missing <cenc:pssh/> node in ContentProtection element",e),null;e=o.Oj(t.textContent),e=new o.Xg(new DataView(e.buffer),!1),e.skip(12),e.skip(16),e.skip(4),t=o.$g(e),o.fh(e),8===t&&e.skip(2),o.$g(e),t=o.$g(e);for(var n=new Uint8Array(t),i=0;i<t;i++)n[i]=o.$g(e);return e=o.Qj(n),e=o.hm(e).a,t=o.Pj(e),t=o.jm(t),n=o.mf(t),t=o.cf(o.of('<WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"><DATA><PROTECTINFO><KEYLEN>'+t.byteLength+"</KEYLEN><ALGID>AESCTR</ALGID></PROTECTINFO><KID>"+n+"</KID></DATA></WRMHEADER>",!0)),e=new o.im(o.km,e,null,t),{keyId:null,xb:w,node:document.createElement("null"),init:[{initData:o.em(e),initDataType:o.Zb,keyId:null}]}},I=function(e,t){var n=P(e),i=null,r=[],a=[],s=E(n,o.kc),u=E(n,o.jc);if(u&&!s){var c=A(u);c&&n.push(c)}if(s&&!u&&(s=x(s))&&n.push(s),s=new Set(n.map((function(e){return e.keyId}))),s["delete"](null),1<s.size)throw new o.J(o.K,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.xb||(i=e.init||i,!1)})),a.length&&(r=M(i,a),0==r.length&&(r=[o.Fk("",i)]))),n.length&&(t||!a.length))for(r=[],n=o.u(Te.values()),a=n.next();!a.done;a=n.next())a=a.value,a!=o.ad&&r.push(o.Fk(a,i));if(n=Array.from(s)[0]||null)for(a=o.u(r),s=a.next();!s.done;s=a.next())for(s=o.u(s.value.initData),u=s.next();!u.done;u=s.next())u.value.keyId=n;return{We:n,Vj:i,drmInfos:r,df:!0}},C=function(e,t,n){var i=I(e,n);if(t.df)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.df=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new o.J(o.K,4,4008);return i.We||t.We},M=function(e,t){for(var n=[],i=o.u(t),r=i.next();!r.done;r=i.next()){r=r.value;var a=Te.get(r.xb);if(a){var s=o.Fk(a,r.init||e);(a=Se.get(a))&&(s.licenseServerUri=a(r)),n.push(s)}}return n},P=function(e){var t=[];e=o.u(e);for(var n=e.next();!n.done;n=e.next())(n=R(n.value))&&t.push(n);return t},R=function(e){var t=e.getAttribute(p),n=o.M.getAttributeNS(e,b,"default_KID"),i=o.M.cf(e,b,"pssh").map(o.M.Fb);if(!t)return o.af("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new o.J(o.K,4,4009);var r=[];try{r=i.map((function(e){return{initDataType:o.Zb,initData:o.Oj(e),keyId:null}}))}catch(s){throw new o.J(o.K,4,4007)}return{node:e,xb:t,keyId:n,init:0<r.length?r:null}},N=function(e,t,n,i){var r,a=(new o.gh).W("sidx",(function(e){r=D(t,i,n,e)}));if(e&&a.parse(e),r)return r;throw o.af('Invalid box type, expected "sidx".'),new o.J(o.K,3,3004)},D=function(e,t,n,i){var r=[];i.u.skip(4);var a=o.bh(i.u);if(0==a)throw o.af("Invalid timescale."),new o.J(o.K,3,3005);if(0==i.version)var s=o.bh(i.u),u=o.bh(i.u);else s=o.dh(i.u),u=o.dh(i.u);i.u.skip(2);var c=o.ah(i.u);for(e=e+i.size+u,u=0;u<c;u++){var l=o.bh(i.u),d=(2147483648&l)>>>31;l&=2147483647;var f=o.bh(i.u);if(i.u.skip(4),1==d)throw o.af("Heirarchical SIDXs are not supported."),new o.J(o.K,3,3006);r.push(new o.Fn(r.length,s/a-t,(s+f)/a-t,(function(){return n}),e,e+l-1)),s+=f,e+=l}return i.gb.stop(),r},O=function(e){this.b=e,this.a=new o.Xg(e,!1)},L=function(e){var t=j(e);if(7<t.length)throw new o.J(o.K,3,3002);for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];t=n,n=j(e);e:{i=o.u(Ee);for(var r=i.next();!r.done;r=i.next())if(o.Rj(n,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)n=e.b.byteLength-e.a.getPosition();else{if(8==n.length&&224&n[1])throw new o.J(o.K,3,3001);for(i=n[0]&(1<<8-n.length)-1,r=1;r<n.length;r++)i=256*i+n[r];n=i}return n=e.a.getPosition()+n<=e.b.byteLength?n:e.b.byteLength-e.a.getPosition(),i=new DataView(e.b.buffer,e.b.byteOffset+e.a.getPosition(),n),e.a.skip(n),new _(t,i)},j=function(e){var t,n=o.$g(e.a);for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new o.J(o.K,3,3002);var i=new Uint8Array(t);for(i[0]=n,n=1;n<t;n++)i[n]=o.$g(e.a);return i},_=function(e,t){this.id=e,this.a=t},U=function(e){if(8<e.a.byteLength)throw new o.J(o.K,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new o.J(o.K,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){var i=e.a.getUint8(n);t=256*t+i}return t},B=function(){},K=function(e,t,n,i,r,a){function s(){return r}var u=[];e=new O(e.a);for(var c=null,l=null;o.Yg(e.a);){var d=L(e);if(187==d.id){var f=F(d);f&&(d=n*f.Dj,f=t+f.oj,null!=c&&u.push(new o.Fn(u.length,c-a,d-a,s,l,f-1)),c=d,l=f)}}return null!=c&&u.push(new o.Fn(u.length,c-a,i-a,s,l,null)),u},F=function(e){var t=new O(e.a);if(e=L(t),179!=e.id)throw o.G("Not a CueTime element."),new o.J(o.K,3,3013);if(e=U(e),t=L(t),183!=t.id)throw o.G("Not a CueTrackPositions element."),new o.J(o.K,3,3012);t=new O(t.a);for(var n=0;o.Yg(t.a);){var i=L(t);if(241==i.id){n=U(i);break}}return{Dj:e,oj:n}},H=function(e,t){var n=ke.Vd(e,t,"Initialization");if(!n)return null;var i=e.D.va,r=n.getAttribute("sourceURL");r&&(i=o.Ek(e.D.va,[r])),r=0;var a=null;return(n=o.M.O(n,"range",o.M.md))&&(r=n.start,a=n.end),new o.En((function(){return i}),r,a)},V=function(e,t){var n=Number(ke.Aa(e,W,h))||0,i=ke.Aa(e,W,m),a=1;if(i&&(a=o.M.ld(i)||1),n=n/a||0,i=H(e,W),a=e.D.mimeType.split("/")[1],e.D.contentType!=o.k&&a!=o.Uc&&a!=o.ge)throw o.af("SegmentBase specifies an unsupported container type.",e.D),new o.J(o.K,4,4006);if(a==o.ge&&!i)throw o.af(r,"the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.D),new o.J(o.K,4,4005);var s=ke.Vd(e,W,"RepresentationIndex"),u=ke.Aa(e,W,"indexRange"),c=e.D.va;if(u=o.M.md(u||""),s){var l=s.getAttribute("sourceURL");l&&(c=o.Ek(e.D.va,[l])),u=o.M.O(s,"range",o.M.md,u)}if(!u)throw o.af(r,"the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.D),new o.J(o.K,4,4002);return a=q(e,t,i,c,u.start,u.end,a,n),{createSegmentIndex:a.createSegmentIndex,findSegmentPosition:a.findSegmentPosition,getSegmentReference:a.getSegmentReference,adjustSegmentDurations:a.adjustSegmentDurations,getDuration:a.getDuration,initSegmentReference:i,sa:n}},q=function(e,t,n,i,r,a,s,u){var c=e.presentationTimeline,l=!e.gc||!e.T.Xd,d=e.T.start,f=e.T.duration,h=t,p=null;return{createSegmentIndex:function(){var e,t,g,m,v,b;return o.A((function(y){return 1==y.a?(e=[h(i,r,a),s==o.ge?h(n.za(),n.ta,n.ga):null],h=null,o.x(y,Promise.all(e),2)):(t=y.b,g=t[0],m=t[1]||null,v=null,s==o.Uc?v=N(g,r,i,u):(b=new B,v=b.parse(g,m,i,u)),o.In(c,v,d),p=new o.Mn(v),l&&o.On(p,f),y["return"](t))}))},findSegmentPosition:function(e){return p.find(e)},getSegmentReference:function(e){return p.get(e)},adjustSegmentDurations:function(e,t){return p.ac(e,t)},getDuration:function(){return p.getDuration()}}},W=function(e){return e.Ic},G=function(e,t){var n=H(e,J),i=Y(e),r=ke.Jf(e,J),s=r.Vb;0==s&&(o.G("SegmentList@startNumber must be > 0"),s=1);var u=0;if(r.ca?u=r.ca*(s-1):r.timeline&&0<r.timeline.length&&(u=r.timeline[0].start),i={ca:r.ca,startTime:u,Vb:s,sa:r.sa,timeline:r.timeline,Ob:i},!i.ca&&!i.timeline&&1<i.Ob.length)throw o.G(a,"the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.D),new o.J(o.K,4,4002);if(!i.ca&&!e.T.duration&&!i.timeline&&1==i.Ob.length)throw o.G(a,"the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.D),new o.J(o.K,4,4002);if(i.timeline&&0==i.timeline.length)throw o.G(a,"the SegmentList has an empty timeline.",e.D),new o.J(o.K,4,4002);return s=r=null,e.la.id&&e.D.id&&(s=e.la.id+","+e.D.id,r=t[s]),u=z(e.T.duration,i.Vb,e.D.va,i),r?(r.cb(u),s=o.Ln(e.presentationTimeline),o.Nn(r,s-e.T.start)):(o.In(e.presentationTimeline,u,e.T.start),r=new o.Mn(u),s&&e.gc&&(t[s]=r)),e.gc&&e.T.Xd||o.On(r,e.T.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.find.bind(r),getSegmentReference:r.get.bind(r),adjustSegmentDurations:r.ac.bind(r),getDuration:r.getDuration.bind(r),initSegmentReference:n,sa:i.sa}},J=function(e){return e.zb},z=function(e,t,n,i){var r=i.Ob.length;i.timeline&&i.timeline.length!=i.Ob.length&&(r=Math.min(i.timeline.length,i.Ob.length),o.G("The number of items in the segment timeline and the number of segment","URLs do not match, truncating",i.Ob.length,"to",r));for(var a=[],s=i.startTime,u={},c=0;c<r;u={vd:u.vd},c++){var l=i.Ob[c];u.vd=o.Ek(n,[l.oi]);var d=void 0;d=null!=i.ca?s+i.ca:i.timeline?i.timeline[c].end:s+e,a.push(new o.Fn(c+t,s,d,function(e){return function(){return e.vd}}(u),l.start,l.end)),s=d}return a},Y=function(e){return[e.D.zb,e.aa.zb,e.la.zb].filter(o.Dk.ab).map((function(e){return o.M.L(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){t.getAttribute("indexRange")&&!e.Ud&&(e.Ud=!0,o.G("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate."));var n=t.getAttribute("media");return t=o.M.O(t,"mediaRange",o.M.md,{start:0,end:null}),{oi:n,start:t.start,end:t.end}}))},X=function(e,t,n,i){var r=ee(e),a=ke.Jf(e,$),s=ke.Aa(e,$,"media"),c=ke.Aa(e,$,"index");if(a={ca:a.ca,timescale:a.timescale,Vb:a.Vb,sa:a.sa,te:a.te,timeline:a.timeline,$d:s,Ac:c,Bd:a.Bd},s=a.Ac?1:0,s+=a.timeline?1:0,s+=a.ca?1:0,0==s)throw o.af("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.D),new o.J(o.K,4,4002);if(1!=s&&(o.G("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.D),a.Ac?(o.$e("Using the index URL template by default."),a.timeline=null):o.$e("Using the SegmentTimeline by default."),a.ca=null),!a.Ac&&!a.$d)throw o.af(u,"the SegmentTemplate's media URL template is missing.",e.D),new o.J(o.K,4,4002);if(a.Ac){if(n=e.D.mimeType.split("/")[1],n!=o.Uc&&n!=o.ge)throw o.af("SegmentTemplate specifies an unsupported container type.",e.D),new o.J(o.K,4,4006);if(n==o.ge&&!r)throw o.af(u,"the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",e.D),new o.J(o.K,4,4005);i=ke.bd(a.Ac,e.D.id,null,e.bandwidth||null,null),i=o.Ek(e.D.va,[i]),e=q(e,t,r,i,0,null,n,a.sa)}else a.ca?(i||(n=e.presentationTimeline,n.i=Math.max(n.i,a.Bd),n.l.debug("notifyAvailabilityTimeOffset: maxAvailabilityTimeOffset="+n.i),o.Jn(e.presentationTimeline,a.ca),o.Hn(e.presentationTimeline,e.T.start)),e=Q(e,a)):(s=t=null,e.la.id&&e.D.id&&(s=e.la.id+","+e.D.id,t=n[s]),c=Z(e,a),i=!e.gc||!e.T.Xd,t?(i&&o.On(new o.Mn(c),e.T.duration),t.cb(c),n=o.Ln(e.presentationTimeline),o.Nn(t,n-e.T.start)):(o.In(e.presentationTimeline,c,e.T.start),t=new o.Mn(c),s&&e.gc&&(n[s]=t)),i&&o.On(t,e.T.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),adjustSegmentDurations:t.ac.bind(t),getDuration:t.getDuration.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,adjustSegmentDurations:e.adjustSegmentDurations,getDuration:e.getDuration,initSegmentReference:r,sa:a.sa}},$=function(e){return e.Tb},Q=function(e,t){var n=e.T.duration,i=t.ca,r=t.Vb,a=t.timescale,s=t.$d,u=e.bandwidth||null,c=e.D.id,l=e.D.va;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/i)},getSegmentReference:function(e){var t=e*i,d=t+i;return n&&(d=Math.min(d,n)),0>d||n&&t>=n?null:new o.Fn(e,t,d,(function(){var n=ke.bd(s,c,e+r,u,t*a);return o.Ek(l,[n])}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return n}}},Z=function(e,t){for(var n=[],i=0;i<t.timeline.length;i++){var r=i+t.Vb;n.push(new o.Fn(r,t.timeline[i].start,t.timeline[i].end,function(e,t,n,i,r,a){return e=ke.bd(e,t,r,n,a),o.Ek(i,[e]).map((function(e){return e.toString()}))}.bind(null,t.$d,e.D.id,e.bandwidth||null,e.D.va,r,t.timeline[i].Cj+t.te),0,null))}return n},ee=function(e){var t=ke.Aa(e,$,"initialization");if(!t)return null;var n=e.D.id,i=e.bandwidth||null,r=e.D.va;return new o.En((function(){var e=ke.bd(t,n,null,i,null);return o.Ek(r,[e])}),0,null)},te=function(){var e=this;this.b=this.c=null,this.g=[],this.f=null,this.o=[],this.h=1,this.s={},this.l=0,this.v=new o.an(5),this.j=new o.Ef((function(){le(e)})),this.i=new o.xj,this.a=new o.H("clpp.dash.DashParser"),this.w=this.m=null},ne=function(e){var t,n,i,r,a,s,u;return o.A((function(c){return 1==c.a?(t=o.Ci(e.g,e.c.attemptParameters),t.type=1,n=e.b.networkingEngine,i=Date.now(),r=n.fetch(t),o.Vm(e.i,r),o.x(c,r.promise,2)):3!=c.a?(a=c.b,e.b?(a.uri&&!e.g.includes(a.uri)&&e.g.unshift(a.uri),o.x(c,ie(e,a.data,a.uri),3)):c["return"](0)):(s=Date.now(),u=(s-i)/1e3,o.bn(e.v,1,u),c["return"](u))}))},ie=function(e,t,n){var i,r,a,s,u;return o.A((function(c){if(1==c.a){if(i=ke,r=o.M.Kf(t,"MPD"),!r)throw new o.J(o.K,4,4001,n);return a=e.c.xlinkFailGracefully,s=i.nd(r,e.c.attemptParameters,a,n,e.b.networkingEngine),o.Vm(e.i,s),o.x(c,s.promise,2)}return u=c.b,c["return"](re(e,u,n))}))},re=function(e,t,n){var i,r,a,s,u,c,l,f,h,p,m,v,b,y,w,T,S,k,E,A,x,I,C;return o.A((function(M){if(1==M.a){i=o.Dk,r=o.M,a=[n],s=r.L(t,"Location").map(r.Fb).filter(i.ab),0<s.length&&(u=o.Ek(a,s),a=e.g=u),c=r.L(t,"BaseURL").map(r.Fb),l=o.Ek(a,c),f=r.O(t,"minBufferTime",r.fb,0),e.l=r.O(t,"minimumUpdatePeriod",r.fb,-1),h=r.O(t,"availabilityStartTime",r.jj),p=r.O(t,"timeShiftBufferDepth",r.fb),m=r.O(t,"suggestedPresentationDelay",r.fb),v=r.O(t,"maxSegmentDuration",r.fb),b=t.getAttribute("type")||g,"dynamic"===b&&(e.m=b,e.w=h),(y=b===g&&"dynamic"===e.m)&&(e.a.info("MPD dynamic to static transition."),b=e.m,h=e.w),e.f?w=e.f.presentationTimeline:(T=3*f,S=null!=m?m:T,w=new o.Gn(h,S,!!e.c.autoCorrectDrift)),k={gc:b!=g,Nb:y,presentationTimeline:w,la:null,T:null,aa:null,D:null,bandwidth:0,Ud:!1};for(var P=o.M.O(t,"mediaPresentationDuration",o.M.fb),R=[],N=0,D=o.M.L(t,"Period"),O=0;O<D.length;O++){var L=D[O];N=o.M.O(L,o.Ad,o.M.fb,N);var j=o.M.O(L,d,o.M.fb),_=null;if(O!=D.length-1){var U=o.M.O(D[O+1],o.Ad,o.M.fb);null!=U&&(_=U-N)}else null!=P&&(_=P-N);if(U=o.to,_&&j&&Math.abs(_-j)>U&&e.a.warn("There is a gap/overlap between Periods",L),null==_&&(_=j),L=ae(e,k,l,{start:N,duration:_,node:L,Xd:null==_||O==D.length-1}),R.push(L),j=k.la.id,e.o.includes(j)||(e.o.push(j),e.f&&(e.b.filterNewPeriod(L),e.f.periods.push(L))),null==_){O!=D.length-1&&e.a.warn("Skipping Period",O+1,"and any subsequent Periods:","Period",O+1,"does not have a valid start time.",R[O+1]),N=null;break}N+=_}return null==e.f&&e.b.filterAllPeriods(R),null!=P?(N!=P&&e.a.warn("@mediaPresentationDuration does not match the total duration of ","all Periods."),P={periods:R,duration:P,Xe:!1}):P={periods:R,duration:N,Xe:!0},E=P,A=E.duration,x=E.periods,w.b=b==g,y&&!w.Nb()&&e.b.onEvent(new o.O(o.Vc)),w.m=y,b!=g&&E.Xe||w.Ab(A||1/0),w.isLive()&&e.c.availabilityWindowOverride&&!isNaN(e.c.availabilityWindowOverride)&&(p=e.c.availabilityWindowOverride),null==p&&(p=1/0),w.Sb=p,o.Jn(w,v||1),e.f?M.A(0):(e.f={presentationTimeline:w,periods:x,offlineSessionIds:[],minBufferTime:f||0},null==w.h||null!=w.c?M.A(0):(I=r.L(t,"UTCTiming"),o.x(M,me(e,l,I),4)))}if(C=M.b,!e.b)return M["return"]();w.j=C,o.y(M)}))},ae=function(e,t,n,i){t.la=fe(e,i.node,null,n),t.T=i,t.la.id||(e.a.info("No Period ID given for Period with start time "+i.start+",  Assigning a default"),t.la.id="__clpp_period_"+i.start),n=o.M.L(i.node,"EventStream"),n=o.u(n);for(var r=n.next();!r.done;r=n.next())ve(e,i.start,i.duration,r.value);if(r=o.M.L(i.node,o.fa).map((function(n){return ue(e,t,n)})).filter(o.Dk.ab),t.gc){n=[];for(var a=o.u(r),s=a.next();!s.done;s=a.next()){s=o.u(s.value.sj);for(var u=s.next();!u.done;u=s.next())n.push(u.value)}if(n.length!=new Set(n).size)throw new o.J(o.K,4,4018)}for(n=r.filter((function(e){return!e.se})),r=r.filter((function(e){return e.se})),r=o.u(r),a=r.next();!a.done;a=r.next()){s=a.value,a=s.streams[0],s=s.se,u=o.u(n);for(var c=u.next();!c.done;c=u.next())if(c=c.value,c.id==s){c=o.u(c.streams);for(var l=c.next();!l.done;l=c.next())l.value.trickModeVideo=a}}if(a=oe(n,o.Vd),s=oe(n,o.Lb),!a.length&&!s.length)throw new o.J(o.K,4,4004);for(s.length||(s=[null]),a.length||(a=[null]),r=[],s=o.u(s),u=s.next();!u.done;u=s.next())for(u=u.value,c=o.u(a),l=c.next();!l.done;l=c.next())se(e,t.la.id,u,l.value,r);for(s=oe(n,o.k),a=[],s=o.u(s),u=s.next();!u.done;u=s.next())a.push.apply(a,u.value.streams);for(s=oe(n,"image"),n=[],s=o.u(s),u=s.next();!u.done;u=s.next())n.push.apply(n,u.value.streams);return{startTime:i.start,textStreams:a,thumbStreams:n,variants:r}},oe=function(e,t){return e.filter((function(e){return e.contentType==t}))},se=function(e,t,n,i,r){var a=null!=t?t:e.h+++"";if(n||i)if(n&&i){if(o.Ck(n.drmInfos,i.drmInfos)){var s=o.Bk(n.drmInfos,i.drmInfos);s.forEach((function(e){e.periodId=a}));var u=o.u(n.streams);for(t=u.next();!t.done;t=u.next()){var c=t.value,l=o.u(i.streams);for(t=l.next();!t.done;t=l.next()){var d=t.value;t=(d.bandwidth||0)+(c.bandwidth||0),t={id:e.h++,language:n.language,primary:n.Zd||i.Zd,audio:c,video:d,bandwidth:t,drmInfos:s,allowedByApplication:!0,allowedByKeySystem:!0},r.push(t)}}}}else for(s=n||i,u=o.u(s.streams),t=u.next();!t.done;t=u.next())c=t.value,t=c.bandwidth||0,t={id:e.h++,language:s.language||o.Md,primary:s.Zd,audio:n?c:null,video:i?c:null,bandwidth:t,drmInfos:s.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(t)},ue=function(e,t,r){t.aa=fe(e,r,t.la,null);var a=!1,s=o.M.L(r,"Role"),u=s.map((function(e){return e.getAttribute(o.Sd)})).filter(o.Dk.ab),c=null,l=o.M.L(r,"Label").map((function(e){return e.textContent})).filter(o.Dk.ab);l&&0<l.length&&(c=l[l.length-1]);var d=void 0;(l=t.aa.contentType==o.k)&&(d=o.Fd),s=o.u(s);for(var f=s.next();!f.done;f=s.next()){f=f.value;var h=f.getAttribute(p);if(null==h||"urn:mpeg:dash:role:2011"===h||"urn:mpeg:dash:role"===h)switch(f=f.getAttribute(o.Sd),f){case"main":a=!0;break;case"caption":case o.Fd:d=f}}h=o.M.L(r,i),s=null,f=!1,h=o.u(h);for(var g=h.next();!g.done;g=h.next())g=g.value,"http://dashif.org/guidelines/trickmode"==g.getAttribute(p)?s=g.getAttribute(o.Sd):f=!0;h=o.M.L(r,"Accessibility");var m=new Map;for(h=o.u(h),g=h.next();!g.done;g=h.next()){var v=g.value;if(g=v.getAttribute(p),"urn:scte:dash:cc:cea-608:2015"==g||"urn:scte:dash:cc:cea-708:2015"==g)if(g=1,v=v.getAttribute(o.Sd),null!=v){v=o.u(v.split(";"));for(var b=v.next();!b.done;b=v.next()){var y=b.value,w=b=void 0;y.includes("=")?(y=y.split("="),b=y[0].startsWith("CC")?y[0]:"CC"+y[0],w=y[1].split(",")[0].split(":").pop()):(b="CC"+g,g+=2,w=y),m.set(b,o.Xm(w))}}else m.set("CC1",o.Md)}if(f)return null;f=o.M.L(r,n);var T=I(f,e.c.ignoreDrmInfo),S=o.Xm(r.getAttribute("lang")||o.Md);if(null==c&&(c=r.getAttribute("label")),f=o.M.L(r,o.Na),r=f.map((function(n){return ce(e,t,T,d,S,c,a,u,m,n)})).filter((function(e){return!!e})),0==r.length){if(l)return null;throw new o.J(o.K,4,4003)}if(!t.aa.contentType||t.aa.contentType==o.Bb)for(t.aa.contentType=ye(r[0].mimeType,r[0].codecs),l=o.u(r),h=l.next();!h.done;h=l.next())h.value.type=t.aa.contentType;for(l=o.u(r),h=l.next();!h.done;h=l.next())for(h=h.value,g=o.u(T.drmInfos),v=g.next();!v.done;v=g.next())v=v.value,h.keyId&&v.keyIds.push(h.keyId);return l=f.map((function(e){return e.getAttribute("id")})).filter(o.Dk.ab),{id:t.aa.id||"__fake__"+e.h++,contentType:t.aa.contentType,language:S,Zd:a,streams:r,drmInfos:T.drmInfos,se:s,sj:l}},ce=function(e,t,r,a,s,u,c,l,f,h){var g=o.M.Qb;if(t.D=fe(e,h,t.aa,null),!pe(e,t.D))return e.a.warn("Skipping Representation",t.D),null;t.bandwidth=o.M.O(h,"bandwidth",o.M.ld)||0;var m=t.D.contentType,v=m==o.k||m==o.Bb,b="image"==m;try{if(m=function(t,n,i){return be(e,t,n,i)},t.D.Ic)var y=V(t,m);else if(t.D.zb)y=G(t,e.s);else if(t.D.Tb)y=X(t,m,e.s,!!e.f);else{var w=t.D.va,T=t.T.duration||0;y={createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return 0<=e&&e<T?1:null},getSegmentReference:function(e){return 1!=e?null:new o.Fn(1,0,T,(function(){return w}),0,null)},adjustSegmentDurations:function(){},getDuration:function(){return T},initSegmentReference:null,sa:0}}}catch(S){if(v&&4002==S.code)return null;throw S}return v=o.M.L(h,n),v=C(v,r,e.c.ignoreDrmInfo),m=void 0,b&&(b=(h=o.M.zc(h,i))&&h.getAttribute(p),ke.ji(b||"")&&(h=(h=h.getAttribute(o.Sd))&&h.split("x").map((function(e){return parseInt(e,10)})))&&2==h.length&&(y.horizontalTiles=h[0],y.verticalTiles=h[1],h=y.horizontalTiles*y.verticalTiles,null!==t.aa.Tb&&(m=(g=o.M.O(t.aa.Tb,d,g)||0)?g/h:void 0))),{id:e.h++,originalId:t.D.id,createSegmentIndex:y.createSegmentIndex,findSegmentPosition:y.findSegmentPosition,getSegmentReference:y.getSegmentReference,initSegmentReference:y.initSegmentReference,adjustSegmentDurations:y.adjustSegmentDurations,getDuration:y.getDuration,presentationTimeOffset:y.sa,mimeType:t.D.mimeType,codecs:t.D.codecs,frameRate:t.D.frameRate,bandwidth:t.bandwidth,width:t.D.width,height:t.D.height,kind:a,encrypted:0<r.drmInfos.length,keyId:v,language:s,label:u,type:t.aa.contentType,primary:c,trickModeVideo:null,emsgSchemeIdUris:t.D.emsgSchemeIdUris,roles:l,channelsCount:t.D.be,closedCaptions:f,horizontalTiles:y.horizontalTiles,verticalTiles:y.verticalTiles,durationPerTile:m}},le=function(e){var t,n;o.A((function(i){switch(i.a){case 1:return e.a.info(o.$a),t=0,o.Ae(i,2),o.x(i,ne(e),4);case 4:t=i.b,o.Be(i,3);break;case 2:n=o.Ce(i),e.b&&n.ib&&(n.ib(1),e.b.onError(n));case 3:if(!e.b)return i["return"]();de(e,t),o.y(i)}}))},de=function(e,t){0>e.l||e.j.P(Math.max(3,e.l-t,o.cn(e.v)))},fe=function(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,be:null},i=i||n.va;var r=o.M.Qb,a=o.M.Kh,s=o.M.L(t,"BaseURL").map(o.M.Fb),u=t.getAttribute("contentType")||n.contentType,c=t.getAttribute(o.Tc)||n.mimeType,l=t.getAttribute(o.gc)||n.codecs;a=o.M.O(t,o.zc,a)||n.frameRate;var d=o.M.L(t,"InbandEventStream"),f=n.emsgSchemeIdUris.slice();d=o.u(d);for(var h=d.next();!h.done;h=d.next())h=h.value.getAttribute(p),f.includes(h)||f.push(h);return d=o.M.L(t,"AudioChannelConfiguration"),e=he(e,d)||n.be,u||(u=ye(c,l)),{va:o.Ek(i,s),Ic:o.M.zc(t,"SegmentBase")||n.Ic,zb:o.M.zc(t,"SegmentList")||n.zb,Tb:o.M.zc(t,"SegmentTemplate")||n.Tb,width:o.M.O(t,o.he,r)||n.width,height:o.M.O(t,o.Cc,r)||n.height,contentType:u,mimeType:c,codecs:l,frameRate:a,emsgSchemeIdUris:f,id:t.getAttribute("id"),be:e}},he=function(e,n){for(var i=o.u(n),r=i.next();!r.done;r=i.next()){var a=r.value;if((r=a.getAttribute(p))&&(a=a.getAttribute(o.Sd)))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return a.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var s=parseInt(a,10);if(!s){e.a.warn(t,r,a);continue}return s;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(s=parseInt(a,16),!s){e.a.warn(t,r,a);continue}for(i=0;s;)1&s&&++i,s>>=1;return i;default:e.a.warn("Unrecognized audio channel scheme:",r,a)}}return null},pe=function(e,t){var n=t.Ic?1:0;return n+=t.zb?1:0,n+=t.Tb?1:0,0==n?t.contentType==o.k||t.contentType==o.Bb||(e.a.warn("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',t),!1):(1!=n&&(e.a.warn("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",t),t.Ic?(e.a.info("Using SegmentBase by default."),t.zb=null):e.a.info("Using SegmentList by default."),t.Tb=null),!0)},ge=function(e,t,n,i){var r,a,s,u,c,l;return o.A((function(d){if(1==d.a)return r=o.Ek(t,[n]),a=o.Ci(r,e.c.attemptParameters),a.type=5,a.method=i,s=e.b.networkingEngine.fetch(a),o.Vm(e.i,s),o.x(d,s.promise,2);if(u=d.b,"HEAD"==i){if(!u.headers||!u.headers.date)return e.a.warn("UTC timing response is missing","expected date header"),d["return"](0);c=u.headers.date}else c=o.ef(u.data);return l=Date.parse(c),isNaN(l)?(e.a.warn("Unable to parse date from UTC timing response"),d["return"](0)):d["return"](l-Date.now())}))},me=function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute(p),value:e.getAttribute(o.Sd)}}));var i=e.c.clockSyncUri;return!n.length&&i&&n.push({scheme:y,value:i}),o.Dk.Gh(n,(function(n){var i=n.scheme;switch(n=n.value,i){case y:case"urn:mpeg:dash:utc:http-head:2012":return ge(e,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return ge(e,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return i=Date.parse(n),Promise.resolve(isNaN(i)?0:i-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return e.a.warn("NTP UTCTiming scheme is not supported"),Promise.reject();default:return e.a.warn("Unrecognized scheme in UTCTiming element",i),Promise.reject()}}))["catch"]((function(){return e.a.warn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))},ve=function(e,t,n,i){var r=o.M.Qb,a=i.getAttribute(p)||"",s=i.getAttribute(o.Sd)||"",u=o.M.O(i,m,r)||1;i=o.u(o.M.L(i,"Event"));for(var c=i.next();!c.done;c=i.next()){c=c.value;var l=o.M.O(c,"presentationTime",r)||0,f=o.M.O(c,d,r)||0;l=l/u+t,f=l+f/u,null!=n&&(l=Math.min(l,t+n),f=Math.min(f,t+n));var h=a.startsWith("urn:scte:scte35"),g=o.uo;c={schemeIdUri:a,value:s,startTime:l,endTime:f,id:c.getAttribute("id")||"",type:h?g.Nj:g.UNKNOWN,eventElement:c},e.b.onTimelineCueAdded(c)}},be=function(e,t,n,i){var r,a,s,u;return o.A((function(c){return 1==c.a?(r=o.Ym(t,n,i,e.c.attemptParameters),r.type=o.lo,a=e.b.networkingEngine,s=a.fetch(r),o.Vm(e.i,s),o.x(c,s.promise,2)):(u=c.b,c["return"](u.data))}))},ye=function(e,t){return o.ig(o.eg(e,t))?o.k:e.split("/")[0]},we=function(){},Te=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",o.ad).set(T,o.kc).set(w,o.jc).set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95",o.jc).set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),Se=(new Map).set(o.kc,(function(e){return(e=o.M.cd(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set(o.jc,(function(e){return e=o.M.cd(e.node,v,"pro"),e?(e=o.Oj(e.textContent),o.lm(e).f||""):""})),ke={ve:"http://www.w3.org/1999/xlink",Uf:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],ji:function(e){return 0<=ke.Uf.indexOf(e)},bd:function(t,n,i,r,a){var s={RepresentationID:n,Number:i,Bandwidth:r,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(n,i,r,a){if("$$"==n)return"$";var u=s[i];if(null==u)return o.G("URL template does not have an available substitution for identifier",'"'+i+'":',t),n;switch("RepresentationID"==i&&r&&(o.G("URL template should not contain a width specifier for identifier",'"RepresentationID":',t),r=void 0),"Time"==i&&(u=Math.round(u)),a){case void 0:case"d":case"i":case"u":n=u.toString();break;case"o":n=u.toString(8);break;case"x":n=u.toString(16);break;case"X":n=u.toString(16).toUpperCase();break;default:n=u.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-n.length)+1).join("0")+n}))},Hh:function(e,t,n,i){e=o.M.L(e,"S");for(var r=[],a=0,s=0;s<e.length;++s){var u=e[s],c=o.M.O(u,"t",o.M.Qb),d=o.M.O(u,"d",o.M.Qb),h=o.M.O(u,"r",o.M.parseInt);if(null!=c&&(c-=n),!d){o.G('"S" element must have a duration:',f,u);break}if(c=null!=c?c:a,h=h||0,0>h)if(s+1<e.length){if(h=o.M.O(e[s+1],"t",o.M.Qb),null==h){o.G('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:',f,u);break}if(c>=h){o.G('An "S" element cannot have a negative repeatif its start ','time exceeds the next "S" element\'s start time:',f,u);break}h=Math.ceil((h-c)/d)-1}else{if(1/0==i){o.G(l,"if the Period has an infinite duration:",'ignoring the last "S" element.',u);break}if(c/t>=i){o.G(l,"if its start time exceeds the Period's duration:",'igoring the last "S" element.',u);break}h=Math.ceil((i*t-c)/d)-1}for(0<r.length&&c!=a&&(Math.abs((c-a)/t)>=o.to&&o.G("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",u),r[r.length-1].end=c/t),u=0;u<=h;++u)a=c+d,r.push({start:c/t,end:a/t,Cj:c}),c=a}return r},Jf:function(e,t){var n=ke.Aa(e,t,m),i=1;n&&(i=o.M.ld(n)||1),n=ke.Aa(e,t,d),(n=o.M.ld(n||""))&&(n/=i);var r=ke.Aa(e,t,"startNumber"),a=0;e.Nb||(a=Number(ke.Aa(e,t,h))||0);var s=o.M.Qb(r||"");null!=r&&null!=s||(s=1);var u=ke.Vd(e,t,c);r=null,u&&(r=ke.Hh(u,i,a,e.T.duration||1/0)),u=a/i||0;var l=ke.Aa(e,t,"availabilityTimeOffset"),f=o.M.parseFloat(l||"");return null!=l&&null!=f||(f=0),{timescale:i,ca:n,Vb:s,sa:u,te:a,timeline:r,Bd:f}},Aa:function(e,t,n){return[t(e.D),t(e.aa),t(e.la)].filter(o.Dk.ab).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))},Vd:function(e,t,n){return[t(e.D),t(e.aa),t(e.la)].filter(o.Dk.ab).map((function(e){return o.M.zc(e,n)})).reduce((function(e,t){return e||t}))},fi:function(e,t,n,i,r,a){for(var s=ke.ve,u=o.M.getAttributeNS(e,s,"href"),c=o.M.getAttributeNS(e,s,"actuate")||"onRequest",l=0;l<e.attributes.length;l++){var d=e.attributes[l];d.namespaceURI==s&&(e.removeAttributeNS(d.namespaceURI,d.localName),--l)}if(5<=a)return S(new o.J(o.K,4,4028));if("onLoad"!=c)return S(new o.J(o.K,4,4027));var f=o.Ek([i],[u]);return i=o.Ci(f,t),i.type=1,r.fetch(i).Tc((function(i){if(i=o.M.Kf(i.data,e.tagName),!i)return S(new o.J(o.K,4,4001,{uri:u}));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),e.appendChild(s)}for(s=0;s<i.attributes.length;s++){var c=i.attributes[s].nodeName,l=i.getAttribute(c);e.setAttribute(c,l)}return ke.nd(e,t,n,f[0],r,a+1)}))},nd:function(e,t,n,i,r,a){a=void 0===a?0:a;var s=ke.ve;if(o.M.getAttributeNS(e,s,"href"))return s=ke.fi(e,t,n,i,r,a),n&&(s=s.Tc(void 0,(function(){return ke.nd(e,t,n,i,r,a)}))),s;for(var u=[],l=0;l<e.childNodes.length;l++){var d=e.childNodes[l];d instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==o.M.getAttributeNS(d,s,"href")?(e.removeChild(d),--l):d.tagName!=c&&u.push(ke.nd(d,t,n,i,r,a)))}return k(u).Tc((function(){return e}))}},Ee=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];B.prototype.parse=function(e,t,n,i){if(t=new O(new DataView(t)),440786851!=L(t).id)throw o.af("Not an EBML element."),new o.J(o.K,3,3008);var r=L(t);if(408125543!=r.id)throw o.af("Not a Segment element."),new o.J(o.K,3,3009);t=r.a.byteOffset,r=new O(r.a);for(var a=null;o.Yg(r.a);){var s=L(r);if(357149030==s.id){a=s;break}}if(!a)throw o.af("Not an Info element."),new o.J(o.K,3,3010);for(a=new O(a.a),s=1e6,r=null;o.Yg(a.a);){var u=L(a);if(2807729==u.id)s=U(u);else if(17545==u.id)if(4==u.a.byteLength)r=u.a.getFloat32(0);else{if(8!=u.a.byteLength)throw new o.J(o.K,3,3003);r=u.a.getFloat64(0)}}if(null==r)throw new o.J(o.K,3,3011);if(a=s/1e9,r*=a,e=L(new O(new DataView(e))),475249515!=e.id)throw o.af("Not a Cues element."),new o.J(o.K,3,3007);return K(e,t,a,r,n,i)},o.r=te.prototype,o.r.configure=function(e){this.c=e},o.r.start=function(e,t){var n,i=this;return o.A((function(r){if(1==r.a)return i.g=[e],i.b=t,o.x(r,ne(i),2);if(n=r.b,i.b&&de(i,n),!i.b)throw new o.J(o.K,7,7001);return r["return"](i.f)}))},o.r.stop=function(){return this.c=this.b=null,this.g=[],this.f=null,this.o=[],this.s={},null!=this.j&&(this.j.stop(),this.j=null),this.i.destroy()},o.r.update=function(){var e=this;ne(this)["catch"]((function(t){e.b&&t&&e.b.onError(t)}))},o.r.onExpirationUpdated=function(){},o.w(we,o.fl),o.r=we.prototype,o.r.rb=function(){o.vo.od("mpd",te),o.vo.Gc(o.ll,te)},o.r.hb=function(){o.vo.ne("mpd"),o.vo.pd(o.ll)},o.r.vc=function(){},o.r.release=function(){},o.r.id=function(){return"clpp.component.dash"},o.B("clpp.dash.DashComponent",we)};if(e.exports){var u=n("3f2b");o=u._,s.call(a,this),e.exports=a}else i=[n("3f2b")],r=function(e){return o=e._,s.call(a,this),a}.apply(t,i),void 0===r||(e.exports=r)}()},d58f:function(e,t,n){var i=n("1c0b"),r=n("7b0b"),a=n("44ad"),o=n("50c4"),s=function(e){return function(t,n,s,u){i(n);var c=r(t),l=a(c),d=o(c.length),f=e?d-1:0,h=e?-1:1;if(s<2)while(1){if(f in l){u=l[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in l&&(u=n(u,l[f],f,c));return u}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,n){"use strict";var i=n("ebb5"),r=n("b727").forEach,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("forEach",(function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d6db:function(e,t,n){"use strict";var i=n("e67a"),r=n.n(i);r.a},d81d:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),u=o("map");i({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,n){var i=n("23e7"),r=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),u=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,i=o(e),r=s.f,c=a(i),l={},d=0;while(c.length>d)n=r(i,t=c[d++]),void 0!==n&&u(l,t,n);return l}})},dca8:function(e,t,n){var i=n("23e7"),r=n("bb2f"),a=n("d039"),o=n("861d"),s=n("f183").onFreeze,u=Object.freeze,c=a((function(){u(1)}));i({target:"Object",stat:!0,forced:c,sham:!r},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},ddb0:function(e,t,n){var i=n("da84"),r=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var d in r){var f=i[d],h=f&&f.prototype;if(h){if(h[u]!==l)try{o(h,u,l)}catch(g){h[u]=l}if(h[c]||o(h,c,d),r[d])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(g){h[p]=a[p]}}}},e01a:function(e,t,n){"use strict";var i=n("23e7"),r=n("83ab"),a=n("da84"),o=n("5135"),s=n("861d"),u=n("9bf2").f,c=n("e893"),l=a.Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};c(f,l);var h=f.prototype=l.prototype;h.constructor=f;var p=h.toString,g="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:f})}},e04d:function(e,t,n){},e439:function(e,t,n){var i=n("23e7"),r=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),u=r((function(){o(1)})),c=!s||u;i({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e538:function(e,t,n){var i=n("b622");t.f=i},e58c:function(e,t,n){"use strict";var i=n("fc6a"),r=n("a691"),a=n("50c4"),o=n("a640"),s=n("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),h=l||!d||!f;e.exports=h?function(e){if(l)return c.apply(this,arguments)||0;var t=i(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,r(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},e67a:function(e,t,n){},e91f:function(e,t,n){"use strict";var i=n("ebb5"),r=n("4d64").indexOf,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("indexOf",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,n){"use strict";var i,r=n("a981"),a=n("83ab"),o=n("da84"),s=n("861d"),u=n("5135"),c=n("f5df"),l=n("9112"),d=n("6eeb"),f=n("9bf2").f,h=n("e163"),p=n("d2bb"),g=n("b622"),m=n("90e3"),v=o.Int8Array,b=v&&v.prototype,y=o.Uint8ClampedArray,w=y&&y.prototype,T=v&&h(v),S=b&&h(b),k=Object.prototype,E=k.isPrototypeOf,A=g("toStringTag"),x=m("TYPED_ARRAY_TAG"),I=r&&!!p&&"Opera"!==c(o.opera),C=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){var t=c(e);return"DataView"===t||u(M,t)},R=function(e){return s(e)&&u(M,c(e))},N=function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},D=function(e){if(p){if(E.call(T,e))return e}else for(var t in M)if(u(M,i)){var n=o[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},O=function(e,t,n){if(a){if(n)for(var i in M){var r=o[i];r&&u(r.prototype,e)&&delete r.prototype[e]}S[e]&&!n||d(S,e,n?t:I&&b[e]||t)}},L=function(e,t,n){var i,r;if(a){if(p){if(n)for(i in M)r=o[i],r&&u(r,e)&&delete r[e];if(T[e]&&!n)return;try{return d(T,e,n?t:I&&v[e]||t)}catch(s){}}for(i in M)r=o[i],!r||r[e]&&!n||d(r,e,t)}};for(i in M)o[i]||(I=!1);if((!I||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},I))for(i in M)o[i]&&p(o[i],T);if((!I||!S||S===k)&&(S=T.prototype,I))for(i in M)o[i]&&p(o[i].prototype,S);if(I&&h(w)!==S&&p(w,S),a&&!u(S,A))for(i in C=!0,f(S,A,{get:function(){return s(this)?this[x]:void 0}}),M)o[i]&&l(o[i],x,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:C&&x,aTypedArray:N,aTypedArrayConstructor:D,exportTypedArrayMethod:O,exportTypedArrayStaticMethod:L,isView:P,isTypedArray:R,TypedArray:T,TypedArrayPrototype:S}},ecda:function(e,t,n){"use strict";var i=n("003c"),r=n.n(i);r.a},f183:function(e,t,n){var i=n("d012"),r=n("861d"),a=n("5135"),o=n("9bf2").f,s=n("90e3"),u=n("bb2f"),c=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[c].objectID},p=function(e,t){if(!a(e,c)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[c].weakData},g=function(e){return u&&m.REQUIRED&&d(e)&&!a(e,c)&&f(e),e},m=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:g};i[c]=!0},f8cd:function(e,t,n){var i=n("a691");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fb2c:function(e,t,n){var i=n("74e8");i("Uint32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},fb6a:function(e,t,n){"use strict";var i=n("23e7"),r=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),u=n("fc6a"),c=n("8418"),l=n("b622"),d=n("1dde"),f=n("ae40"),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),m=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,i,l,d=u(this),f=s(d.length),h=o(e,f),p=o(void 0===t?f:t,f);if(a(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(d,h,p);for(i=new(void 0===n?Array:n)(v(p-h,0)),l=0;h<p;h++,l++)h in d&&c(i,l,d[h]);return i.length=l,i}})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=about.052957a3.js.map